(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();function eb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var wd={exports:{}},yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function nb(){if(v0)return yl;v0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var g in l)g!=="key"&&(h[g]=l[g])}else h=l;return l=h.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:h}}return yl.Fragment=t,yl.jsx=i,yl.jsxs=i,yl}var E0;function ib(){return E0||(E0=1,wd.exports=nb()),wd.exports}var A=ib(),Rd={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function sb(){if(T0)return wt;T0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),N=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=N&&x[N]||x["@@iterator"],typeof x=="function"?x:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,et={};function G(x,$,rt){this.props=x,this.context=$,this.refs=et,this.updater=rt||z}G.prototype.isReactComponent={},G.prototype.setState=function(x,$){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,$,"setState")},G.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function lt(){}lt.prototype=G.prototype;function ft(x,$,rt){this.props=x,this.context=$,this.refs=et,this.updater=rt||z}var J=ft.prototype=new lt;J.constructor=ft,X(J,G.prototype),J.isPureReactComponent=!0;var yt=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},Rt=Object.prototype.hasOwnProperty;function M(x,$,rt,nt,mt,Ct){return rt=Ct.ref,{$$typeof:s,type:x,key:$,ref:rt!==void 0?rt:null,props:Ct}}function w(x,$){return M(x.type,$,void 0,void 0,void 0,x.props)}function I(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function O(x){var $={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(rt){return $[rt]})}var V=/\/+/g;function P(x,$){return typeof x=="object"&&x!==null&&x.key!=null?O(""+x.key):$.toString(36)}function C(){}function ke(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(C,C):(x.status="pending",x.then(function($){x.status==="pending"&&(x.status="fulfilled",x.value=$)},function($){x.status==="pending"&&(x.status="rejected",x.reason=$)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function ae(x,$,rt,nt,mt){var Ct=typeof x;(Ct==="undefined"||Ct==="boolean")&&(x=null);var bt=!1;if(x===null)bt=!0;else switch(Ct){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(x.$$typeof){case s:case t:bt=!0;break;case b:return bt=x._init,ae(bt(x._payload),$,rt,nt,mt)}}if(bt)return mt=mt(x),bt=nt===""?"."+P(x,0):nt,yt(mt)?(rt="",bt!=null&&(rt=bt.replace(V,"$&/")+"/"),ae(mt,$,rt,"",function(Bn){return Bn})):mt!=null&&(I(mt)&&(mt=w(mt,rt+(mt.key==null||x&&x.key===mt.key?"":(""+mt.key).replace(V,"$&/")+"/")+bt)),$.push(mt)),1;bt=0;var Ce=nt===""?".":nt+":";if(yt(x))for(var Jt=0;Jt<x.length;Jt++)nt=x[Jt],Ct=Ce+P(nt,Jt),bt+=ae(nt,$,rt,Ct,mt);else if(Jt=S(x),typeof Jt=="function")for(x=Jt.call(x),Jt=0;!(nt=x.next()).done;)nt=nt.value,Ct=Ce+P(nt,Jt++),bt+=ae(nt,$,rt,Ct,mt);else if(Ct==="object"){if(typeof x.then=="function")return ae(ke(x),$,rt,nt,mt);throw $=String(x),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return bt}function F(x,$,rt){if(x==null)return x;var nt=[],mt=0;return ae(x,nt,"","",function(Ct){return $.call(rt,Ct,mt++)}),nt}function st(x){if(x._status===-1){var $=x._result;$=$(),$.then(function(rt){(x._status===0||x._status===-1)&&(x._status=1,x._result=rt)},function(rt){(x._status===0||x._status===-1)&&(x._status=2,x._result=rt)}),x._status===-1&&(x._status=0,x._result=$)}if(x._status===1)return x._result.default;throw x._result}var dt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function zt(){}return wt.Children={map:F,forEach:function(x,$,rt){F(x,function(){$.apply(this,arguments)},rt)},count:function(x){var $=0;return F(x,function(){$++}),$},toArray:function(x){return F(x,function($){return $})||[]},only:function(x){if(!I(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},wt.Component=G,wt.Fragment=i,wt.Profiler=l,wt.PureComponent=ft,wt.StrictMode=r,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,wt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return ht.H.useMemoCache(x)}},wt.cache=function(x){return function(){return x.apply(null,arguments)}},wt.cloneElement=function(x,$,rt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var nt=X({},x.props),mt=x.key,Ct=void 0;if($!=null)for(bt in $.ref!==void 0&&(Ct=void 0),$.key!==void 0&&(mt=""+$.key),$)!Rt.call($,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&$.ref===void 0||(nt[bt]=$[bt]);var bt=arguments.length-2;if(bt===1)nt.children=rt;else if(1<bt){for(var Ce=Array(bt),Jt=0;Jt<bt;Jt++)Ce[Jt]=arguments[Jt+2];nt.children=Ce}return M(x.type,mt,void 0,void 0,Ct,nt)},wt.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:h,_context:x},x},wt.createElement=function(x,$,rt){var nt,mt={},Ct=null;if($!=null)for(nt in $.key!==void 0&&(Ct=""+$.key),$)Rt.call($,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(mt[nt]=$[nt]);var bt=arguments.length-2;if(bt===1)mt.children=rt;else if(1<bt){for(var Ce=Array(bt),Jt=0;Jt<bt;Jt++)Ce[Jt]=arguments[Jt+2];mt.children=Ce}if(x&&x.defaultProps)for(nt in bt=x.defaultProps,bt)mt[nt]===void 0&&(mt[nt]=bt[nt]);return M(x,Ct,void 0,void 0,null,mt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(x){return{$$typeof:g,render:x}},wt.isValidElement=I,wt.lazy=function(x){return{$$typeof:b,_payload:{_status:-1,_result:x},_init:st}},wt.memo=function(x,$){return{$$typeof:_,type:x,compare:$===void 0?null:$}},wt.startTransition=function(x){var $=ht.T,rt={};ht.T=rt;try{var nt=x(),mt=ht.S;mt!==null&&mt(rt,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(zt,dt)}catch(Ct){dt(Ct)}finally{ht.T=$}},wt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},wt.use=function(x){return ht.H.use(x)},wt.useActionState=function(x,$,rt){return ht.H.useActionState(x,$,rt)},wt.useCallback=function(x,$){return ht.H.useCallback(x,$)},wt.useContext=function(x){return ht.H.useContext(x)},wt.useDebugValue=function(){},wt.useDeferredValue=function(x,$){return ht.H.useDeferredValue(x,$)},wt.useEffect=function(x,$,rt){var nt=ht.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(x,$)},wt.useId=function(){return ht.H.useId()},wt.useImperativeHandle=function(x,$,rt){return ht.H.useImperativeHandle(x,$,rt)},wt.useInsertionEffect=function(x,$){return ht.H.useInsertionEffect(x,$)},wt.useLayoutEffect=function(x,$){return ht.H.useLayoutEffect(x,$)},wt.useMemo=function(x,$){return ht.H.useMemo(x,$)},wt.useOptimistic=function(x,$){return ht.H.useOptimistic(x,$)},wt.useReducer=function(x,$,rt){return ht.H.useReducer(x,$,rt)},wt.useRef=function(x){return ht.H.useRef(x)},wt.useState=function(x){return ht.H.useState(x)},wt.useSyncExternalStore=function(x,$,rt){return ht.H.useSyncExternalStore(x,$,rt)},wt.useTransition=function(){return ht.H.useTransition()},wt.version="19.1.1",wt}var b0;function ym(){return b0||(b0=1,Rd.exports=sb()),Rd.exports}var tt=ym();const rb=eb(tt);var Id={exports:{}},_l={},Cd={exports:{}},Nd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function ab(){return A0||(A0=1,(function(s){function t(F,st){var dt=F.length;F.push(st);t:for(;0<dt;){var zt=dt-1>>>1,x=F[zt];if(0<l(x,st))F[zt]=st,F[dt]=x,dt=zt;else break t}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var st=F[0],dt=F.pop();if(dt!==st){F[0]=dt;t:for(var zt=0,x=F.length,$=x>>>1;zt<$;){var rt=2*(zt+1)-1,nt=F[rt],mt=rt+1,Ct=F[mt];if(0>l(nt,dt))mt<x&&0>l(Ct,nt)?(F[zt]=Ct,F[mt]=dt,zt=mt):(F[zt]=nt,F[rt]=dt,zt=rt);else if(mt<x&&0>l(Ct,dt))F[zt]=Ct,F[mt]=dt,zt=mt;else break t}}return st}function l(F,st){var dt=F.sortIndex-st.sortIndex;return dt!==0?dt:F.id-st.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var p=[],_=[],b=1,N=null,S=3,z=!1,X=!1,et=!1,G=!1,lt=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function yt(F){for(var st=i(_);st!==null;){if(st.callback===null)r(_);else if(st.startTime<=F)r(_),st.sortIndex=st.expirationTime,t(p,st);else break;st=i(_)}}function ht(F){if(et=!1,yt(F),!X)if(i(p)!==null)X=!0,Rt||(Rt=!0,P());else{var st=i(_);st!==null&&ae(ht,st.startTime-F)}}var Rt=!1,M=-1,w=5,I=-1;function O(){return G?!0:!(s.unstable_now()-I<w)}function V(){if(G=!1,Rt){var F=s.unstable_now();I=F;var st=!0;try{t:{X=!1,et&&(et=!1,ft(M),M=-1),z=!0;var dt=S;try{e:{for(yt(F),N=i(p);N!==null&&!(N.expirationTime>F&&O());){var zt=N.callback;if(typeof zt=="function"){N.callback=null,S=N.priorityLevel;var x=zt(N.expirationTime<=F);if(F=s.unstable_now(),typeof x=="function"){N.callback=x,yt(F),st=!0;break e}N===i(p)&&r(p),yt(F)}else r(p);N=i(p)}if(N!==null)st=!0;else{var $=i(_);$!==null&&ae(ht,$.startTime-F),st=!1}}break t}finally{N=null,S=dt,z=!1}st=void 0}}finally{st?P():Rt=!1}}}var P;if(typeof J=="function")P=function(){J(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ke=C.port2;C.port1.onmessage=V,P=function(){ke.postMessage(null)}}else P=function(){lt(V,0)};function ae(F,st){M=lt(function(){F(s.unstable_now())},st)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(F){switch(S){case 1:case 2:case 3:var st=3;break;default:st=S}var dt=S;S=st;try{return F()}finally{S=dt}},s.unstable_requestPaint=function(){G=!0},s.unstable_runWithPriority=function(F,st){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var dt=S;S=F;try{return st()}finally{S=dt}},s.unstable_scheduleCallback=function(F,st,dt){var zt=s.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?zt+dt:zt):dt=zt,F){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=dt+x,F={id:b++,callback:st,priorityLevel:F,startTime:dt,expirationTime:x,sortIndex:-1},dt>zt?(F.sortIndex=dt,t(_,F),i(p)===null&&F===i(_)&&(et?(ft(M),M=-1):et=!0,ae(ht,dt-zt))):(F.sortIndex=x,t(p,F),X||z||(X=!0,Rt||(Rt=!0,P()))),F},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(F){var st=S;return function(){var dt=S;S=st;try{return F.apply(this,arguments)}finally{S=dt}}}})(Nd)),Nd}var S0;function ob(){return S0||(S0=1,Cd.exports=ab()),Cd.exports}var xd={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function lb(){if(w0)return Qe;w0=1;var s=ym();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(p,_,b){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:N==null?null:""+N,children:p,containerInfo:_,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(p,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return h(p,_,null,b)},Qe.flushSync=function(p){var _=d.T,b=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=_,r.p=b,r.d.f()}},Qe.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(p,_))},Qe.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Qe.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var b=_.as,N=g(b,_.crossOrigin),S=typeof _.integrity=="string"?_.integrity:void 0,z=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?r.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:N,integrity:S,fetchPriority:z}):b==="script"&&r.d.X(p,{crossOrigin:N,integrity:S,fetchPriority:z,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=g(_.as,_.crossOrigin);r.d.M(p,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(p)},Qe.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,N=g(b,_.crossOrigin);r.d.L(p,b,{crossOrigin:N,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(p,_){if(typeof p=="string")if(_){var b=g(_.as,_.crossOrigin);r.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(p)},Qe.requestFormReset=function(p){r.d.r(p)},Qe.unstable_batchedUpdates=function(p,_){return p(_)},Qe.useFormState=function(p,_,b){return d.H.useFormState(p,_,b)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var R0;function ub(){if(R0)return xd.exports;R0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),xd.exports=lb(),xd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function cb(){if(I0)return _l;I0=1;var s=ob(),t=ym(),i=ub();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(r(188))}function p(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){a=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),e;if(f===o)return g(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=c,o=f;else{for(var v=!1,E=c.child;E;){if(E===a){v=!0,a=c,o=f;break}if(E===o){v=!0,o=c,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,o=c;break}if(E===o){v=!0,o=f,a=c;break}E=E.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function _(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=_(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),lt=Symbol.for("react.provider"),ft=Symbol.for("react.consumer"),J=Symbol.for("react.context"),yt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function ke(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case G:return"Profiler";case et:return"StrictMode";case ht:return"Suspense";case Rt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case J:return(e.displayName||"Context")+".Provider";case ft:return(e._context.displayName||"Context")+".Consumer";case yt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return n=e.displayName||null,n!==null?n:ke(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return ke(e(n))}catch{}}return null}var ae=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},zt=[],x=-1;function $(e){return{current:e}}function rt(e){0>x||(e.current=zt[x],zt[x]=null,x--)}function nt(e,n){x++,zt[x]=e.current,e.current=n}var mt=$(null),Ct=$(null),bt=$(null),Ce=$(null);function Jt(e,n){switch(nt(bt,n),nt(Ct,e),nt(mt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Qy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Qy(n),e=Xy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}rt(mt),nt(mt,e)}function Bn(){rt(mt),rt(Ct),rt(bt)}function Wi(e){e.memoizedState!==null&&nt(Ce,e);var n=mt.current,a=Xy(n,e.type);n!==a&&(nt(Ct,e),nt(mt,a))}function yi(e){Ct.current===e&&(rt(mt),rt(Ct)),Ce.current===e&&(rt(Ce),fl._currentValue=dt)}var Xs=Object.prototype.hasOwnProperty,Ys=s.unstable_scheduleCallback,Zs=s.unstable_cancelCallback,lo=s.unstable_shouldYield,Zl=s.unstable_requestPaint,_n=s.unstable_now,Sh=s.unstable_getCurrentPriorityLevel,uo=s.unstable_ImmediatePriority,Gr=s.unstable_UserBlockingPriority,$s=s.unstable_NormalPriority,wh=s.unstable_LowPriority,Fr=s.unstable_IdlePriority,co=s.log,$l=s.unstable_setDisableYieldValue,oe=null,Gt=null;function ln(e){if(typeof co=="function"&&$l(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(oe,e)}catch{}}var Fe=Math.clz32?Math.clz32:Js,Jl=Math.log,Rh=Math.LN2;function Js(e){return e>>>=0,e===0?32:31-(Jl(e)/Rh|0)|0}var Ws=256,tr=4194304;function Vn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Kr(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=Vn(o):(v&=E,v!==0?c=Vn(v):a||(a=E&~e,a!==0&&(c=Vn(a))))):(E=o&~f,E!==0?c=Vn(E):v!==0?c=Vn(v):a||(a=o&~e,a!==0&&(c=Vn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function er(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ho(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fo(){var e=Ws;return Ws<<=1,(Ws&4194048)===0&&(Ws=256),e}function mo(){var e=tr;return tr<<=1,(tr&62914560)===0&&(tr=4194304),e}function _i(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function vi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function go(e,n,a,o,c,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,j=e.hiddenUpdates;for(a=v&~a;0<a;){var K=31-Fe(a),Y=1<<K;E[K]=0,R[K]=-1;var B=j[K];if(B!==null)for(j[K]=null,K=0;K<B.length;K++){var q=B[K];q!==null&&(q.lane&=-536870913)}a&=~Y}o!==0&&qn(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~n))}function qn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function po(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Fe(a),c=1<<o;c&n|e[o]&n&&(e[o]|=n),a&=~c}}function ts(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function es(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:d0(e.type))}function Wl(e,n){var a=st.p;try{return st.p=e,n()}finally{st.p=a}}var ne=Math.random().toString(36).slice(2),Te="__reactFiber$"+ne,me="__reactProps$"+ne,vn="__reactContainer$"+ne,yo="__reactEvents$"+ne,Ih="__reactListeners$"+ne,ns="__reactHandles$"+ne,tu="__reactResources$"+ne,nr="__reactMarker$"+ne;function is(e){delete e[Te],delete e[me],delete e[yo],delete e[Ih],delete e[ns]}function Ei(e){var n=e[Te];if(n)return n;for(var a=e.parentNode;a;){if(n=a[vn]||a[Te]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Jy(e);e!==null;){if(a=e[Te])return a;e=Jy(e)}return n}e=a,a=e.parentNode}return null}function Hn(e){if(e=e[Te]||e[vn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Gn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Je(e){var n=e[tu];return n||(n=e[tu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(e){e[nr]=!0}var _o=new Set,Xr={};function kn(e,n){Ti(e,n),Ti(e+"Capture",n)}function Ti(e,n){for(Xr[e]=n,e=0;e<n.length;e++)_o.add(n[e])}var eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nu={},ir={};function iu(e){return Xs.call(ir,e)?!0:Xs.call(nu,e)?!1:eu.test(e)?ir[e]=!0:(nu[e]=!0,!1)}function ss(e,n,a){if(iu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Fn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Pe(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}var sr,su;function bi(e){if(sr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);sr=n&&n[1]||"",su=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sr+e+su}var Yr=!1;function Zr(e,n){if(!e||Yr)return"";Yr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var B=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){B=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){B=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var R=v.split(`
`),j=E.split(`
`);for(c=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(o===R.length||c===j.length)for(o=R.length-1,c=j.length-1;1<=o&&0<=c&&R[o]!==j[c];)c--;for(;1<=o&&0<=c;o--,c--)if(R[o]!==j[c]){if(o!==1||c!==1)do if(o--,c--,0>c||R[o]!==j[c]){var K=`
`+R[o].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=o&&0<=c);break}}}finally{Yr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?bi(a):""}function vo(e){switch(e.tag){case 26:case 27:case 5:return bi(e.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Zr(e.type,!1);case 11:return Zr(e.type.render,!1);case 1:return Zr(e.type,!0);case 31:return bi("Activity");default:return""}}function $r(e){try{var n="";do n+=vo(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Eo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ch(e){var n=Eo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jr(e){e._valueTracker||(e._valueTracker=Ch(e))}function To(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Eo(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function rr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Nh=/[\n"\\]/g;function ge(e){return e.replace(Nh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function un(e,n,a,o,c,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+We(n)):e.value!==""+We(n)&&(e.value=""+We(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?rs(e,v,We(n)):a!=null?rs(e,v,We(a)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+We(E):e.removeAttribute("name")}function ar(e,n,a,o,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+We(a):"",n=n!=null?""+We(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function rs(e,n,a){n==="number"&&rr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ai(e,n,a,o){if(e=e.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=n.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&o&&(e[a].defaultSelected=!0)}else{for(a=""+We(a),n=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Qt(e,n,a){if(n!=null&&(n=""+We(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+We(a):""}function or(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(ae(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=We(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function En(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var lr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ru(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||lr.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function bo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&a[c]!==o&&ru(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&ru(e,f,n[f])}function Ao(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wr(e){return Dh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Si=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wi=null,Ri=null;function So(e){var n=Hn(e);if(n&&(e=n.stateNode)){var a=e[me]||null;t:switch(e=n.stateNode,n.type){case"input":if(un(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var c=o[me]||null;if(!c)throw Error(r(90));un(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&To(o)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ai(e,!!a.multiple,n,!1)}}}var Kn=!1;function au(e,n,a){if(Kn)return e(n,a);Kn=!0;try{var o=e(n);return o}finally{if(Kn=!1,(wi!==null||Ri!==null)&&(Wu(),wi&&(n=wi,e=Ri,Ri=wi=null,So(n),e)))for(n=0;n<e.length;n++)So(e[n])}}function ur(e,n){var a=e.stateNode;if(a===null)return null;var o=a[me]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bn=!1;if(Pn)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){bn=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{bn=!1}var Qn=null,as=null,Ii=null;function wo(){if(Ii)return Ii;var e,n=as,a=n.length,o,c="value"in Qn?Qn.value:Qn.textContent,f=c.length;for(e=0;e<a&&n[e]===c[e];e++);var v=a-e;for(o=1;o<=v&&n[a-o]===c[f-o];o++);return Ii=c.slice(e,1<o?1-o:void 0)}function Xn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Yn(){return!0}function Ro(){return!1}function Ne(e){function n(a,o,c,f,v){this._reactName=a,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yn:Ro,this.isPropagationStopped=Ro,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=Ne(qt),hr=b({},qt,{view:0,detail:0}),ou=Ne(hr),ea,na,Zn,fr=b({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zn&&(Zn&&e.type==="mousemove"?(ea=e.screenX-Zn.screenX,na=e.screenY-Zn.screenY):na=ea=0,Zn=e),ea)},movementY:function(e){return"movementY"in e?e.movementY:na}}),An=Ne(fr),lu=b({},fr,{dataTransfer:0}),Oh=Ne(lu),dr=b({},hr,{relatedTarget:0}),ia=Ne(dr),Io=b({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),sa=Ne(Io),uu=b({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ra=Ne(uu),Mh=b({},qt,{data:0}),Co=Ne(Mh),mr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function No(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=hu[e])?!!n[e]:!1}function gr(){return No}var fu=b({},hr,{key:function(e){if(e.key){var n=mr[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Xn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(e){return e.type==="keypress"?Xn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aa=Ne(fu),du=b({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xo=Ne(du),Ci=b({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),mu=Ne(Ci),gu=b({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),pu=Ne(gu),yu=b({},fr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oa=Ne(yu),tn=b({},qt,{newState:0,oldState:0}),_u=Ne(tn),vu=[9,13,27,32],$n=Pn&&"CompositionEvent"in window,u=null;Pn&&"documentMode"in document&&(u=document.documentMode);var m=Pn&&"TextEvent"in window&&!u,y=Pn&&(!$n||u&&8<u&&11>=u),T=" ",U=!1;function H(e,n){switch(e){case"keyup":return vu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kt=!1;function be(e,n){switch(e){case"compositionend":return it(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return e=n.data,e===T&&U?null:e;default:return null}}function Pt(e,n){if(kt)return e==="compositionend"||!$n&&H(e,n)?(e=wo(),Ii=as=Qn=null,kt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return y&&n.locale!=="ko"?null:n.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!xe[e.type]:n==="textarea"}function Ni(e,n,a,o){wi?Ri?Ri.push(o):Ri=[o]:wi=o,n=rc(n,"onChange"),0<n.length&&(a=new ta("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Ue=null,Jn=null;function Do(e){qy(e,0)}function Eu(e){var n=Gn(e);if(To(n))return e}function ug(e,n){if(e==="change")return n}var cg=!1;if(Pn){var Vh;if(Pn){var kh="oninput"in document;if(!kh){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),kh=typeof hg.oninput=="function"}Vh=kh}else Vh=!1;cg=Vh&&(!document.documentMode||9<document.documentMode)}function fg(){Ue&&(Ue.detachEvent("onpropertychange",dg),Jn=Ue=null)}function dg(e){if(e.propertyName==="value"&&Eu(Jn)){var n=[];Ni(n,Jn,e,Tn(e)),au(Do,n)}}function DE(e,n,a){e==="focusin"?(fg(),Ue=n,Jn=a,Ue.attachEvent("onpropertychange",dg)):e==="focusout"&&fg()}function OE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eu(Jn)}function ME(e,n){if(e==="click")return Eu(n)}function VE(e,n){if(e==="input"||e==="change")return Eu(n)}function kE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var cn=typeof Object.is=="function"?Object.is:kE;function Oo(e,n){if(cn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var c=a[o];if(!Xs.call(n,c)||!cn(e[c],n[c]))return!1}return!0}function mg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gg(e,n){var a=mg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=mg(a)}}function pg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?pg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function yg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=rr(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=rr(e.document)}return n}function Ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var PE=Pn&&"documentMode"in document&&11>=document.documentMode,la=null,Uh=null,Mo=null,Lh=!1;function _g(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lh||la==null||la!==rr(o)||(o=la,"selectionStart"in o&&Ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mo&&Oo(Mo,o)||(Mo=o,o=rc(Uh,"onSelect"),0<o.length&&(n=new ta("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=la)))}function pr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ua={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},jh={},vg={};Pn&&(vg=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function yr(e){if(jh[e])return jh[e];if(!ua[e])return e;var n=ua[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in vg)return jh[e]=n[a];return e}var Eg=yr("animationend"),Tg=yr("animationiteration"),bg=yr("animationstart"),UE=yr("transitionrun"),LE=yr("transitionstart"),jE=yr("transitioncancel"),Ag=yr("transitionend"),Sg=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function Un(e,n){Sg.set(e,n),kn(n,[e])}var wg=new WeakMap;function Sn(e,n){if(typeof e=="object"&&e!==null){var a=wg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:$r(n)},wg.set(e,n),n)}return{value:e,source:n,stack:$r(n)}}var wn=[],ca=0,Bh=0;function Tu(){for(var e=ca,n=Bh=ca=0;n<e;){var a=wn[n];wn[n++]=null;var o=wn[n];wn[n++]=null;var c=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,o!==null&&c!==null){var v=o.pending;v===null?c.next=c:(c.next=v.next,v.next=c),o.pending=c}f!==0&&Rg(a,c,f)}}function bu(e,n,a,o){wn[ca++]=e,wn[ca++]=n,wn[ca++]=a,wn[ca++]=o,Bh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qh(e,n,a,o){return bu(e,n,a,o),Au(e)}function ha(e,n){return bu(e,null,null,n),Au(e)}function Rg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var c=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-Fe(a),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=a|536870912),f):null}function Au(e){if(50<sl)throw sl=0,Yf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={};function zE(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,n,a,o){return new zE(e,n,a,o)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,n){var a=e.alternate;return a===null?(a=hn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ig(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Su(e,n,a,o,c,f){var v=0;if(o=e,typeof e=="function")Hh(e)&&(v=1);else if(typeof e=="string")v=qT(e,a,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=hn(31,a,n,c),e.elementType=I,e.lanes=f,e;case X:return _r(a.children,c,f,n);case et:v=8,c|=24;break;case G:return e=hn(12,a,n,c|2),e.elementType=G,e.lanes=f,e;case ht:return e=hn(13,a,n,c),e.elementType=ht,e.lanes=f,e;case Rt:return e=hn(19,a,n,c),e.elementType=Rt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:case J:v=10;break t;case ft:v=9;break t;case yt:v=11;break t;case M:v=14;break t;case w:v=16,o=null;break t}v=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=hn(v,a,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function _r(e,n,a,o){return e=hn(7,e,o,n),e.lanes=a,e}function Gh(e,n,a){return e=hn(6,e,null,n),e.lanes=a,e}function Fh(e,n,a){return n=hn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var da=[],ma=0,wu=null,Ru=0,Rn=[],In=0,vr=null,Di=1,Oi="";function Er(e,n){da[ma++]=Ru,da[ma++]=wu,wu=e,Ru=n}function Cg(e,n,a){Rn[In++]=Di,Rn[In++]=Oi,Rn[In++]=vr,vr=e;var o=Di;e=Oi;var c=32-Fe(o)-1;o&=~(1<<c),a+=1;var f=32-Fe(n)+c;if(30<f){var v=c-c%5;f=(o&(1<<v)-1).toString(32),o>>=v,c-=v,Di=1<<32-Fe(n)+c|a<<c|o,Oi=f+e}else Di=1<<f|a<<c|o,Oi=e}function Kh(e){e.return!==null&&(Er(e,1),Cg(e,1,0))}function Qh(e){for(;e===wu;)wu=da[--ma],da[ma]=null,Ru=da[--ma],da[ma]=null;for(;e===vr;)vr=Rn[--In],Rn[In]=null,Oi=Rn[--In],Rn[In]=null,Di=Rn[--In],Rn[In]=null}var en=null,le=null,Bt=!1,Tr=null,Wn=!1,Xh=Error(r(519));function br(e){var n=Error(r(418,""));throw Po(Sn(n,e)),Xh}function Ng(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Te]=e,n[me]=o,a){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(a=0;a<al.length;a++)Dt(al[a],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),ar(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Jr(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),or(n,o.value,o.defaultValue,o.children),Jr(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||Ky(n.textContent,a)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=ac),n=!0):n=!1,n||br(e)}function xg(e){for(en=e.return;en;)switch(en.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:en=en.return}}function Vo(e){if(e!==en)return!1;if(!Bt)return xg(e),Bt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||hd(e.type,e.memoizedProps)),a=!a),a&&le&&br(e),xg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){le=jn(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}le=null}}else n===27?(n=le,bs(e.type)?(e=gd,gd=null,le=e):le=n):le=en?jn(e.stateNode.nextSibling):null;return!0}function ko(){le=en=null,Bt=!1}function Dg(){var e=Tr;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),Tr=null),e}function Po(e){Tr===null?Tr=[e]:Tr.push(e)}var Yh=$(null),Ar=null,Mi=null;function os(e,n,a){nt(Yh,n._currentValue),n._currentValue=a}function Vi(e){e._currentValue=Yh.current,rt(Yh)}function Zh(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function $h(e,n,a,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Zh(f.return,a,e),o||(v=null);break t}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(r(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Zh(v,a,e),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===e){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function Uo(e,n,a,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=c.type;cn(c.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(c===Ce.current){if(v=c.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}c=c.return}e!==null&&$h(n,e,a,o),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sr(e){Ar=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return Og(Ar,e)}function Cu(e,n){return Ar===null&&Sr(e),Og(e,n)}function Og(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Mi===null){if(e===null)throw Error(r(308));Mi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Mi=Mi.next=n;return a}var BE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},qE=s.unstable_scheduleCallback,HE=s.unstable_NormalPriority,Se={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new BE,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&qE(HE,function(){e.controller.abort()})}var jo=null,Wh=0,ga=0,pa=null;function GE(e,n){if(jo===null){var a=jo=[];Wh=0,ga=nd(),pa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Wh++,n.then(Mg,Mg),n}function Mg(){if(--Wh===0&&jo!==null){pa!==null&&(pa.status="fulfilled");var e=jo;jo=null,ga=0,pa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function FE(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),o}var Vg=F.S;F.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&GE(e,n),Vg!==null&&Vg(e,n)};var wr=$(null);function tf(){var e=wr.current;return e!==null?e:Wt.pooledCache}function Nu(e,n){n===null?nt(wr,wr.current):nt(wr,n.pool)}function kg(){var e=tf();return e===null?null:{parent:Se._currentValue,pool:e}}var zo=Error(r(460)),Pg=Error(r(474)),xu=Error(r(542)),ef={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Du(){}function Lg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Du,Du),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zg(e),e;default:if(typeof n.status=="string")n.then(Du,Du);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zg(e),e}throw Bo=n,zo}}var Bo=null;function jg(){if(Bo===null)throw Error(r(459));var e=Bo;return Bo=null,e}function zg(e){if(e===zo||e===xu)throw Error(r(483))}var ls=!1;function nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function us(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function cs(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=Au(e),Rg(e,null,a),n}return bu(e,o,n,a),Au(e)}function qo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,po(e,a)}}function rf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var af=!1;function Ho(){if(af){var e=pa;if(e!==null)throw e}}function Go(e,n,a,o){af=!1;var c=e.updateQueue;ls=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,j=R.next;R.next=null,v===null?f=j:v.next=j,v=R;var K=e.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==v&&(E===null?K.firstBaseUpdate=j:E.next=j,K.lastBaseUpdate=R))}if(f!==null){var Y=c.baseState;v=0,K=j=R=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Ut&B)===B:(o&B)===B){B!==0&&B===ga&&(af=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Et=e,pt=E;B=n;var Zt=a;switch(pt.tag){case 1:if(Et=pt.payload,typeof Et=="function"){Y=Et.call(Zt,Y,B);break t}Y=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=pt.payload,B=typeof Et=="function"?Et.call(Zt,Y,B):Et,B==null)break t;Y=b({},Y,B);break t;case 2:ls=!0}}B=E.callback,B!==null&&(e.flags|=64,q&&(e.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(j=K=q,R=Y):K=K.next=q,v|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);K===null&&(R=Y),c.baseState=R,c.firstBaseUpdate=j,c.lastBaseUpdate=K,f===null&&(c.shared.lanes=0),_s|=v,e.lanes=v,e.memoizedState=Y}}function Bg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function qg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Bg(a[e],n)}var ya=$(null),Ou=$(0);function Hg(e,n){e=Bi,nt(Ou,e),nt(ya,n),Bi=e|n.baseLanes}function of(){nt(Ou,Bi),nt(ya,ya.current)}function lf(){Bi=Ou.current,rt(ya),rt(Ou)}var hs=0,It=null,Xt=null,pe=null,Mu=!1,_a=!1,Rr=!1,Vu=0,Fo=0,va=null,KE=0;function he(){throw Error(r(321))}function uf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!cn(e[a],n[a]))return!1;return!0}function cf(e,n,a,o,c,f){return hs=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Rp:Ip,Rr=!1,f=a(o,c),Rr=!1,_a&&(f=Fg(n,a,o,c)),Gg(e),f}function Gg(e){F.H=zu;var n=Xt!==null&&Xt.next!==null;if(hs=0,pe=Xt=It=null,Mu=!1,Fo=0,va=null,n)throw Error(r(300));e===null||De||(e=e.dependencies,e!==null&&Iu(e)&&(De=!0))}function Fg(e,n,a,o){It=e;var c=0;do{if(_a&&(va=null),Fo=0,_a=!1,25<=c)throw Error(r(301));if(c+=1,pe=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=WE,f=n(a,o)}while(_a);return f}function QE(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Ko(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(It.flags|=1024),n}function hf(){var e=Vu!==0;return Vu=0,e}function ff(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function df(e){if(Mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mu=!1}hs=0,pe=Xt=It=null,_a=!1,Fo=Vu=0,va=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?It.memoizedState=pe=e:pe=pe.next=e,pe}function ye(){if(Xt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=pe===null?It.memoizedState:pe.next;if(n!==null)pe=n,Xt=e;else{if(e===null)throw It.alternate===null?Error(r(467)):Error(r(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},pe===null?It.memoizedState=pe=e:pe=pe.next=e}return pe}function mf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var n=Fo;return Fo+=1,va===null&&(va=[]),e=Lg(va,e,n),n=It,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Rp:Ip),e}function ku(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===J)return Ke(e)}throw Error(r(438,String(e)))}function gf(e){var n=null,a=It.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=mf(),It.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=O;return n.index++,a}function ki(e,n){return typeof n=="function"?n(e):n}function Pu(e){var n=ye();return pf(n,Xt,e)}function pf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=v=null,R=null,j=n,K=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(Ut&Y)===Y:(hs&Y)===Y){var B=j.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===ga&&(K=!0);else if((hs&B)===B){j=j.next,B===ga&&(K=!0);continue}else Y={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=Y,v=f):R=R.next=Y,It.lanes|=B,_s|=B;Y=j.action,Rr&&a(f,Y),f=j.hasEagerState?j.eagerState:a(f,Y)}else B={lane:Y,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=B,v=f):R=R.next=B,It.lanes|=Y,_s|=Y;j=j.next}while(j!==null&&j!==n);if(R===null?v=f:R.next=E,!cn(f,e.memoizedState)&&(De=!0,K&&(a=pa,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=R,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function yf(e){var n=ye(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var v=c=c.next;do f=e(f,v.action),v=v.next;while(v!==c);cn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Kg(e,n,a){var o=It,c=ye(),f=Bt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var v=!cn((Xt||c).memoizedState,a);v&&(c.memoizedState=a,De=!0),c=c.queue;var E=Yg.bind(null,o,c,e);if(Qo(2048,8,E,[e]),c.getSnapshot!==n||v||pe!==null&&pe.memoizedState.tag&1){if(o.flags|=2048,Ea(9,Uu(),Xg.bind(null,o,c,a,n),null),Wt===null)throw Error(r(349));f||(hs&124)!==0||Qg(o,n,a)}return a}function Qg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=It.updateQueue,n===null?(n=mf(),It.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Xg(e,n,a,o){n.value=a,n.getSnapshot=o,Zg(n)&&$g(e)}function Yg(e,n,a){return a(function(){Zg(n)&&$g(e)})}function Zg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!cn(e,a)}catch{return!0}}function $g(e){var n=ha(e,2);n!==null&&pn(n,e,2)}function _f(e){var n=nn();if(typeof e=="function"){var a=e;if(e=a(),Rr){ln(!0);try{a()}finally{ln(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},n}function Jg(e,n,a,o){return e.baseState=a,pf(e,Xt,typeof o=="function"?o:ki)}function XE(e,n,a,o,c){if(ju(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Wg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Wg(e,n){var a=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=F.T,v={};F.T=v;try{var E=a(c,o),R=F.S;R!==null&&R(v,E),tp(e,n,E)}catch(j){vf(e,n,j)}finally{F.T=f}}else try{f=a(c,o),tp(e,n,f)}catch(j){vf(e,n,j)}}function tp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){ep(e,n,o)},function(o){return vf(e,n,o)}):ep(e,n,a)}function ep(e,n,a){n.status="fulfilled",n.value=a,np(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Wg(e,a)))}function vf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,np(n),n=n.next;while(n!==o)}e.action=null}function np(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ip(e,n){return n}function sp(e,n){if(Bt){var a=Wt.formState;if(a!==null){t:{var o=It;if(Bt){if(le){e:{for(var c=le,f=Wn;c.nodeType!==8;){if(!f){c=null;break e}if(c=jn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=jn(c.nextSibling),o=c.data==="F!";break t}}br(o)}o=!1}o&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ip,lastRenderedState:n},a.queue=o,a=Ap.bind(null,It,o),o.dispatch=a,o=_f(!1),f=Sf.bind(null,It,!1,o.queue),o=nn(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,a=XE.bind(null,It,c,f,a),c.dispatch=a,o.memoizedState=e,[n,a,!1]}function rp(e){var n=ye();return ap(n,Xt,e)}function ap(e,n,a){if(n=pf(e,n,ip)[0],e=Pu(ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ko(n)}catch(v){throw v===zo?xu:v}else o=n;n=ye();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(It.flags|=2048,Ea(9,Uu(),YE.bind(null,c,a),null)),[o,f,e]}function YE(e,n){e.action=n}function op(e){var n=ye(),a=Xt;if(a!==null)return ap(n,a,e);ye(),n=n.memoizedState,a=ye();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ea(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=It.updateQueue,n===null&&(n=mf(),It.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Uu(){return{destroy:void 0,resource:void 0}}function lp(){return ye().memoizedState}function Lu(e,n,a,o){var c=nn();o=o===void 0?null:o,It.flags|=e,c.memoizedState=Ea(1|n,Uu(),a,o)}function Qo(e,n,a,o){var c=ye();o=o===void 0?null:o;var f=c.memoizedState.inst;Xt!==null&&o!==null&&uf(o,Xt.memoizedState.deps)?c.memoizedState=Ea(n,f,a,o):(It.flags|=e,c.memoizedState=Ea(1|n,f,a,o))}function up(e,n){Lu(8390656,8,e,n)}function cp(e,n){Qo(2048,8,e,n)}function hp(e,n){return Qo(4,2,e,n)}function fp(e,n){return Qo(4,4,e,n)}function dp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function mp(e,n,a){a=a!=null?a.concat([e]):null,Qo(4,4,dp.bind(null,n,e),a)}function Ef(){}function gp(e,n){var a=ye();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&uf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function pp(e,n){var a=ye();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&uf(n,o[1]))return o[0];if(o=e(),Rr){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[o,n],o}function Tf(e,n,a){return a===void 0||(hs&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=vy(),It.lanes|=e,_s|=e,a)}function yp(e,n,a,o){return cn(a,n)?a:ya.current!==null?(e=Tf(e,a,o),cn(e,n)||(De=!0),e):(hs&42)===0?(De=!0,e.memoizedState=a):(e=vy(),It.lanes|=e,_s|=e,n)}function _p(e,n,a,o,c){var f=st.p;st.p=f!==0&&8>f?f:8;var v=F.T,E={};F.T=E,Sf(e,!1,n,a);try{var R=c(),j=F.S;if(j!==null&&j(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=FE(R,o);Xo(e,n,K,gn(e))}else Xo(e,n,o,gn(e))}catch(Y){Xo(e,n,{then:function(){},status:"rejected",reason:Y},gn())}finally{st.p=f,F.T=v}}function ZE(){}function bf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var c=vp(e).queue;_p(e,c,n,dt,a===null?ZE:function(){return Ep(e),a(o)})}function vp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:dt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ep(e){var n=vp(e).next.queue;Xo(e,n,{},gn())}function Af(){return Ke(fl)}function Tp(){return ye().memoizedState}function bp(){return ye().memoizedState}function $E(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=gn();e=us(a);var o=cs(n,e,a);o!==null&&(pn(o,n,a),qo(o,n,a)),n={cache:Jh()},e.payload=n;return}n=n.return}}function JE(e,n,a){var o=gn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ju(e)?Sp(n,a):(a=qh(e,n,a,o),a!==null&&(pn(a,e,o),wp(a,n,o)))}function Ap(e,n,a){var o=gn();Xo(e,n,a,o)}function Xo(e,n,a,o){var c={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ju(e))Sp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,a);if(c.hasEagerState=!0,c.eagerState=E,cn(E,v))return bu(e,n,c,0),Wt===null&&Tu(),!1}catch{}finally{}if(a=qh(e,n,c,o),a!==null)return pn(a,e,o),wp(a,n,o),!0}return!1}function Sf(e,n,a,o){if(o={lane:2,revertLane:nd(),action:o,hasEagerState:!1,eagerState:null,next:null},ju(e)){if(n)throw Error(r(479))}else n=qh(e,a,o,2),n!==null&&pn(n,e,2)}function ju(e){var n=e.alternate;return e===It||n!==null&&n===It}function Sp(e,n){_a=Mu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function wp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,po(e,a)}}var zu={readContext:Ke,use:ku,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},Rp={readContext:Ke,use:ku,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:Ke,useEffect:up,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Lu(4194308,4,dp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Lu(4194308,4,e,n)},useInsertionEffect:function(e,n){Lu(4,2,e,n)},useMemo:function(e,n){var a=nn();n=n===void 0?null:n;var o=e();if(Rr){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=nn();if(a!==void 0){var c=a(n);if(Rr){ln(!0);try{a(n)}finally{ln(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=JE.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=_f(e);var n=e.queue,a=Ap.bind(null,It,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Ef,useDeferredValue:function(e,n){var a=nn();return Tf(a,e,n)},useTransition:function(){var e=_f(!1);return e=_p.bind(null,It,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=It,c=nn();if(Bt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Wt===null)throw Error(r(349));(Ut&124)!==0||Qg(o,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,up(Yg.bind(null,o,f,e),[e]),o.flags|=2048,Ea(9,Uu(),Xg.bind(null,o,f,a,n),null),a},useId:function(){var e=nn(),n=Wt.identifierPrefix;if(Bt){var a=Oi,o=Di;a=(o&~(1<<32-Fe(o)-1)).toString(32)+a,n="«"+n+"R"+a,a=Vu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=KE++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Af,useFormState:sp,useActionState:sp,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Sf.bind(null,It,!0,a),a.dispatch=n,[e,n]},useMemoCache:gf,useCacheRefresh:function(){return nn().memoizedState=$E.bind(null,It)}},Ip={readContext:Ke,use:ku,useCallback:gp,useContext:Ke,useEffect:cp,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:Pu,useRef:lp,useState:function(){return Pu(ki)},useDebugValue:Ef,useDeferredValue:function(e,n){var a=ye();return yp(a,Xt.memoizedState,e,n)},useTransition:function(){var e=Pu(ki)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:Kg,useId:Tp,useHostTransitionStatus:Af,useFormState:rp,useActionState:rp,useOptimistic:function(e,n){var a=ye();return Jg(a,Xt,e,n)},useMemoCache:gf,useCacheRefresh:bp},WE={readContext:Ke,use:ku,useCallback:gp,useContext:Ke,useEffect:cp,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:yf,useRef:lp,useState:function(){return yf(ki)},useDebugValue:Ef,useDeferredValue:function(e,n){var a=ye();return Xt===null?Tf(a,e,n):yp(a,Xt.memoizedState,e,n)},useTransition:function(){var e=yf(ki)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:Kg,useId:Tp,useHostTransitionStatus:Af,useFormState:op,useActionState:op,useOptimistic:function(e,n){var a=ye();return Xt!==null?Jg(a,Xt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:gf,useCacheRefresh:bp},Ta=null,Yo=0;function Bu(e){var n=Yo;return Yo+=1,Ta===null&&(Ta=[]),Lg(Ta,e,n)}function Zo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function qu(e,n){throw n.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Cp(e){var n=e._init;return n(e._payload)}function Np(e){function n(k,D){if(e){var L=k.deletions;L===null?(k.deletions=[D],k.flags|=16):L.push(D)}}function a(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function c(k,D){return k=xi(k,D),k.index=0,k.sibling=null,k}function f(k,D,L){return k.index=L,e?(L=k.alternate,L!==null?(L=L.index,L<D?(k.flags|=67108866,D):L):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function v(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,L,Q){return D===null||D.tag!==6?(D=Gh(L,k.mode,Q),D.return=k,D):(D=c(D,L),D.return=k,D)}function R(k,D,L,Q){var ot=L.type;return ot===X?K(k,D,L.props.children,Q,L.key):D!==null&&(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===w&&Cp(ot)===D.type)?(D=c(D,L.props),Zo(D,L),D.return=k,D):(D=Su(L.type,L.key,L.props,null,k.mode,Q),Zo(D,L),D.return=k,D)}function j(k,D,L,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Fh(L,k.mode,Q),D.return=k,D):(D=c(D,L.children||[]),D.return=k,D)}function K(k,D,L,Q,ot){return D===null||D.tag!==7?(D=_r(L,k.mode,Q,ot),D.return=k,D):(D=c(D,L),D.return=k,D)}function Y(k,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Gh(""+D,k.mode,L),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case S:return L=Su(D.type,D.key,D.props,null,k.mode,L),Zo(L,D),L.return=k,L;case z:return D=Fh(D,k.mode,L),D.return=k,D;case w:var Q=D._init;return D=Q(D._payload),Y(k,D,L)}if(ae(D)||P(D))return D=_r(D,k.mode,L,null),D.return=k,D;if(typeof D.then=="function")return Y(k,Bu(D),L);if(D.$$typeof===J)return Y(k,Cu(k,D),L);qu(k,D)}return null}function B(k,D,L,Q){var ot=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ot!==null?null:E(k,D,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return L.key===ot?R(k,D,L,Q):null;case z:return L.key===ot?j(k,D,L,Q):null;case w:return ot=L._init,L=ot(L._payload),B(k,D,L,Q)}if(ae(L)||P(L))return ot!==null?null:K(k,D,L,Q,null);if(typeof L.then=="function")return B(k,D,Bu(L),Q);if(L.$$typeof===J)return B(k,D,Cu(k,L),Q);qu(k,L)}return null}function q(k,D,L,Q,ot){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(L)||null,E(D,k,""+Q,ot);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:return k=k.get(Q.key===null?L:Q.key)||null,R(D,k,Q,ot);case z:return k=k.get(Q.key===null?L:Q.key)||null,j(D,k,Q,ot);case w:var Nt=Q._init;return Q=Nt(Q._payload),q(k,D,L,Q,ot)}if(ae(Q)||P(Q))return k=k.get(L)||null,K(D,k,Q,ot,null);if(typeof Q.then=="function")return q(k,D,L,Bu(Q),ot);if(Q.$$typeof===J)return q(k,D,L,Cu(D,Q),ot);qu(D,Q)}return null}function Et(k,D,L,Q){for(var ot=null,Nt=null,ct=D,_t=D=0,Me=null;ct!==null&&_t<L.length;_t++){ct.index>_t?(Me=ct,ct=null):Me=ct.sibling;var jt=B(k,ct,L[_t],Q);if(jt===null){ct===null&&(ct=Me);break}e&&ct&&jt.alternate===null&&n(k,ct),D=f(jt,D,_t),Nt===null?ot=jt:Nt.sibling=jt,Nt=jt,ct=Me}if(_t===L.length)return a(k,ct),Bt&&Er(k,_t),ot;if(ct===null){for(;_t<L.length;_t++)ct=Y(k,L[_t],Q),ct!==null&&(D=f(ct,D,_t),Nt===null?ot=ct:Nt.sibling=ct,Nt=ct);return Bt&&Er(k,_t),ot}for(ct=o(ct);_t<L.length;_t++)Me=q(ct,k,_t,L[_t],Q),Me!==null&&(e&&Me.alternate!==null&&ct.delete(Me.key===null?_t:Me.key),D=f(Me,D,_t),Nt===null?ot=Me:Nt.sibling=Me,Nt=Me);return e&&ct.forEach(function(Is){return n(k,Is)}),Bt&&Er(k,_t),ot}function pt(k,D,L,Q){if(L==null)throw Error(r(151));for(var ot=null,Nt=null,ct=D,_t=D=0,Me=null,jt=L.next();ct!==null&&!jt.done;_t++,jt=L.next()){ct.index>_t?(Me=ct,ct=null):Me=ct.sibling;var Is=B(k,ct,jt.value,Q);if(Is===null){ct===null&&(ct=Me);break}e&&ct&&Is.alternate===null&&n(k,ct),D=f(Is,D,_t),Nt===null?ot=Is:Nt.sibling=Is,Nt=Is,ct=Me}if(jt.done)return a(k,ct),Bt&&Er(k,_t),ot;if(ct===null){for(;!jt.done;_t++,jt=L.next())jt=Y(k,jt.value,Q),jt!==null&&(D=f(jt,D,_t),Nt===null?ot=jt:Nt.sibling=jt,Nt=jt);return Bt&&Er(k,_t),ot}for(ct=o(ct);!jt.done;_t++,jt=L.next())jt=q(ct,k,_t,jt.value,Q),jt!==null&&(e&&jt.alternate!==null&&ct.delete(jt.key===null?_t:jt.key),D=f(jt,D,_t),Nt===null?ot=jt:Nt.sibling=jt,Nt=jt);return e&&ct.forEach(function(tb){return n(k,tb)}),Bt&&Er(k,_t),ot}function Zt(k,D,L,Q){if(typeof L=="object"&&L!==null&&L.type===X&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case S:t:{for(var ot=L.key;D!==null;){if(D.key===ot){if(ot=L.type,ot===X){if(D.tag===7){a(k,D.sibling),Q=c(D,L.props.children),Q.return=k,k=Q;break t}}else if(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===w&&Cp(ot)===D.type){a(k,D.sibling),Q=c(D,L.props),Zo(Q,L),Q.return=k,k=Q;break t}a(k,D);break}else n(k,D);D=D.sibling}L.type===X?(Q=_r(L.props.children,k.mode,Q,L.key),Q.return=k,k=Q):(Q=Su(L.type,L.key,L.props,null,k.mode,Q),Zo(Q,L),Q.return=k,k=Q)}return v(k);case z:t:{for(ot=L.key;D!==null;){if(D.key===ot)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){a(k,D.sibling),Q=c(D,L.children||[]),Q.return=k,k=Q;break t}else{a(k,D);break}else n(k,D);D=D.sibling}Q=Fh(L,k.mode,Q),Q.return=k,k=Q}return v(k);case w:return ot=L._init,L=ot(L._payload),Zt(k,D,L,Q)}if(ae(L))return Et(k,D,L,Q);if(P(L)){if(ot=P(L),typeof ot!="function")throw Error(r(150));return L=ot.call(L),pt(k,D,L,Q)}if(typeof L.then=="function")return Zt(k,D,Bu(L),Q);if(L.$$typeof===J)return Zt(k,D,Cu(k,L),Q);qu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(a(k,D.sibling),Q=c(D,L),Q.return=k,k=Q):(a(k,D),Q=Gh(L,k.mode,Q),Q.return=k,k=Q),v(k)):a(k,D)}return function(k,D,L,Q){try{Yo=0;var ot=Zt(k,D,L,Q);return Ta=null,ot}catch(ct){if(ct===zo||ct===xu)throw ct;var Nt=hn(29,ct,null,k.mode);return Nt.lanes=Q,Nt.return=k,Nt}finally{}}}var ba=Np(!0),xp=Np(!1),Cn=$(null),ti=null;function fs(e){var n=e.alternate;nt(we,we.current&1),nt(Cn,e),ti===null&&(n===null||ya.current!==null||n.memoizedState!==null)&&(ti=e)}function Dp(e){if(e.tag===22){if(nt(we,we.current),nt(Cn,e),ti===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ti=e)}}else ds()}function ds(){nt(we,we.current),nt(Cn,Cn.current)}function Pi(e){rt(Cn),ti===e&&(ti=null),rt(we)}var we=$(0);function Hu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||md(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function wf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:b({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Rf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=gn(),c=us(o);c.payload=n,a!=null&&(c.callback=a),n=cs(e,c,o),n!==null&&(pn(n,e,o),qo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=gn(),c=us(o);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=cs(e,c,o),n!==null&&(pn(n,e,o),qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=gn(),o=us(a);o.tag=2,n!=null&&(o.callback=n),n=cs(e,o,a),n!==null&&(pn(n,e,a),qo(n,e,a))}};function Op(e,n,a,o,c,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):n.prototype&&n.prototype.isPureReactComponent?!Oo(a,o)||!Oo(c,f):!0}function Mp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Rf.enqueueReplaceState(n,n.state,null)}function Ir(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=b({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}var Gu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Vp(e){Gu(e)}function kp(e){console.error(e)}function Pp(e){Gu(e)}function Fu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Up(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function If(e,n,a){return a=us(a),a.tag=3,a.payload={element:null},a.callback=function(){Fu(e,n)},a}function Lp(e){return e=us(e),e.tag=3,e}function jp(e,n,a,o){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){Up(n,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Up(n,a,o),typeof c!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function tT(e,n,a,o,c){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Uo(n,a,c,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ti===null?$f():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=c,o===ef?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Wf(e,o,c)),!1;case 22:return a.flags|=65536,o===ef?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Wf(e,o,c)),!1}throw Error(r(435,a.tag))}return Wf(e,o,c),$f(),!1}if(Bt)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Xh&&(e=Error(r(422),{cause:o}),Po(Sn(e,a)))):(o!==Xh&&(n=Error(r(423),{cause:o}),Po(Sn(n,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=Sn(o,a),c=If(e.stateNode,o,c),rf(e,c),ue!==4&&(ue=2)),!1;var f=Error(r(520),{cause:o});if(f=Sn(f,a),il===null?il=[f]:il.push(f),ue!==4&&(ue=2),n===null)return!0;o=Sn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=If(a.stateNode,o,e),rf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(vs===null||!vs.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Lp(c),jp(c,e,a,o),rf(a,c),!1}a=a.return}while(a!==null);return!1}var zp=Error(r(461)),De=!1;function Le(e,n,a,o){n.child=e===null?xp(n,null,a,o):ba(n,e.child,a,o)}function Bp(e,n,a,o,c){a=a.render;var f=n.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return Sr(n),o=cf(e,n,a,v,f,c),E=hf(),e!==null&&!De?(ff(e,n,c),Ui(e,n,c)):(Bt&&E&&Kh(n),n.flags|=1,Le(e,n,o,c),n.child)}function qp(e,n,a,o,c){if(e===null){var f=a.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Hp(e,n,f,o,c)):(e=Su(a.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!kf(e,c)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Oo,a(v,o)&&e.ref===n.ref)return Ui(e,n,c)}return n.flags|=1,e=xi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Hp(e,n,a,o,c){if(e!==null){var f=e.memoizedProps;if(Oo(f,o)&&e.ref===n.ref)if(De=!1,n.pendingProps=o=f,kf(e,c))(e.flags&131072)!==0&&(De=!0);else return n.lanes=e.lanes,Ui(e,n,c)}return Cf(e,n,a,o,c)}function Gp(e,n,a){var o=n.pendingProps,c=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return Fp(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?Hg(n,f):of(),Dp(n);else return n.lanes=n.childLanes=536870912,Fp(e,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Nu(n,f.cachePool),Hg(n,f),ds(),n.memoizedState=null):(e!==null&&Nu(n,null),of(),ds());return Le(e,n,c,a),n.child}function Fp(e,n,a,o){var c=tf();return c=c===null?null:{parent:Se._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},e!==null&&Nu(n,null),of(),Dp(n),e!==null&&Uo(e,n,o,!0),null}function Ku(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Cf(e,n,a,o,c){return Sr(n),a=cf(e,n,a,o,void 0,c),o=hf(),e!==null&&!De?(ff(e,n,c),Ui(e,n,c)):(Bt&&o&&Kh(n),n.flags|=1,Le(e,n,a,c),n.child)}function Kp(e,n,a,o,c,f){return Sr(n),n.updateQueue=null,a=Fg(n,o,a,c),Gg(e),o=hf(),e!==null&&!De?(ff(e,n,f),Ui(e,n,f)):(Bt&&o&&Kh(n),n.flags|=1,Le(e,n,a,f),n.child)}function Qp(e,n,a,o,c){if(Sr(n),n.stateNode===null){var f=fa,v=a.contextType;typeof v=="object"&&v!==null&&(f=Ke(v)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},nf(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?Ke(v):fa,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(wf(n,a,v,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Rf.enqueueReplaceState(f,f.state,null),Go(n,o,f,c),Ho(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Ir(a,E);f.props=R;var j=f.context,K=a.contextType;v=fa,typeof K=="object"&&K!==null&&(v=Ke(K));var Y=a.getDerivedStateFromProps;K=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==v)&&Mp(n,f,o,v),ls=!1;var B=n.memoizedState;f.state=B,Go(n,o,f,c),Ho(),j=n.memoizedState,E||B!==j||ls?(typeof Y=="function"&&(wf(n,a,Y,o),j=n.memoizedState),(R=ls||Op(n,a,R,o,B,j,v))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=v,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,sf(e,n),v=n.memoizedProps,K=Ir(a,v),f.props=K,Y=n.pendingProps,B=f.context,j=a.contextType,R=fa,typeof j=="object"&&j!==null&&(R=Ke(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Y||B!==R)&&Mp(n,f,o,R),ls=!1,B=n.memoizedState,f.state=B,Go(n,o,f,c),Ho();var q=n.memoizedState;v!==Y||B!==q||ls||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof E=="function"&&(wf(n,a,E,o),q=n.memoizedState),(K=ls||Op(n,a,K,o,B,q,R)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=K):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ba(n,e.child,null,c),n.child=ba(n,null,a,c)):Le(e,n,a,c),n.memoizedState=f.state,e=n.child):e=Ui(e,n,c),e}function Xp(e,n,a,o){return ko(),n.flags|=256,Le(e,n,a,o),n.child}var Nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(e){return{baseLanes:e,cachePool:kg()}}function Df(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Nn),e}function Yp(e,n,a){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(c?fs(n):ds(),Bt){var E=le,R;if(R=E){t:{for(R=E,E=Wn;R.nodeType!==8;){if(!E){E=null;break t}if(R=jn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:vr!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},R=hn(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,en=n,le=null,R=!0):R=!1}R||br(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return md(E)?n.lanes=32:n.lanes=536870912,null;Pi(n)}return E=o.children,o=o.fallback,c?(ds(),c=n.mode,E=Qu({mode:"hidden",children:E},c),o=_r(o,c,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,c=n.child,c.memoizedState=xf(a),c.childLanes=Df(e,v,a),n.memoizedState=Nf,o):(fs(n),Of(n,E))}if(R=e.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(fs(n),n.flags&=-257,n=Mf(e,n,a)):n.memoizedState!==null?(ds(),n.child=e.child,n.flags|=128,n=null):(ds(),c=o.fallback,E=n.mode,o=Qu({mode:"visible",children:o.children},E),c=_r(c,E,a,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,ba(n,e.child,null,a),o=n.child,o.memoizedState=xf(a),o.childLanes=Df(e,v,a),n.memoizedState=Nf,n=c);else if(fs(n),md(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var j=v.dgst;v=j,o=Error(r(419)),o.stack="",o.digest=v,Po({value:o,source:null,stack:null}),n=Mf(e,n,a)}else if(De||Uo(e,n,a,!1),v=(a&e.childLanes)!==0,De||v){if(v=Wt,v!==null&&(o=a&-a,o=(o&42)!==0?1:ts(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==R.retryLane))throw R.retryLane=o,ha(e,o),pn(v,e,o),zp;E.data==="$?"||$f(),n=Mf(e,n,a)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,le=jn(E.nextSibling),en=n,Bt=!0,Tr=null,Wn=!1,e!==null&&(Rn[In++]=Di,Rn[In++]=Oi,Rn[In++]=vr,Di=e.id,Oi=e.overflow,vr=n),n=Of(n,o.children),n.flags|=4096);return n}return c?(ds(),c=o.fallback,E=n.mode,R=e.child,j=R.sibling,o=xi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,j!==null?c=xi(j,c):(c=_r(c,E,a,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,E=e.child.memoizedState,E===null?E=xf(a):(R=E.cachePool,R!==null?(j=Se._currentValue,R=R.parent!==j?{parent:j,pool:j}:R):R=kg(),E={baseLanes:E.baseLanes|a,cachePool:R}),c.memoizedState=E,c.childLanes=Df(e,v,a),n.memoizedState=Nf,o):(fs(n),a=e.child,e=a.sibling,a=xi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=a,n.memoizedState=null,a)}function Of(e,n){return n=Qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Qu(e,n){return e=hn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Mf(e,n,a){return ba(n,e.child,null,a),e=Of(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Zp(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Zh(e.return,n,a)}function Vf(e,n,a,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=c)}function $p(e,n,a){var o=n.pendingProps,c=o.revealOrder,f=o.tail;if(Le(e,n,o.children,a),o=we.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zp(e,a,n);else if(e.tag===19)Zp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(nt(we,o),c){case"forwards":for(a=n.child,c=null;a!==null;)e=a.alternate,e!==null&&Hu(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Vf(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Hu(e)===null){n.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}Vf(n,!0,a,null,f);break;case"together":Vf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ui(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),_s|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Uo(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=xi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=xi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function kf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function eT(e,n,a){switch(n.tag){case 3:Jt(n,n.stateNode.containerInfo),os(n,Se,e.memoizedState.cache),ko();break;case 27:case 5:Wi(n);break;case 4:Jt(n,n.stateNode.containerInfo);break;case 10:os(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(fs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Yp(e,n,a):(fs(n),e=Ui(e,n,a),e!==null?e.sibling:null);fs(n);break;case 19:var c=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Uo(e,n,a,!1),o=(a&n.childLanes)!==0),c){if(o)return $p(e,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(we,we.current),o)break;return null;case 22:case 23:return n.lanes=0,Gp(e,n,a);case 24:os(n,Se,e.memoizedState.cache)}return Ui(e,n,a)}function Jp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)De=!0;else{if(!kf(e,a)&&(n.flags&128)===0)return De=!1,eT(e,n,a);De=(e.flags&131072)!==0}else De=!1,Bt&&(n.flags&1048576)!==0&&Cg(n,Ru,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")Hh(o)?(e=Ir(o,e),n.tag=1,n=Qp(null,n,o,e,a)):(n.tag=0,n=Cf(null,n,o,e,a));else{if(o!=null){if(c=o.$$typeof,c===yt){n.tag=11,n=Bp(null,n,o,e,a);break t}else if(c===M){n.tag=14,n=qp(null,n,o,e,a);break t}}throw n=ke(o)||o,Error(r(306,n,""))}}return n;case 0:return Cf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,c=Ir(o,n.pendingProps),Qp(e,n,o,c,a);case 3:t:{if(Jt(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,sf(e,n),Go(n,o,null,a);var v=n.memoizedState;if(o=v.cache,os(n,Se,o),o!==f.cache&&$h(n,[Se],a,!0),Ho(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xp(e,n,o,a);break t}else if(o!==c){c=Sn(Error(r(424)),n),Po(c),n=Xp(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=jn(e.firstChild),en=n,Bt=!0,Tr=null,Wn=!0,a=xp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ko(),o===c){n=Ui(e,n,a);break t}Le(e,n,o,a)}n=n.child}return n;case 26:return Ku(e,n),e===null?(a=n0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,e=n.pendingProps,o=oc(bt.current).createElement(a),o[Te]=n,o[me]=e,ze(o,a,e),ce(o),n.stateNode=o):n.memoizedState=n0(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Wi(n),e===null&&Bt&&(o=n.stateNode=Wy(n.type,n.pendingProps,bt.current),en=n,Wn=!0,c=le,bs(n.type)?(gd=c,le=jn(o.firstChild)):le=c),Le(e,n,n.pendingProps.children,a),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((c=o=le)&&(o=NT(o,n.type,n.pendingProps,Wn),o!==null?(n.stateNode=o,en=n,le=jn(o.firstChild),Wn=!1,c=!0):c=!1),c||br(n)),Wi(n),c=n.type,f=n.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,hd(c,f)?o=null:v!==null&&hd(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=cf(e,n,QE,null,null,a),fl._currentValue=c),Ku(e,n),Le(e,n,o,a),n.child;case 6:return e===null&&Bt&&((e=a=le)&&(a=xT(a,n.pendingProps,Wn),a!==null?(n.stateNode=a,en=n,le=null,e=!0):e=!1),e||br(n)),null;case 13:return Yp(e,n,a);case 4:return Jt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ba(n,null,o,a):Le(e,n,o,a),n.child;case 11:return Bp(e,n,n.type,n.pendingProps,a);case 7:return Le(e,n,n.pendingProps,a),n.child;case 8:return Le(e,n,n.pendingProps.children,a),n.child;case 12:return Le(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,os(n,n.type,o.value),Le(e,n,o.children,a),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,Sr(n),c=Ke(c),o=o(c),n.flags|=1,Le(e,n,o,a),n.child;case 14:return qp(e,n,n.type,n.pendingProps,a);case 15:return Hp(e,n,n.type,n.pendingProps,a);case 19:return $p(e,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},e===null?(a=Qu(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=xi(e.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Gp(e,n,a);case 24:return Sr(n),o=Ke(Se),e===null?(c=tf(),c===null&&(c=Wt,f=Jh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:o,cache:c},nf(n),os(n,Se,c)):((e.lanes&a)!==0&&(sf(e,n),Go(n,null,null,a),Ho()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),os(n,Se,o)):(o=f.cache,os(n,Se,o),o!==c.cache&&$h(n,[Se],a,!0))),Le(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Li(e){e.flags|=4}function Wp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!o0(n)){if(n=Cn.current,n!==null&&((Ut&4194048)===Ut?ti!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==ti))throw Bo=ef,Pg;e.flags|=8192}}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?mo():536870912,e.lanes|=n,Ra|=n)}function $o(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function nT(e,n,a){var o=n.pendingProps;switch(Qh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Vi(Se),Bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Vo(n)?Li(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Dg())),se(n),null;case 26:return a=n.memoizedState,e===null?(Li(n),a!==null?(se(n),Wp(n,a)):(se(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Li(n),se(n),Wp(n,a)):(se(n),n.flags&=-16777217):(e.memoizedProps!==o&&Li(n),se(n),n.flags&=-16777217),null;case 27:yi(n),a=bt.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Li(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return se(n),null}e=mt.current,Vo(n)?Ng(n):(e=Wy(c,o,a),n.stateNode=e,Li(n))}return se(n),null;case 5:if(yi(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Li(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return se(n),null}if(e=mt.current,Vo(n))Ng(n);else{switch(c=oc(bt.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?c.createElement(a,{is:o.is}):c.createElement(a)}}e[Te]=n,e[me]=o;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;t:switch(ze(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Li(n)}}return se(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Li(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=bt.current,Vo(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,c=en,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[Te]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Ky(e.nodeValue,a)),e||br(n)}else e=oc(e).createTextNode(o),e[Te]=n,n.stateNode=e}return se(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Vo(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Te]=n}else ko(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),c=!1}else c=Dg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Pi(n),n):(Pi(n),null)}if(Pi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Xu(n,n.updateQueue),se(n),null;case 4:return Bn(),e===null&&ad(n.stateNode.containerInfo),se(n),null;case 10:return Vi(n.type),se(n),null;case 19:if(rt(we),c=n.memoizedState,c===null)return se(n),null;if(o=(n.flags&128)!==0,f=c.rendering,f===null)if(o)$o(c,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Hu(e),f!==null){for(n.flags|=128,$o(c,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Ig(a,e),a=a.sibling;return nt(we,we.current&1|2),n.child}e=e.sibling}c.tail!==null&&_n()>$u&&(n.flags|=128,o=!0,$o(c,!1),n.lanes=4194304)}else{if(!o)if(e=Hu(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),$o(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return se(n),null}else 2*_n()-c.renderingStartTime>$u&&a!==536870912&&(n.flags|=128,o=!0,$o(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=_n(),n.sibling=null,e=we.current,nt(we,o?e&1|2:e&1),n):(se(n),null);case 22:case 23:return Pi(n),lf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),a=n.updateQueue,a!==null&&Xu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&rt(wr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Vi(Se),se(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function iT(e,n){switch(Qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Vi(Se),Bn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return yi(n),null;case 13:if(Pi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ko()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return rt(we),null;case 4:return Bn(),null;case 10:return Vi(n.type),null;case 22:case 23:return Pi(n),lf(),e!==null&&rt(wr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Vi(Se),null;case 25:return null;default:return null}}function ty(e,n){switch(Qh(n),n.tag){case 3:Vi(Se),Bn();break;case 26:case 27:case 5:yi(n);break;case 4:Bn();break;case 13:Pi(n);break;case 19:rt(we);break;case 10:Vi(n.type);break;case 22:case 23:Pi(n),lf(),e!==null&&rt(wr);break;case 24:Vi(Se)}}function Jo(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var c=o.next;a=c;do{if((a.tag&e)===e){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==c)}}catch(E){$t(n,n.return,E)}}function ms(e,n,a){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var R=a,j=E;try{j()}catch(K){$t(c,R,K)}}}o=o.next}while(o!==f)}}catch(K){$t(n,n.return,K)}}function ey(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{qg(n,a)}catch(o){$t(e,e.return,o)}}}function ny(e,n,a){a.props=Ir(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,n,o)}}function Wo(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(c){$t(e,n,c)}}function ei(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(c){$t(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){$t(e,n,c)}else a.current=null}function iy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(c){$t(e,e.return,c)}}function Pf(e,n,a){try{var o=e.stateNode;ST(o,e.type,a,n),o[me]=n}catch(c){$t(e,e.return,c)}}function sy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&bs(e.type)||e.tag===4}function Uf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&bs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ac));else if(o!==4&&(o===27&&bs(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Lf(e,n,a),e=e.sibling;e!==null;)Lf(e,n,a),e=e.sibling}function Yu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&bs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Yu(e,n,a),e=e.sibling;e!==null;)Yu(e,n,a),e=e.sibling}function ry(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,o,a),n[Te]=e,n[me]=a}catch(f){$t(e,e.return,f)}}var ji=!1,fe=!1,jf=!1,ay=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function sT(e,n){if(e=e.containerInfo,ud=dc,e=yg(e),Ph(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,R=-1,j=0,K=0,Y=e,B=null;e:for(;;){for(var q;Y!==a||c!==0&&Y.nodeType!==3||(E=v+c),Y!==f||o!==0&&Y.nodeType!==3||(R=v+o),Y.nodeType===3&&(v+=Y.nodeValue.length),(q=Y.firstChild)!==null;)B=Y,Y=q;for(;;){if(Y===e)break e;if(B===a&&++j===c&&(E=v),B===f&&++K===o&&(R=v),(q=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(cd={focusedElem:e,selectionRange:a},dc=!1,Oe=n;Oe!==null;)if(n=Oe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Oe=e;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var Et=Ir(a.type,c,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(Et,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){$t(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)dd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Oe=e;break}Oe=n.return}}function oy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:gs(e,a),o&4&&Jo(5,a);break;case 1:if(gs(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var c=Ir(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}o&64&&ey(a),o&512&&Wo(a,a.return);break;case 3:if(gs(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{qg(e,n)}catch(v){$t(a,a.return,v)}}break;case 27:n===null&&o&4&&ry(a);case 26:case 5:gs(e,a),n===null&&o&4&&iy(a),o&512&&Wo(a,a.return);break;case 12:gs(e,a);break;case 13:gs(e,a),o&4&&cy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=dT.bind(null,a),DT(e,a))));break;case 22:if(o=a.memoizedState!==null||ji,!o){n=n!==null&&n.memoizedState!==null||fe,c=ji;var f=fe;ji=o,(fe=n)&&!f?ps(e,a,(a.subtreeFlags&8772)!==0):gs(e,a),ji=c,fe=f}break;case 30:break;default:gs(e,a)}}function ly(e){var n=e.alternate;n!==null&&(e.alternate=null,ly(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&is(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,sn=!1;function zi(e,n,a){for(a=a.child;a!==null;)uy(e,n,a),a=a.sibling}function uy(e,n,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:fe||ei(a,n),zi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:fe||ei(a,n);var o=ie,c=sn;bs(a.type)&&(ie=a.stateNode,sn=!1),zi(e,n,a),ll(a.stateNode),ie=o,sn=c;break;case 5:fe||ei(a,n);case 6:if(o=ie,c=sn,ie=null,zi(e,n,a),ie=o,sn=c,ie!==null)if(sn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(a.stateNode)}catch(f){$t(a,n,f)}else try{ie.removeChild(a.stateNode)}catch(f){$t(a,n,f)}break;case 18:ie!==null&&(sn?(e=ie,$y(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),pl(e)):$y(ie,a.stateNode));break;case 4:o=ie,c=sn,ie=a.stateNode.containerInfo,sn=!0,zi(e,n,a),ie=o,sn=c;break;case 0:case 11:case 14:case 15:fe||ms(2,a,n),fe||ms(4,a,n),zi(e,n,a);break;case 1:fe||(ei(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&ny(a,n,o)),zi(e,n,a);break;case 21:zi(e,n,a);break;case 22:fe=(o=fe)||a.memoizedState!==null,zi(e,n,a),fe=o;break;default:zi(e,n,a)}}function cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{pl(e)}catch(a){$t(n,n.return,a)}}function rT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ay),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ay),n;default:throw Error(r(435,e.tag))}}function zf(e,n){var a=rT(e);n.forEach(function(o){var c=mT.bind(null,e,o);a.has(o)||(a.add(o),o.then(c,c))})}function fn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var c=a[o],f=e,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(bs(E.type)){ie=E.stateNode,sn=!1;break t}break;case 5:ie=E.stateNode,sn=!1;break t;case 3:case 4:ie=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(ie===null)throw Error(r(160));uy(f,v,c),ie=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)hy(n,e),n=n.sibling}var Ln=null;function hy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(n,e),dn(e),o&4&&(ms(3,e,e.return),Jo(3,e),ms(5,e,e.return));break;case 1:fn(n,e),dn(e),o&512&&(fe||a===null||ei(a,a.return)),o&64&&ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var c=Ln;if(fn(n,e),dn(e),o&512&&(fe||a===null||ei(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[nr]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,o,a),f[Te]=e,ce(f),o=f;break t;case"link":var v=r0("link","href",c).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=c.createElement(o),ze(f,o,a),c.head.appendChild(f);break;case"meta":if(v=r0("meta","content",c).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=c.createElement(o),ze(f,o,a),c.head.appendChild(f);break;default:throw Error(r(468,o))}f[Te]=e,ce(f),o=f}e.stateNode=o}else a0(c,e.type,e.stateNode);else e.stateNode=s0(c,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?a0(c,e.type,e.stateNode):s0(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Pf(e,e.memoizedProps,a.memoizedProps)}break;case 27:fn(n,e),dn(e),o&512&&(fe||a===null||ei(a,a.return)),a!==null&&o&4&&Pf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(fn(n,e),dn(e),o&512&&(fe||a===null||ei(a,a.return)),e.flags&32){c=e.stateNode;try{En(c,"")}catch(q){$t(e,e.return,q)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Pf(e,c,a!==null?a.memoizedProps:c)),o&1024&&(jf=!0);break;case 6:if(fn(n,e),dn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(q){$t(e,e.return,q)}}break;case 3:if(cc=null,c=Ln,Ln=lc(n.containerInfo),fn(n,e),Ln=c,dn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{pl(n.containerInfo)}catch(q){$t(e,e.return,q)}jf&&(jf=!1,fy(e));break;case 4:o=Ln,Ln=lc(e.stateNode.containerInfo),fn(n,e),dn(e),Ln=o;break;case 12:fn(n,e),dn(e);break;case 13:fn(n,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kf=_n()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,zf(e,o)));break;case 22:c=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,j=ji,K=fe;if(ji=j||c,fe=K||R,fn(n,e),fe=K,ji=j,dn(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||R||ji||fe||Cr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){$t(R,R.return,q)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(q){$t(R,R.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,zf(e,a))));break;case 19:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,zf(e,o)));break;case 30:break;case 21:break;default:fn(n,e),dn(e)}}function dn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(sy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Uf(e);Yu(e,f,c);break;case 5:var v=a.stateNode;a.flags&32&&(En(v,""),a.flags&=-33);var E=Uf(e);Yu(e,E,v);break;case 3:case 4:var R=a.stateNode.containerInfo,j=Uf(e);Lf(e,j,R);break;default:throw Error(r(161))}}catch(K){$t(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function fy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;fy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function gs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(e,n.alternate,n),n=n.sibling}function Cr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ms(4,n,n.return),Cr(n);break;case 1:ei(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&ny(n,n.return,a),Cr(n);break;case 27:ll(n.stateNode);case 26:case 5:ei(n,n.return),Cr(n);break;case 22:n.memoizedState===null&&Cr(n);break;case 30:Cr(n);break;default:Cr(n)}e=e.sibling}}function ps(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:ps(c,f,a),Jo(4,f);break;case 1:if(ps(c,f,a),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){$t(o,o.return,j)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Bg(R[c],E)}catch(j){$t(o,o.return,j)}}a&&v&64&&ey(f),Wo(f,f.return);break;case 27:ry(f);case 26:case 5:ps(c,f,a),a&&o===null&&v&4&&iy(f),Wo(f,f.return);break;case 12:ps(c,f,a);break;case 13:ps(c,f,a),a&&v&4&&cy(c,f);break;case 22:f.memoizedState===null&&ps(c,f,a),Wo(f,f.return);break;case 30:break;default:ps(c,f,a)}n=n.sibling}}function Bf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Lo(a))}function qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e))}function ni(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dy(e,n,a,o),n=n.sibling}function dy(e,n,a,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ni(e,n,a,o),c&2048&&Jo(9,n);break;case 1:ni(e,n,a,o);break;case 3:ni(e,n,a,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e)));break;case 12:if(c&2048){ni(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){$t(n,n.return,R)}}else ni(e,n,a,o);break;case 13:ni(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?ni(e,n,a,o):tl(e,n):f._visibility&2?ni(e,n,a,o):(f._visibility|=2,Aa(e,n,a,o,(n.subtreeFlags&10256)!==0)),c&2048&&Bf(v,n);break;case 24:ni(e,n,a,o),c&2048&&qf(n.alternate,n);break;default:ni(e,n,a,o)}}function Aa(e,n,a,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,v=n,E=a,R=o,j=v.flags;switch(v.tag){case 0:case 11:case 15:Aa(f,v,E,R,c),Jo(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?Aa(f,v,E,R,c):tl(f,v):(K._visibility|=2,Aa(f,v,E,R,c)),c&&j&2048&&Bf(v.alternate,v);break;case 24:Aa(f,v,E,R,c),c&&j&2048&&qf(v.alternate,v);break;default:Aa(f,v,E,R,c)}n=n.sibling}}function tl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,c=o.flags;switch(o.tag){case 22:tl(a,o),c&2048&&Bf(o.alternate,o);break;case 24:tl(a,o),c&2048&&qf(o.alternate,o);break;default:tl(a,o)}n=n.sibling}}var el=8192;function Sa(e){if(e.subtreeFlags&el)for(e=e.child;e!==null;)my(e),e=e.sibling}function my(e){switch(e.tag){case 26:Sa(e),e.flags&el&&e.memoizedState!==null&&GT(Ln,e.memoizedState,e.memoizedProps);break;case 5:Sa(e);break;case 3:case 4:var n=Ln;Ln=lc(e.stateNode.containerInfo),Sa(e),Ln=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=el,el=16777216,Sa(e),el=n):Sa(e));break;default:Sa(e)}}function gy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Oe=o,yy(o,e)}gy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)py(e),e=e.sibling}function py(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&ms(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zu(e)):nl(e);break;default:nl(e)}}function Zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Oe=o,yy(o,e)}gy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ms(8,n,n.return),Zu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Zu(n));break;default:Zu(n)}e=e.sibling}}function yy(e,n){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:ms(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Lo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Oe=o;else t:for(a=e;Oe!==null;){o=Oe;var c=o.sibling,f=o.return;if(ly(o),o===a){Oe=null;break t}if(c!==null){c.return=f,Oe=c;break t}Oe=f}}}var aT={getCacheForType:function(e){var n=Ke(Se),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},oT=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Wt=null,xt=null,Ut=0,Kt=0,mn=null,ys=!1,wa=!1,Hf=!1,Bi=0,ue=0,_s=0,Nr=0,Gf=0,Nn=0,Ra=0,il=null,rn=null,Ff=!1,Kf=0,$u=1/0,Ju=null,vs=null,je=0,Es=null,Ia=null,Ca=0,Qf=0,Xf=null,_y=null,sl=0,Yf=null;function gn(){if((Ft&2)!==0&&Ut!==0)return Ut&-Ut;if(F.T!==null){var e=ga;return e!==0?e:nd()}return es()}function vy(){Nn===0&&(Nn=(Ut&536870912)===0||Bt?fo():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),Nn}function pn(e,n,a){(e===Wt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Na(e,0),Ts(e,Ut,Nn,!1)),vi(e,a),((Ft&2)===0||e!==Wt)&&(e===Wt&&((Ft&2)===0&&(Nr|=a),ue===4&&Ts(e,Ut,Nn,!1)),ii(e))}function Ey(e,n,a){if((Ft&6)!==0)throw Error(r(327));var o=!a&&(n&124)===0&&(n&e.expiredLanes)===0||er(e,n),c=o?cT(e,n):Jf(e,n,!0),f=o;do{if(c===0){wa&&!o&&Ts(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!lT(a)){c=Jf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=e;c=il;var R=E.current.memoizedState.isDehydrated;if(R&&(Na(E,v).flags|=256),v=Jf(E,v,!1),v!==2){if(Hf&&!R){E.errorRecoveryDisabledLanes|=f,Nr|=f,c=4;break t}f=rn,rn=c,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){Na(e,0),Ts(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ts(o,n,Nn,!ys);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Kf+300-_n(),10<c)){if(Ts(o,n,Nn,!ys),Kr(o,0,!0)!==0)break t;o.timeoutHandle=Yy(Ty.bind(null,o,a,rn,Ju,Ff,n,Nn,Nr,Ra,ys,f,2,-0,0),c);break t}Ty(o,a,rn,Ju,Ff,n,Nn,Nr,Ra,ys,f,0,-0,0)}}break}while(!0);ii(e)}function Ty(e,n,a,o,c,f,v,E,R,j,K,Y,B,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(hl={stylesheets:null,count:0,unsuspend:HT},my(n),Y=FT(),Y!==null)){e.cancelPendingCommit=Y(Cy.bind(null,e,n,f,a,o,c,v,E,R,K,1,B,q)),Ts(e,f,v,!j);return}Cy(e,n,f,a,o,c,v,E,R)}function lT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var c=a[o],f=c.getSnapshot;c=c.value;try{if(!cn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ts(e,n,a,o){n&=~Gf,n&=~Nr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-Fe(c),v=1<<f;o[f]=-1,c&=~v}a!==0&&qn(e,a,n)}function Wu(){return(Ft&6)===0?(rl(0),!1):!0}function Zf(){if(xt!==null){if(Kt===0)var e=xt.return;else e=xt,Mi=Ar=null,df(e),Ta=null,Yo=0,e=xt;for(;e!==null;)ty(e.alternate,e),e=e.return;xt=null}}function Na(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,RT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Zf(),Wt=e,xt=a=xi(e.current,null),Ut=n,Kt=0,mn=null,ys=!1,wa=er(e,n),Hf=!1,Ra=Nn=Gf=Nr=_s=ue=0,rn=il=null,Ff=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-Fe(o),f=1<<c;n|=e[c],o&=~f}return Bi=n,Tu(),a}function by(e,n){It=null,F.H=zu,n===zo||n===xu?(n=jg(),Kt=3):n===Pg?(n=jg(),Kt=4):Kt=n===zp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mn=n,xt===null&&(ue=1,Fu(e,Sn(n,e.current)))}function Ay(){var e=F.H;return F.H=zu,e===null?zu:e}function Sy(){var e=F.A;return F.A=aT,e}function $f(){ue=4,ys||(Ut&4194048)!==Ut&&Cn.current!==null||(wa=!0),(_s&134217727)===0&&(Nr&134217727)===0||Wt===null||Ts(Wt,Ut,Nn,!1)}function Jf(e,n,a){var o=Ft;Ft|=2;var c=Ay(),f=Sy();(Wt!==e||Ut!==n)&&(Ju=null,Na(e,n)),n=!1;var v=ue;t:do try{if(Kt!==0&&xt!==null){var E=xt,R=mn;switch(Kt){case 8:Zf(),v=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var j=Kt;if(Kt=0,mn=null,xa(e,E,R,j),a&&wa){v=0;break t}break;default:j=Kt,Kt=0,mn=null,xa(e,E,R,j)}}uT(),v=ue;break}catch(K){by(e,K)}while(!0);return n&&e.shellSuspendCounter++,Mi=Ar=null,Ft=o,F.H=c,F.A=f,xt===null&&(Wt=null,Ut=0,Tu()),v}function uT(){for(;xt!==null;)wy(xt)}function cT(e,n){var a=Ft;Ft|=2;var o=Ay(),c=Sy();Wt!==e||Ut!==n?(Ju=null,$u=_n()+500,Na(e,n)):wa=er(e,n);t:do try{if(Kt!==0&&xt!==null){n=xt;var f=mn;e:switch(Kt){case 1:Kt=0,mn=null,xa(e,n,f,1);break;case 2:case 9:if(Ug(f)){Kt=0,mn=null,Ry(n);break}n=function(){Kt!==2&&Kt!==9||Wt!==e||(Kt=7),ii(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Ug(f)?(Kt=0,mn=null,Ry(n)):(Kt=0,mn=null,xa(e,n,f,7));break;case 5:var v=null;switch(xt.tag){case 26:v=xt.memoizedState;case 5:case 27:var E=xt;if(!v||o0(v)){Kt=0,mn=null;var R=E.sibling;if(R!==null)xt=R;else{var j=E.return;j!==null?(xt=j,tc(j)):xt=null}break e}}Kt=0,mn=null,xa(e,n,f,5);break;case 6:Kt=0,mn=null,xa(e,n,f,6);break;case 8:Zf(),ue=6;break t;default:throw Error(r(462))}}hT();break}catch(K){by(e,K)}while(!0);return Mi=Ar=null,F.H=o,F.A=c,Ft=a,xt!==null?0:(Wt=null,Ut=0,Tu(),ue)}function hT(){for(;xt!==null&&!lo();)wy(xt)}function wy(e){var n=Jp(e.alternate,e,Bi);e.memoizedProps=e.pendingProps,n===null?tc(e):xt=n}function Ry(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Kp(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Kp(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:df(n);default:ty(a,n),n=xt=Ig(n,Bi),n=Jp(a,n,Bi)}e.memoizedProps=e.pendingProps,n===null?tc(e):xt=n}function xa(e,n,a,o){Mi=Ar=null,df(n),Ta=null,Yo=0;var c=n.return;try{if(tT(e,c,n,a,Ut)){ue=1,Fu(e,Sn(a,e.current)),xt=null;return}}catch(f){if(c!==null)throw xt=c,f;ue=1,Fu(e,Sn(a,e.current)),xt=null;return}n.flags&32768?(Bt||o===1?e=!0:wa||(Ut&536870912)!==0?e=!1:(ys=e=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Iy(n,e)):tc(n)}function tc(e){var n=e;do{if((n.flags&32768)!==0){Iy(n,ys);return}e=n.return;var a=nT(n.alternate,n,Bi);if(a!==null){xt=a;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);ue===0&&(ue=5)}function Iy(e,n){do{var a=iT(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);ue=6,xt=null}function Cy(e,n,a,o,c,f,v,E,R){e.cancelPendingCommit=null;do ec();while(je!==0);if((Ft&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Bh,go(e,a,f,v,E,R),e===Wt&&(xt=Wt=null,Ut=0),Ia=n,Es=e,Ca=a,Qf=f,Xf=c,_y=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,gT($s,function(){return My(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,c=st.p,st.p=2,v=Ft,Ft|=4;try{sT(e,n,a)}finally{Ft=v,st.p=c,F.T=o}}je=1,Ny(),xy(),Dy()}}function Ny(){if(je===1){je=0;var e=Es,n=Ia,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=st.p;st.p=2;var c=Ft;Ft|=4;try{hy(n,e);var f=cd,v=yg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&pg(E.ownerDocument.documentElement,E)){if(R!==null&&Ph(E)){var j=R.start,K=R.end;if(K===void 0&&(K=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(K,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var q=B.getSelection(),Et=E.textContent.length,pt=Math.min(R.start,Et),Zt=R.end===void 0?pt:Math.min(R.end,Et);!q.extend&&pt>Zt&&(v=Zt,Zt=pt,pt=v);var k=gg(E,pt),D=gg(E,Zt);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var L=Y.createRange();L.setStart(k.node,k.offset),q.removeAllRanges(),pt>Zt?(q.addRange(L),q.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),q.addRange(L))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}dc=!!ud,cd=ud=null}finally{Ft=c,st.p=o,F.T=a}}e.current=n,je=2}}function xy(){if(je===2){je=0;var e=Es,n=Ia,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=st.p;st.p=2;var c=Ft;Ft|=4;try{oy(e,n.alternate,n)}finally{Ft=c,st.p=o,F.T=a}}je=3}}function Dy(){if(je===4||je===3){je=0,Zl();var e=Es,n=Ia,a=Ca,o=_y;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?je=5:(je=0,Ia=Es=null,Oy(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(vs=null),Qr(a),n=n.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(oe,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,c=st.p,st.p=2,F.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{F.T=n,st.p=c}}(Ca&3)!==0&&ec(),ii(e),c=e.pendingLanes,(a&4194090)!==0&&(c&42)!==0?e===Yf?sl++:(sl=0,Yf=e):sl=0,rl(0)}}function Oy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Lo(n)))}function ec(e){return Ny(),xy(),Dy(),My()}function My(){if(je!==5)return!1;var e=Es,n=Qf;Qf=0;var a=Qr(Ca),o=F.T,c=st.p;try{st.p=32>a?32:a,F.T=null,a=Xf,Xf=null;var f=Es,v=Ca;if(je=0,Ia=Es=null,Ca=0,(Ft&6)!==0)throw Error(r(331));var E=Ft;if(Ft|=4,py(f.current),dy(f,f.current,v,a),Ft=E,rl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(oe,f)}catch{}return!0}finally{st.p=c,F.T=o,Oy(e,n)}}function Vy(e,n,a){n=Sn(a,n),n=If(e.stateNode,n,2),e=cs(e,n,2),e!==null&&(vi(e,2),ii(e))}function $t(e,n,a){if(e.tag===3)Vy(e,e,a);else for(;n!==null;){if(n.tag===3){Vy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(vs===null||!vs.has(o))){e=Sn(a,e),a=Lp(2),o=cs(n,a,2),o!==null&&(jp(a,o,n,e),vi(o,2),ii(o));break}}n=n.return}}function Wf(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new oT;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(a)||(Hf=!0,c.add(a),e=fT.bind(null,e,n,a),n.then(e,e))}function fT(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Ut&a)===a&&(ue===4||ue===3&&(Ut&62914560)===Ut&&300>_n()-Kf?(Ft&2)===0&&Na(e,0):Gf|=a,Ra===Ut&&(Ra=0)),ii(e)}function ky(e,n){n===0&&(n=mo()),e=ha(e,n),e!==null&&(vi(e,n),ii(e))}function dT(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),ky(e,a)}function mT(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),ky(e,a)}function gT(e,n){return Ys(e,n)}var nc=null,Da=null,td=!1,ic=!1,ed=!1,xr=0;function ii(e){e!==Da&&e.next===null&&(Da===null?nc=Da=e:Da=Da.next=e),ic=!0,td||(td=!0,yT())}function rl(e,n){if(!ed&&ic){ed=!0;do for(var a=!1,o=nc;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Fe(42|e)+1)-1,f&=c&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,jy(o,f))}else f=Ut,f=Kr(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||er(o,f)||(a=!0,jy(o,f));o=o.next}while(a);ed=!1}}function pT(){Py()}function Py(){ic=td=!1;var e=0;xr!==0&&(wT()&&(e=xr),xr=0);for(var n=_n(),a=null,o=nc;o!==null;){var c=o.next,f=Uy(o,n);f===0?(o.next=null,a===null?nc=c:a.next=c,c===null&&(Da=a)):(a=o,(e!==0||(f&3)!==0)&&(ic=!0)),o=c}rl(e)}function Uy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Fe(f),E=1<<v,R=c[v];R===-1?((E&a)===0||(E&o)!==0)&&(c[v]=ho(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,a=Ut,a=Kr(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Zs(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||er(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Zs(o),Qr(a)){case 2:case 8:a=Gr;break;case 32:a=$s;break;case 268435456:a=Fr;break;default:a=$s}return o=Ly.bind(null,e),a=Ys(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Zs(o),e.callbackPriority=2,e.callbackNode=null,2}function Ly(e,n){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ec()&&e.callbackNode!==a)return null;var o=Ut;return o=Kr(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ey(e,o,n),Uy(e,_n()),e.callbackNode!=null&&e.callbackNode===a?Ly.bind(null,e):null)}function jy(e,n){if(ec())return null;Ey(e,n,!0)}function yT(){IT(function(){(Ft&6)!==0?Ys(uo,pT):Py()})}function nd(){return xr===0&&(xr=fo()),xr}function zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wr(""+e)}function By(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function _T(e,n,a,o,c){if(n==="submit"&&a&&a.stateNode===c){var f=zy((c[me]||null).action),v=o.submitter;v&&(n=(n=v[me]||null)?zy(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new ta("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xr!==0){var R=v?By(c,v):new FormData(c);bf(a,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=v?By(c,v):new FormData(c),bf(a,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var id=0;id<zh.length;id++){var sd=zh[id],vT=sd.toLowerCase(),ET=sd[0].toUpperCase()+sd.slice(1);Un(vT,"on"+ET)}Un(Eg,"onAnimationEnd"),Un(Tg,"onAnimationIteration"),Un(bg,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(UE,"onTransitionRun"),Un(LE,"onTransitionStart"),Un(jE,"onTransitionCancel"),Un(Ag,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function qy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var v=o.length-1;0<=v;v--){var E=o[v],R=E.instance,j=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(K){Gu(K)}c.currentTarget=null,f=R}else for(v=0;v<o.length;v++){if(E=o[v],R=E.instance,j=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(K){Gu(K)}c.currentTarget=null,f=R}}}}function Dt(e,n){var a=n[yo];a===void 0&&(a=n[yo]=new Set);var o=e+"__bubble";a.has(o)||(Hy(n,e,2,!1),a.add(o))}function rd(e,n,a){var o=0;n&&(o|=4),Hy(a,e,o,n)}var sc="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[sc]){e[sc]=!0,_o.forEach(function(a){a!=="selectionchange"&&(TT.has(a)||rd(a,!1,e),rd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sc]||(n[sc]=!0,rd("selectionchange",!1,n))}}function Hy(e,n,a,o){switch(d0(n)){case 2:var c=XT;break;case 8:c=YT;break;default:c=Ed}a=c.bind(null,n,a,e),c=void 0,!bn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,a,{capture:!0,passive:c}):e.addEventListener(n,a,!0):c!==void 0?e.addEventListener(n,a,{passive:c}):e.addEventListener(n,a,!1)}function od(e,n,a,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===c)break;if(v===4)for(v=o.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;E!==null;){if(v=Ei(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){o=f=v;continue t}E=E.parentNode}}o=o.return}au(function(){var j=f,K=Tn(a),Y=[];t:{var B=Sg.get(e);if(B!==void 0){var q=ta,Et=e;switch(e){case"keypress":if(Xn(a)===0)break t;case"keydown":case"keyup":q=aa;break;case"focusin":Et="focus",q=ia;break;case"focusout":Et="blur",q=ia;break;case"beforeblur":case"afterblur":q=ia;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=mu;break;case Eg:case Tg:case bg:q=sa;break;case Ag:q=pu;break;case"scroll":case"scrollend":q=ou;break;case"wheel":q=oa;break;case"copy":case"cut":case"paste":q=ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=xo;break;case"toggle":case"beforetoggle":q=_u}var pt=(n&4)!==0,Zt=!pt&&(e==="scroll"||e==="scrollend"),k=pt?B!==null?B+"Capture":null:B;pt=[];for(var D=j,L;D!==null;){var Q=D;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||k===null||(Q=ur(D,k),Q!=null&&pt.push(ol(D,Q,L))),Zt)break;D=D.return}0<pt.length&&(B=new q(B,Et,null,a,K),Y.push({event:B,listeners:pt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",B&&a!==Si&&(Et=a.relatedTarget||a.fromElement)&&(Ei(Et)||Et[vn]))break t;if((q||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,q?(Et=a.relatedTarget||a.toElement,q=j,Et=Et?Ei(Et):null,Et!==null&&(Zt=h(Et),pt=Et.tag,Et!==Zt||pt!==5&&pt!==27&&pt!==6)&&(Et=null)):(q=null,Et=j),q!==Et)){if(pt=An,Q="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=xo,Q="onPointerLeave",k="onPointerEnter",D="pointer"),Zt=q==null?B:Gn(q),L=Et==null?B:Gn(Et),B=new pt(Q,D+"leave",q,a,K),B.target=Zt,B.relatedTarget=L,Q=null,Ei(K)===j&&(pt=new pt(k,D+"enter",Et,a,K),pt.target=L,pt.relatedTarget=Zt,Q=pt),Zt=Q,q&&Et)e:{for(pt=q,k=Et,D=0,L=pt;L;L=Oa(L))D++;for(L=0,Q=k;Q;Q=Oa(Q))L++;for(;0<D-L;)pt=Oa(pt),D--;for(;0<L-D;)k=Oa(k),L--;for(;D--;){if(pt===k||k!==null&&pt===k.alternate)break e;pt=Oa(pt),k=Oa(k)}pt=null}else pt=null;q!==null&&Gy(Y,B,q,pt,!1),Et!==null&&Zt!==null&&Gy(Y,Zt,Et,pt,!0)}}t:{if(B=j?Gn(j):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var ot=ug;else if(Ae(B))if(cg)ot=VE;else{ot=OE;var Nt=DE}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&Ao(j.elementType)&&(ot=ug):ot=ME;if(ot&&(ot=ot(e,j))){Ni(Y,ot,a,K);break t}Nt&&Nt(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&rs(B,"number",B.value)}switch(Nt=j?Gn(j):window,e){case"focusin":(Ae(Nt)||Nt.contentEditable==="true")&&(la=Nt,Uh=j,Mo=null);break;case"focusout":Mo=Uh=la=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,_g(Y,a,K);break;case"selectionchange":if(PE)break;case"keydown":case"keyup":_g(Y,a,K)}var ct;if($n)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else kt?H(e,a)&&(_t="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(y&&a.locale!=="ko"&&(kt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&kt&&(ct=wo()):(Qn=K,as="value"in Qn?Qn.value:Qn.textContent,kt=!0)),Nt=rc(j,_t),0<Nt.length&&(_t=new Co(_t,e,null,a,K),Y.push({event:_t,listeners:Nt}),ct?_t.data=ct:(ct=it(a),ct!==null&&(_t.data=ct)))),(ct=m?be(e,a):Pt(e,a))&&(_t=rc(j,"onBeforeInput"),0<_t.length&&(Nt=new Co("onBeforeInput","beforeinput",null,a,K),Y.push({event:Nt,listeners:_t}),Nt.data=ct)),_T(Y,e,j,a,K)}qy(Y,n)})}function ol(e,n,a){return{instance:e,listener:n,currentTarget:a}}function rc(e,n){for(var a=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=ur(e,a),c!=null&&o.unshift(ol(e,c,f)),c=ur(e,n),c!=null&&o.push(ol(e,c,f))),e.tag===3)return o;e=e.return}return[]}function Oa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gy(e,n,a,o,c){for(var f=n._reactName,v=[];a!==null&&a!==o;){var E=a,R=E.alternate,j=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||j===null||(R=j,c?(j=ur(a,f),j!=null&&v.unshift(ol(a,j,R))):c||(j=ur(a,f),j!=null&&v.push(ol(a,j,R)))),a=a.return}v.length!==0&&e.push({event:n,listeners:v})}var bT=/\r\n?/g,AT=/\u0000|\uFFFD/g;function Fy(e){return(typeof e=="string"?e:""+e).replace(bT,`
`).replace(AT,"")}function Ky(e,n){return n=Fy(n),Fy(e)===n}function ac(){}function Yt(e,n,a,o,c,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||En(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&En(e,""+o);break;case"className":Fn(e,"class",o);break;case"tabIndex":Fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(e,a,o);break;case"style":bo(e,o,f);break;case"data":if(n!=="object"){Fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Wr(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Yt(e,n,"name",c.name,c,null),Yt(e,n,"formEncType",c.formEncType,c,null),Yt(e,n,"formMethod",c.formMethod,c,null),Yt(e,n,"formTarget",c.formTarget,c,null)):(Yt(e,n,"encType",c.encType,c,null),Yt(e,n,"method",c.method,c,null),Yt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Wr(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ac);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Wr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),ss(e,"popover",o);break;case"xlinkActuate":Pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ss(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xh.get(a)||a,ss(e,a,o))}}function ld(e,n,a,o,c,f){switch(a){case"style":bo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?En(e,o):(typeof o=="number"||typeof o=="bigint")&&En(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ac);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=e[me]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,c);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ss(e,a,o)}}}function ze(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(e,n,f,v,a,null)}}c&&Yt(e,n,"srcSet",a.srcSet,a,null),o&&Yt(e,n,"src",a.src,a,null);return;case"input":Dt("invalid",e);var E=f=v=c=null,R=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":c=K;break;case"type":v=K;break;case"checked":R=K;break;case"defaultChecked":j=K;break;case"value":f=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:Yt(e,n,o,K,a,null)}}ar(e,f,E,R,j,v,c,!1),Jr(e);return;case"select":Dt("invalid",e),o=v=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Yt(e,n,c,E,a,null)}n=f,a=v,e.multiple=!!o,n!=null?Ai(e,!!o,n,!1):a!=null&&Ai(e,!!o,a,!0);return;case"textarea":Dt("invalid",e),f=c=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Yt(e,n,v,E,a,null)}or(e,o,c,f),Jr(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,n,R,o,a,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<al.length;o++)Dt(al[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(e,n,j,o,a,null)}return;default:if(Ao(n)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&ld(e,n,K,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Yt(e,n,E,o,a,null))}function ST(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,R=null,j=null,K=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||Yt(e,n,q,null,o,Y)}}for(var B in o){var q=o[B];if(Y=a[B],o.hasOwnProperty(B)&&(q!=null||Y!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":j=q;break;case"defaultChecked":K=q;break;case"value":v=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==Y&&Yt(e,n,B,q,o,Y)}}un(e,v,E,R,j,K,f,c);return;case"select":q=v=E=B=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Yt(e,n,f,null,o,R)}for(c in o)if(f=o[c],R=a[c],o.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==R&&Yt(e,n,c,f,o,R)}n=E,a=v,o=q,B!=null?Ai(e,!!a,B,!1):!!o!=!!a&&(n!=null?Ai(e,!!a,n,!0):Ai(e,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,n,E,null,o,c)}for(v in o)if(c=o[v],f=a[v],o.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Yt(e,n,v,c,o,f)}Qt(e,B,q);return;case"option":for(var Et in a)if(B=a[Et],a.hasOwnProperty(Et)&&B!=null&&!o.hasOwnProperty(Et))switch(Et){case"selected":e.selected=!1;break;default:Yt(e,n,Et,null,o,B)}for(R in o)if(B=o[R],q=a[R],o.hasOwnProperty(R)&&B!==q&&(B!=null||q!=null))switch(R){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(e,n,R,B,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)B=a[pt],a.hasOwnProperty(pt)&&B!=null&&!o.hasOwnProperty(pt)&&Yt(e,n,pt,null,o,B);for(j in o)if(B=o[j],q=a[j],o.hasOwnProperty(j)&&B!==q&&(B!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Yt(e,n,j,B,o,q)}return;default:if(Ao(n)){for(var Zt in a)B=a[Zt],a.hasOwnProperty(Zt)&&B!==void 0&&!o.hasOwnProperty(Zt)&&ld(e,n,Zt,void 0,o,B);for(K in o)B=o[K],q=a[K],!o.hasOwnProperty(K)||B===q||B===void 0&&q===void 0||ld(e,n,K,B,o,q);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&Yt(e,n,k,null,o,B);for(Y in o)B=o[Y],q=a[Y],!o.hasOwnProperty(Y)||B===q||B==null&&q==null||Yt(e,n,Y,B,o,q)}var ud=null,cd=null;function oc(e){return e.nodeType===9?e:e.ownerDocument}function Qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function wT(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,RT=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,IT=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(e){return Zy.resolve(null).then(e).catch(CT)}:Yy;function CT(e){setTimeout(function(){throw e})}function bs(e){return e==="head"}function $y(e,n){var a=n,o=0,c=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&ll(v.documentElement),a&2&&ll(v.body),a&4)for(a=v.head,ll(a),v=a.firstChild;v;){var E=v.nextSibling,R=v.nodeName;v[nr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(c===0){e.removeChild(f),pl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);pl(n)}function dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dd(a),is(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function NT(e,n,a,o){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[nr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function xT(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jn(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function DT(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var gd=null;function Jy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Wy(e,n,a){switch(n=oc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);is(e)}var xn=new Map,t0=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qi=st.d;st.d={f:OT,r:MT,D:VT,C:kT,L:PT,m:UT,X:jT,S:LT,M:zT};function OT(){var e=qi.f(),n=Wu();return e||n}function MT(e){var n=Hn(e);n!==null&&n.tag===5&&n.type==="form"?Ep(n):qi.r(e)}var Ma=typeof document>"u"?null:document;function e0(e,n,a){var o=Ma;if(o&&typeof n=="string"&&n){var c=ge(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),t0.has(c)||(t0.add(c),e={rel:e,crossOrigin:a,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),ze(n,"link",e),ce(n),o.head.appendChild(n)))}}function VT(e){qi.D(e),e0("dns-prefetch",e,null)}function kT(e,n){qi.C(e,n),e0("preconnect",e,n)}function PT(e,n,a){qi.L(e,n,a);var o=Ma;if(o&&e&&n){var c='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+ge(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+ge(a.imageSizes)+'"]')):c+='[href="'+ge(e)+'"]';var f=c;switch(n){case"style":f=Va(e);break;case"script":f=ka(e)}xn.has(f)||(e=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),xn.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(ul(f))||n==="script"&&o.querySelector(cl(f))||(n=o.createElement("link"),ze(n,"link",e),ce(n),o.head.appendChild(n)))}}function UT(e,n){qi.m(e,n);var a=Ma;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ge(o)+'"][href="'+ge(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!xn.has(f)&&(e=b({rel:"modulepreload",href:e},n),xn.set(f,e),a.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cl(f)))return}o=a.createElement("link"),ze(o,"link",e),ce(o),a.head.appendChild(o)}}}function LT(e,n,a){qi.S(e,n,a);var o=Ma;if(o&&e){var c=Je(o).hoistableStyles,f=Va(e);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(ul(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},a),(a=xn.get(f))&&pd(e,a);var R=v=o.createElement("link");ce(R),ze(R,"link",e),R._p=new Promise(function(j,K){R.onload=j,R.onerror=K}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,uc(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function jT(e,n){qi.X(e,n);var a=Ma;if(a&&e){var o=Je(a).hoistableScripts,c=ka(e),f=o.get(c);f||(f=a.querySelector(cl(c)),f||(e=b({src:e,async:!0},n),(n=xn.get(c))&&yd(e,n),f=a.createElement("script"),ce(f),ze(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function zT(e,n){qi.M(e,n);var a=Ma;if(a&&e){var o=Je(a).hoistableScripts,c=ka(e),f=o.get(c);f||(f=a.querySelector(cl(c)),f||(e=b({src:e,async:!0,type:"module"},n),(n=xn.get(c))&&yd(e,n),f=a.createElement("script"),ce(f),ze(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function n0(e,n,a,o){var c=(c=bt.current)?lc(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Va(a.href),a=Je(c).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Va(a.href);var f=Je(c).hoistableStyles,v=f.get(e);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=c.querySelector(ul(e)))&&!f._p&&(v.instance=f,v.state.loading=5),xn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xn.set(e,a),f||BT(c,e,a,v.state))),n&&o===null)throw Error(r(528,""));return v}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(a),a=Je(c).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Va(e){return'href="'+ge(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function i0(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function BT(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ze(n,"link",a),ce(n),e.head.appendChild(n))}function ka(e){return'[src="'+ge(e)+'"]'}function cl(e){return"script[async]"+e}function s0(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ge(a.href)+'"]');if(o)return n.instance=o,ce(o),o;var c=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ce(o),ze(o,"style",c),uc(o,a.precedence,e),n.instance=o;case"stylesheet":c=Va(a.href);var f=e.querySelector(ul(c));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;o=i0(a),(c=xn.get(c))&&pd(o,c),f=(e.ownerDocument||e).createElement("link"),ce(f);var v=f;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),ze(f,"link",o),n.state.loading|=4,uc(f,a.precedence,e),n.instance=f;case"script":return f=ka(a.src),(c=e.querySelector(cl(f)))?(n.instance=c,ce(c),c):(o=a,(c=xn.get(f))&&(o=b({},a),yd(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),ce(c),ze(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,uc(o,a.precedence,e));return n.instance}function uc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var cc=null;function r0(e,n,a){if(cc===null){var o=new Map,c=cc=new Map;c.set(a,o)}else c=cc,o=c.get(a),o||(o=new Map,c.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var f=a[c];if(!(f[nr]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=e+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function a0(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function qT(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function o0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var hl=null;function HT(){}function GT(e,n,a){if(hl===null)throw Error(r(475));var o=hl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Va(a.href),f=e.querySelector(ul(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=hc.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,ce(f);return}f=e.ownerDocument||e,a=i0(a),(c=xn.get(c))&&pd(a,c),f=f.createElement("link"),ce(f);var v=f;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),ze(f,"link",a),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=hc.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function FT(){if(hl===null)throw Error(r(475));var e=hl;return e.stylesheets&&e.count===0&&_d(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&_d(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function hc(){if(this.count--,this.count===0){if(this.stylesheets)_d(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fc=null;function _d(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fc=new Map,n.forEach(KT,e),fc=null,hc.call(e))}function KT(e,n){if(!(n.state.loading&4)){var a=fc.get(e);if(a)var o=a.get(null);else{a=new Map,fc.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}c=n.instance,v=c.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,c),a.set(v,c),this.count++,o=hc.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var fl={$$typeof:J,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function QT(e,n,a,o,c,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function l0(e,n,a,o,c,f,v,E,R,j,K,Y){return e=new QT(e,n,a,v,E,R,j,Y),n=1,f===!0&&(n|=24),f=hn(3,null,null,n),e.current=f,f.stateNode=e,n=Jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},nf(f),e}function u0(e){return e?(e=fa,e):fa}function c0(e,n,a,o,c,f){c=u0(c),o.context===null?o.context=c:o.pendingContext=c,o=us(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=cs(e,o,n),a!==null&&(pn(a,e,n),qo(a,e,n))}function h0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function vd(e,n){h0(e,n),(e=e.alternate)&&h0(e,n)}function f0(e){if(e.tag===13){var n=ha(e,67108864);n!==null&&pn(n,e,67108864),vd(e,67108864)}}var dc=!0;function XT(e,n,a,o){var c=F.T;F.T=null;var f=st.p;try{st.p=2,Ed(e,n,a,o)}finally{st.p=f,F.T=c}}function YT(e,n,a,o){var c=F.T;F.T=null;var f=st.p;try{st.p=8,Ed(e,n,a,o)}finally{st.p=f,F.T=c}}function Ed(e,n,a,o){if(dc){var c=Td(o);if(c===null)od(e,n,o,mc,a),m0(e,o);else if($T(c,e,n,a,o))o.stopPropagation();else if(m0(e,o),n&4&&-1<ZT.indexOf(e)){for(;c!==null;){var f=Hn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Vn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-Fe(v);E.entanglements[1]|=R,v&=~R}ii(f),(Ft&6)===0&&($u=_n()+500,rl(0))}}break;case 13:E=ha(f,2),E!==null&&pn(E,f,2),Wu(),vd(f,2)}if(f=Td(o),f===null&&od(e,n,o,mc,a),f===c)break;c=f}c!==null&&o.stopPropagation()}else od(e,n,o,null,a)}}function Td(e){return e=Tn(e),bd(e)}var mc=null;function bd(e){if(mc=null,e=Ei(e),e!==null){var n=h(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return mc=e,null}function d0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sh()){case uo:return 2;case Gr:return 8;case $s:case wh:return 32;case Fr:return 268435456;default:return 32}default:return 32}}var Ad=!1,As=null,Ss=null,ws=null,dl=new Map,ml=new Map,Rs=[],ZT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m0(e,n){switch(e){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(n.pointerId)}}function gl(e,n,a,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Hn(n),n!==null&&f0(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function $T(e,n,a,o,c){switch(n){case"focusin":return As=gl(As,e,n,a,o,c),!0;case"dragenter":return Ss=gl(Ss,e,n,a,o,c),!0;case"mouseover":return ws=gl(ws,e,n,a,o,c),!0;case"pointerover":var f=c.pointerId;return dl.set(f,gl(dl.get(f)||null,e,n,a,o,c)),!0;case"gotpointercapture":return f=c.pointerId,ml.set(f,gl(ml.get(f)||null,e,n,a,o,c)),!0}return!1}function g0(e){var n=Ei(e.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Wl(e.priority,function(){if(a.tag===13){var o=gn();o=ts(o);var c=ha(a,o);c!==null&&pn(c,a,o),vd(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Td(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Si=o,a.target.dispatchEvent(o),Si=null}else return n=Hn(a),n!==null&&f0(n),e.blockedOn=a,!1;n.shift()}return!0}function p0(e,n,a){gc(e)&&a.delete(n)}function JT(){Ad=!1,As!==null&&gc(As)&&(As=null),Ss!==null&&gc(Ss)&&(Ss=null),ws!==null&&gc(ws)&&(ws=null),dl.forEach(p0),ml.forEach(p0)}function pc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ad||(Ad=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,JT)))}var yc=null;function y0(e){yc!==e&&(yc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){yc===e&&(yc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(bd(o||a)===null)continue;break}var f=Hn(a);f!==null&&(e.splice(n,3),n-=3,bf(f,{pending:!0,data:c,method:a.method,action:o},o,c))}}))}function pl(e){function n(R){return pc(R,e)}As!==null&&pc(As,e),Ss!==null&&pc(Ss,e),ws!==null&&pc(ws,e),dl.forEach(n),ml.forEach(n);for(var a=0;a<Rs.length;a++){var o=Rs[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Rs.length&&(a=Rs[0],a.blockedOn===null);)g0(a),a.blockedOn===null&&Rs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var c=a[o],f=a[o+1],v=c[me]||null;if(typeof f=="function")v||y0(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[me]||null)E=v.formAction;else if(bd(c)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),y0(a)}}}function Sd(e){this._internalRoot=e}_c.prototype.render=Sd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=gn();c0(a,o,e,n,null,null)},_c.prototype.unmount=Sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;c0(e.current,2,null,e,null,null),Wu(),n[vn]=null}};function _c(e){this._internalRoot=e}_c.prototype.unstable_scheduleHydration=function(e){if(e){var n=es();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Rs.length&&n!==0&&n<Rs[a].priority;a++);Rs.splice(a,0,e),a===0&&g0(e)}};var _0=t.version;if(_0!=="19.1.1")throw Error(r(527,_0,"19.1.1"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(n),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var WT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{oe=vc.inject(WT),Gt=vc}catch{}}return _l.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",c=Vp,f=kp,v=Pp,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=l0(e,1,!1,null,null,a,o,c,f,v,E,null),e[vn]=n.current,ad(e),new Sd(n)},_l.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,c="",f=Vp,v=kp,E=Pp,R=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),n=l0(e,1,!0,n,a??null,o,c,f,v,E,R,j),n.context=u0(null),a=n.current,o=gn(),o=ts(o),c=us(o),c.callback=null,cs(a,c,o),a=o,n.current.lanes=a,vi(n,a),ii(n),e[vn]=n.current,ad(e),new _c(n)},_l.version="19.1.1",_l}var C0;function hb(){if(C0)return Id.exports;C0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Id.exports=cb(),Id.exports}var fb=hb();const db=()=>{};var N0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},mb=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const h=s[i++];t[r++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=s[i++],d=s[i++],g=s[i++],p=((l&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const h=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},uv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const h=s[l],d=l+1<s.length,g=d?s[l+1]:0,p=l+2<s.length,_=p?s[l+2]:0,b=h>>2,N=(h&3)<<4|g>>4;let S=(g&15)<<2|_>>6,z=_&63;p||(z=64,d||(S=64)),r.push(i[b],i[N],i[S],i[z])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(lv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):mb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const h=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const N=l<s.length?i[s.charAt(l)]:64;if(++l,h==null||g==null||_==null||N==null)throw new gb;const S=h<<2|g>>4;if(r.push(S),_!==64){const z=g<<4&240|_>>2;if(r.push(z),N!==64){const X=_<<6&192|N;r.push(X)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class gb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pb=function(s){const t=lv(s);return uv.encodeByteArray(t,!0)},Uc=function(s){return pb(s).replace(/\./g,"")},cv=function(s){try{return uv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=()=>yb().__FIREBASE_DEFAULTS__,vb=()=>{if(typeof process>"u"||typeof N0>"u")return;const s=N0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Eb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&cv(s[1]);return t&&JSON.parse(t)},ih=()=>{try{return db()||_b()||vb()||Eb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},hv=s=>ih()?.emulatorHosts?.[s],Tb=s=>{const t=hv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},fv=()=>ih()?.config,dv=s=>ih()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Uc(JSON.stringify(i)),Uc(JSON.stringify(d)),""].join(".")}const Sl={};function Sb(){const s={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?s.emulator.push(t):s.prod.push(t);return s}function wb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let x0=!1;function gv(s,t){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||Sl[s]===t||Sl[s]||x0)return;Sl[s]=t;function i(S){return`__firebase__banner__${S}`}const r="__firebase__banner",h=Sb().prod.length>0;function d(){const S=document.getElementById(r);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,z){S.setAttribute("width","24"),S.setAttribute("id",z),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function _(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{x0=!0,d()},S}function b(S,z){S.setAttribute("id",z),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function N(){const S=wb(r),z=i("text"),X=document.getElementById(z)||document.createElement("span"),et=i("learnmore"),G=document.getElementById(et)||document.createElement("a"),lt=i("preprendIcon"),ft=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const J=S.element;g(J),b(G,et);const yt=_();p(ft,lt),J.append(ft,X,G,yt),document.body.appendChild(J)}h?(X.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function Ib(){const s=ih()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Cb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Nb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Db(){const s=$e();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Ob(){return!Ib()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mb(){try{return typeof indexedDB=="object"}catch{return!1}}function Vb(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="FirebaseError";class Ji extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=kb,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?Pb(h,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Ji(l,g,r)}}function Pb(s,t){return s.replace(Ub,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const Ub=/\{\$([^}]+)}/g;function Lb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function kr(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const h=s[l],d=t[l];if(D0(h)&&D0(d)){if(!kr(h,d))return!1}else if(h!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function D0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function jb(s,t){const i=new zb(s,t);return i.subscribe.bind(i)}class zb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");Bb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Dd),l.error===void 0&&(l.error=Dd),l.complete===void 0&&(l.complete=Dd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bb(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(s){return s&&s._delegate?s._delegate:s}class Pr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new bb;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Gb(t))try{this.getOrInitializeService({instanceIdentifier:Dr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});r.resolve(h)}catch{}}}}clearInstance(t=Dr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Dr){return this.instances.has(t)}getOptions(t=Dr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const h=this.instances.get(r);return h&&t(h,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Hb(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Dr){return this.component?this.component.multipleInstances?t:Dr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hb(s){return s===Dr?void 0:s}function Gb(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new qb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ot||(Ot={}));const Kb={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},Qb=Ot.INFO,Xb={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},Yb=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=Xb[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _m{constructor(t){this.name=t,this._logLevel=Qb,this._logHandler=Yb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Kb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const Zb=(s,t)=>t.some(i=>s instanceof i);let O0,M0;function $b(){return O0||(O0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jb(){return M0||(M0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pv=new WeakMap,Gd=new WeakMap,yv=new WeakMap,Od=new WeakMap,vm=new WeakMap;function Wb(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Vs(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",h),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&pv.set(i,s)}).catch(()=>{}),vm.set(t,s),t}function tA(s){if(Gd.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Gd.set(s,t)}let Fd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Gd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||yv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Vs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function eA(s){Fd=s(Fd)}function nA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Md(this),t,...i);return yv.set(r,t.sort?t.sort():[t]),Vs(r)}:Jb().includes(s)?function(...t){return s.apply(Md(this),t),Vs(pv.get(this))}:function(...t){return Vs(s.apply(Md(this),t))}}function iA(s){return typeof s=="function"?nA(s):(s instanceof IDBTransaction&&tA(s),Zb(s,$b())?new Proxy(s,Fd):s)}function Vs(s){if(s instanceof IDBRequest)return Wb(s);if(Od.has(s))return Od.get(s);const t=iA(s);return t!==s&&(Od.set(s,t),vm.set(t,s)),t}const Md=s=>vm.get(s);function sA(s,t,{blocked:i,upgrade:r,blocking:l,terminated:h}={}){const d=indexedDB.open(s,t),g=Vs(d);return r&&d.addEventListener("upgradeneeded",p=>{r(Vs(d.result),p.oldVersion,p.newVersion,Vs(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{h&&p.addEventListener("close",()=>h()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const rA=["get","getKey","getAll","getAllKeys","count"],aA=["put","add","delete","clear"],Vd=new Map;function V0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Vd.get(t))return Vd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=aA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||rA.includes(i)))return;const h=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&p.done]))[0]};return Vd.set(t,h),h}eA(s=>({...s,get:(t,i,r)=>V0(t,i)||s.get(t,i,r),has:(t,i)=>!!V0(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(lA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function lA(s){return s.getComponent()?.type==="VERSION"}const Kd="@firebase/app",k0="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new _m("@firebase/app"),uA="@firebase/app-compat",cA="@firebase/analytics-compat",hA="@firebase/analytics",fA="@firebase/app-check-compat",dA="@firebase/app-check",mA="@firebase/auth",gA="@firebase/auth-compat",pA="@firebase/database",yA="@firebase/data-connect",_A="@firebase/database-compat",vA="@firebase/functions",EA="@firebase/functions-compat",TA="@firebase/installations",bA="@firebase/installations-compat",AA="@firebase/messaging",SA="@firebase/messaging-compat",wA="@firebase/performance",RA="@firebase/performance-compat",IA="@firebase/remote-config",CA="@firebase/remote-config-compat",NA="@firebase/storage",xA="@firebase/storage-compat",DA="@firebase/firestore",OA="@firebase/ai",MA="@firebase/firestore-compat",VA="firebase",kA="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="[DEFAULT]",PA={[Kd]:"fire-core",[uA]:"fire-core-compat",[hA]:"fire-analytics",[cA]:"fire-analytics-compat",[dA]:"fire-app-check",[fA]:"fire-app-check-compat",[mA]:"fire-auth",[gA]:"fire-auth-compat",[pA]:"fire-rtdb",[yA]:"fire-data-connect",[_A]:"fire-rtdb-compat",[vA]:"fire-fn",[EA]:"fire-fn-compat",[TA]:"fire-iid",[bA]:"fire-iid-compat",[AA]:"fire-fcm",[SA]:"fire-fcm-compat",[wA]:"fire-perf",[RA]:"fire-perf-compat",[IA]:"fire-rc",[CA]:"fire-rc-compat",[NA]:"fire-gcs",[xA]:"fire-gcs-compat",[DA]:"fire-fst",[MA]:"fire-fst-compat",[OA]:"fire-vertex","fire-js":"fire-js",[VA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new Map,UA=new Map,Xd=new Map;function P0(s,t){try{s.container.addComponent(t)}catch(i){Ki.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Xa(s){const t=s.name;if(Xd.has(t))return Ki.debug(`There were multiple attempts to register component ${t}.`),!1;Xd.set(t,s);for(const i of Lc.values())P0(i,s);for(const i of UA.values())P0(i,s);return!0}function Em(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Dn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ks=new Ll("app","Firebase",LA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=kA;function _v(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:Qd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw ks.create("bad-app-name",{appName:String(l)});if(i||(i=fv()),!i)throw ks.create("no-options");const h=Lc.get(l);if(h){if(kr(i,h.options)&&kr(r,h.config))return h;throw ks.create("duplicate-app",{appName:l})}const d=new Fb(l);for(const p of Xd.values())d.addComponent(p);const g=new jA(i,r,d);return Lc.set(l,g),g}function vv(s=Qd){const t=Lc.get(s);if(!t&&s===Qd&&fv())return _v();if(!t)throw ks.create("no-app",{appName:s});return t}function Ps(s,t,i){let r=PA[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ki.warn(d.join(" "));return}Xa(new Pr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="firebase-heartbeat-database",BA=1,xl="firebase-heartbeat-store";let kd=null;function Ev(){return kd||(kd=sA(zA,BA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(xl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ks.create("idb-open",{originalErrorMessage:s.message})})),kd}async function qA(s){try{const i=(await Ev()).transaction(xl),r=await i.objectStore(xl).get(Tv(s));return await i.done,r}catch(t){if(t instanceof Ji)Ki.warn(t.message);else{const i=ks.create("idb-get",{originalErrorMessage:t?.message});Ki.warn(i.message)}}}async function U0(s,t){try{const r=(await Ev()).transaction(xl,"readwrite");await r.objectStore(xl).put(t,Tv(s)),await r.done}catch(i){if(i instanceof Ji)Ki.warn(i.message);else{const r=ks.create("idb-set",{originalErrorMessage:i?.message});Ki.warn(r.message)}}}function Tv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=1024,GA=30;class FA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new QA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=L0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>GA){const l=XA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ki.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=L0(),{heartbeatsToSend:i,unsentEntries:r}=KA(this._heartbeatsCache.heartbeats),l=Uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ki.warn(t),""}}}function L0(){return new Date().toISOString().substring(0,10)}function KA(s,t=HA){const i=[];let r=s.slice();for(const l of s){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),j0(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),j0(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class QA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mb()?Vb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await qA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return U0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return U0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function j0(s){return Uc(JSON.stringify({version:2,heartbeats:s})).length}function XA(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(s){Xa(new Pr("platform-logger",t=>new oA(t),"PRIVATE")),Xa(new Pr("heartbeat",t=>new FA(t),"PRIVATE")),Ps(Kd,k0,s),Ps(Kd,k0,"esm2020"),Ps("fire-js","")}YA("");var ZA="firebase",$A="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(ZA,$A,"app");function bv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JA=bv,Av=new Ll("auth","Firebase",bv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new _m("@firebase/auth");function WA(s,...t){jc.logLevel<=Ot.WARN&&jc.warn(`Auth (${no}): ${s}`,...t)}function Rc(s,...t){jc.logLevel<=Ot.ERROR&&jc.error(`Auth (${no}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(s,...t){throw Tm(s,...t)}function ri(s,...t){return Tm(s,...t)}function Sv(s,t,i){const r={...JA(),[t]:i};return new Ll("auth","Firebase",r).create(t,{appName:s.name})}function Fi(s){return Sv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Av.create(s,...t)}function Tt(s,t,...i){if(!s)throw Tm(t,...i)}function Hi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Rc(t),new Error(t)}function Xi(s,t){s||Hi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(){return typeof self<"u"&&self.location?.href||""}function tS(){return z0()==="http:"||z0()==="https:"}function z0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tS()||Nb()||"connection"in navigator)?navigator.onLine:!0}function nS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Xi(i>t,"Short delay should be less than long delay!"),this.isMobile=Rb()||xb()}get(){return eS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(s,t){Xi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rS=new zl(3e4,6e4);function Bl(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function io(s,t,i,r,l={}){return Rv(s,l,async()=>{let h={},d={};r&&(t==="GET"?d=r:h={body:JSON.stringify(r)});const g=jl({key:s.config.apiKey,...d}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:p,...h};return Cb()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&eo(s.emulatorConfig.host)&&(_.credentials="include"),wv.fetch()(await Iv(s,s.config.apiHost,i,g),_)})}async function Rv(s,t,i){s._canInitEmulator=!1;const r={...iS,...t};try{const l=new aS(s),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw Ec(s,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const g=h.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Ec(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw Ec(s,"user-disabled",d);const b=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Sv(s,b,_);Qi(s,b)}}catch(l){if(l instanceof Ji)throw l;Qi(s,"network-request-failed",{message:String(l)})}}async function Am(s,t,i,r,l={}){const h=await io(s,t,i,r,l);return"mfaPendingCredential"in h&&Qi(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function Iv(s,t,i,r){const l=`${t}${i}?${r}`,h=s,d=h.config.emulator?bm(s.config,l):`${s.config.apiScheme}://${l}`;return sS.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class aS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),rS.get())})}}function Ec(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=ri(s,t,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oS(s,t){return io(s,"POST","/v1/accounts:delete",t)}async function zc(s,t){return io(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function lS(s,t=!1){const i=He(s),r=await i.getIdToken(t),l=Sm(r);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:r,authTime:wl(Pd(l.auth_time)),issuedAtTime:wl(Pd(l.iat)),expirationTime:wl(Pd(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Pd(s){return Number(s)*1e3}function Sm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Rc("JWT malformed, contained fewer than 3 sections"),null;try{const l=cv(i);return l?JSON.parse(l):(Rc("Failed to decode base64 JWT payload"),null)}catch(l){return Rc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function B0(s){const t=Sm(s);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Ji&&uS(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function uS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(s){const t=s.auth,i=await s.getIdToken(),r=await Dl(s,zc(t,{idToken:i}));Tt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const h=l.providerUserInfo?.length?Cv(l.providerUserInfo):[],d=fS(s.providerData,h),g=s.isAnonymous,p=!(s.email&&l.passwordHash)&&!d?.length,_=g?p:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function hS(s){const t=He(s);await Bc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fS(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function Cv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dS(s,t){const i=await Rv(s,{},async()=>{const r=jl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=s.config,d=await Iv(s,l,"/v1/token",`key=${h}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:r};return s.emulatorConfig&&eo(s.emulatorConfig.host)&&(p.credentials="include"),wv.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function mS(s,t){return io(s,"POST","/v2/accounts:revokeToken",Bl(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):B0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=B0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:h}=await dS(t,i);this.updateTokensAndExpiration(r,l,Number(h))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:h}=i,d=new Ha;return r&&(Tt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(Tt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(s,t){Tt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class zn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new cS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Zd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Dl(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return lS(this,t)}reload(){return hS(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Bc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Fi(this.auth));const t=await this.getIdToken();return await Dl(this,oS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:N,emailVerified:S,isAnonymous:z,providerData:X,stsTokenManager:et}=i;Tt(N&&et,t,"internal-error");const G=Ha.fromJSON(this.name,et);Tt(typeof N=="string",t,"internal-error"),Cs(r,t.name),Cs(l,t.name),Tt(typeof S=="boolean",t,"internal-error"),Tt(typeof z=="boolean",t,"internal-error"),Cs(h,t.name),Cs(d,t.name),Cs(g,t.name),Cs(p,t.name),Cs(_,t.name),Cs(b,t.name);const lt=new zn({uid:N,auth:t,email:l,emailVerified:S,displayName:r,isAnonymous:z,photoURL:d,phoneNumber:h,tenantId:g,stsTokenManager:G,createdAt:_,lastLoginAt:b});return X&&Array.isArray(X)&&(lt.providerData=X.map(ft=>({...ft}))),p&&(lt._redirectEventId=p),lt}static async _fromIdTokenResponse(t,i,r=!1){const l=new Ha;l.updateFromServerResponse(i);const h=new zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Bc(h),h}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?Cv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,g=new Ha;g.updateFromIdToken(r);const p=new zn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=new Map;function Gi(s){Xi(s instanceof Function,"Expected a class definition");let t=q0.get(s);return t?(Xi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,q0.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Nv.type="NONE";const H0=Nv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(s,t,i){return`firebase:${s}:${t}:${i}`}class Ga{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:h}=this.auth;this.fullUserKey=Ic(this.userKey,l.apiKey,h),this.fullPersistenceKey=Ic("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await zc(this.auth,{idToken:t}).catch(()=>{});return i?zn._fromGetAccountInfoResponse(this.auth,i,t):null}return zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ga(Gi(H0),t,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=l[0]||Gi(H0);const d=Ic(r,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const b=await _._get(d);if(b){let N;if(typeof b=="string"){const S=await zc(t,{idToken:b}).catch(()=>{});if(!S)break;N=await zn._fromGetAccountInfoResponse(t,S,b)}else N=zn._fromJSON(t,b);_!==h&&(g=N),h=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!p.length?new Ga(h,t,r):(h=p[0],g&&await h._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new Ga(h,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Mv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kv(t))return"Blackberry";if(Pv(t))return"Webos";if(Dv(t))return"Safari";if((t.includes("chrome/")||Ov(t))&&!t.includes("edge/"))return"Chrome";if(Vv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function xv(s=$e()){return/firefox\//i.test(s)}function Dv(s=$e()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ov(s=$e()){return/crios\//i.test(s)}function Mv(s=$e()){return/iemobile/i.test(s)}function Vv(s=$e()){return/android/i.test(s)}function kv(s=$e()){return/blackberry/i.test(s)}function Pv(s=$e()){return/webos/i.test(s)}function wm(s=$e()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function gS(s=$e()){return wm(s)&&!!window.navigator?.standalone}function pS(){return Db()&&document.documentMode===10}function Uv(s=$e()){return wm(s)||Vv(s)||Pv(s)||kv(s)||/windows phone/i.test(s)||Mv(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(s,t=[]){let i;switch(s){case"Browser":i=G0($e());break;case"Worker":i=`${G0($e())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${no}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=h=>new Promise((d,g)=>{try{const p=t(h);d(p)}catch(p){g(p)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(s,t={}){return io(s,"GET","/v2/passwordPolicy",Bl(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=6;class ES{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??vS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F0(this),this.idTokenSubscription=new F0(this),this.beforeStateQueue=new yS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Av,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Gi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await zc(this,{idToken:t}),r=await zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Dn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(h){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Bc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=nS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Dn(this.app))return Promise.reject(Fi(this));const i=t?He(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Dn(this.app)?Promise.reject(Fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _S(this),i=new ES(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ll("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await mS(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Gi(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Gi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(g,this,"internal-error"),g.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,r,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Lv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&WA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ql(s){return He(s)}class F0{constructor(t){this.auth=t,this.observer=null,this.addObserver=jb(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bS(s){Rm=s}function AS(s){return Rm.loadJS(s)}function SS(){return Rm.gapiScript}function wS(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(s,t){const i=Em(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(kr(h,t??{}))return l;Qi(l,"already-initialized")}return i.initialize({options:t})}function IS(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Gi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function CS(s,t,i){const r=ql(s);Tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,h=jv(t),{host:d,port:g}=NS(t),p=g===null?"":`:${g}`,_={url:`${h}//${d}${p}/`},b=Object.freeze({host:d,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Tt(kr(_,r.config.emulator)&&kr(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,eo(d)?(mv(`${h}//${d}${p}`),gv("Auth",!0)):xS()}function jv(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function NS(s){const t=jv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const h=l[1];return{host:h,port:K0(r.substr(h.length+1))}}else{const[h,d]=r.split(":");return{host:h,port:K0(d)}}}function K0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function xS(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Hi("not implemented")}_getIdTokenResponse(t){return Hi("not implemented")}_linkToIdToken(t,i){return Hi("not implemented")}_getReauthenticationResolver(t){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(s,t){return Am(s,"POST","/v1/accounts:signInWithIdp",Bl(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="http://localhost";class Ur extends zv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ur(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Qi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...h}=i;if(!r||!l)return null;const d=new Ur(r,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Fa(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Fa(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fa(t,i)}buildRequest(){const t={requestUri:DS,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=jl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends Bv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Hl{constructor(){super("facebook.com")}static credential(t){return Ur._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ns.credentialFromTaggedObject(t)}static credentialFromError(t){return Ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ns.credential(t.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ur._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return xs.credentialFromTaggedObject(t)}static credentialFromError(t){return xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return xs.credential(i,r)}catch{return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com";xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Hl{constructor(){super("github.com")}static credential(t){return Ur._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ds.credentialFromTaggedObject(t)}static credentialFromError(t){return Ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ds.credential(t.oauthAccessToken)}catch{return null}}}Ds.GITHUB_SIGN_IN_METHOD="github.com";Ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Hl{constructor(){super("twitter.com")}static credential(t,i){return Ur._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Os.credentialFromTaggedObject(t)}static credentialFromError(t){return Os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Os.credential(i,r)}catch{return null}}}Os.TWITTER_SIGN_IN_METHOD="twitter.com";Os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OS(s,t){return Am(s,"POST","/v1/accounts:signUp",Bl(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const h=await zn._fromIdTokenResponse(t,r,l),d=Q0(r);return new Yi({user:h,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Q0(r);return new Yi({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Q0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X0(s){if(Dn(s.app))return Promise.reject(Fi(s));const t=ql(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Yi({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await OS(t,{returnSecureToken:!0}),r=await Yi._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends Ji{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new qc(t,i,r,l)}}function qv(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(s,h,t,r):h})}async function MS(s,t,i=!1){const r=await Dl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Yi._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VS(s,t,i=!1){const{auth:r}=s;if(Dn(r.app))return Promise.reject(Fi(r));const l="reauthenticate";try{const h=await Dl(s,qv(r,l,t,s),i);Tt(h.idToken,r,"internal-error");const d=Sm(h.idToken);Tt(d,r,"internal-error");const{sub:g}=d;return Tt(s.uid===g,r,"user-mismatch"),Yi._forOperation(s,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Qi(r,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kS(s,t,i=!1){if(Dn(s.app))return Promise.reject(Fi(s));const r="signIn",l=await qv(s,r,t),h=await Yi._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(h.user),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PS(s,t){return Am(s,"POST","/v1/accounts:signInWithCustomToken",Bl(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function US(s,t){if(Dn(s.app))return Promise.reject(Fi(s));const i=ql(s),r=await PS(i,{token:t,returnSecureToken:!0}),l=await Yi._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(l.user),l}function LS(s,t,i,r){return He(s).onIdTokenChanged(t,i,r)}function jS(s,t,i){return He(s).beforeAuthStateChanged(t,i)}function zS(s,t,i,r){return He(s).onAuthStateChanged(t,i,r)}function BS(s){return He(s).signOut()}const Hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=1e3,HS=10;class Gv extends Hv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Uv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},h=this.storage.getItem(r);pS()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,HS):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},qS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Gv.type="LOCAL";const GS=Gv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv extends Hv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Fv.type="SESSION";const Kv=Fv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new sh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,h)),p=await FS(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((g,p)=>{const _=Im("",20);l.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(N){const S=N;if(S.data.eventId===_)switch(S.data.status){case"ack":clearTimeout(b),h=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(S.data.response);break;default:clearTimeout(b),clearTimeout(h),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function QS(s){ai().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function XS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YS(){return navigator?.serviceWorker?.controller||null}function ZS(){return Qv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="firebaseLocalStorageDb",$S=1,Gc="firebaseLocalStorage",Yv="fbase_key";class Gl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rh(s,t){return s.transaction([Gc],t?"readwrite":"readonly").objectStore(Gc)}function JS(){const s=indexedDB.deleteDatabase(Xv);return new Gl(s).toPromise()}function $d(){const s=indexedDB.open(Xv,$S);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Gc,{keyPath:Yv})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Gc)?t(r):(r.close(),await JS(),t(await $d()))})})}async function Y0(s,t,i){const r=rh(s,!0).put({[Yv]:t,value:i});return new Gl(r).toPromise()}async function WS(s,t){const i=rh(s,!1).get(t),r=await new Gl(i).toPromise();return r===void 0?null:r.value}function Z0(s,t){const i=rh(s,!0).delete(t);return new Gl(i).toPromise()}const tw=800,ew=3;class Zv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $d(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>ew)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(ZS()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XS(),!this.activeServiceWorker)return;this.sender=new KS(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||YS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $d();return await Y0(t,Hc,"1"),await Z0(t,Hc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Y0(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>WS(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Z0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=rh(l,!1).getAll();return new Gl(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zv.type="LOCAL";const nw=Zv;new zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(s,t){return t?Gi(t):(Tt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends zv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function sw(s){return kS(s.auth,new Cm(s),s.bypassAuthState)}function rw(s){const{auth:t,user:i}=s;return Tt(i,t,"internal-error"),VS(i,new Cm(s),s.bypassAuthState)}async function aw(s){const{auth:t,user:i}=s;return Tt(i,t,"internal-error"),MS(i,new Cm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(t,i,r,l,h=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:h,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:r,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sw;case"linkViaPopup":case"linkViaRedirect":return aw;case"reauthViaPopup":case"reauthViaRedirect":return rw;default:Qi(this.auth,"internal-error")}}resolve(t){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=new zl(2e3,1e4);class qa extends $v{constructor(t,i,r,l,h){super(t,i,l,h),this.provider=r,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const t=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ow.get())};t()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="pendingRedirect",Cc=new Map;class uw extends $v{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Cc.get(this.auth._key());if(!t){try{const r=await cw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Cc.set(this.auth._key(),t)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cw(s,t){const i=dw(t),r=fw(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function hw(s,t){Cc.set(s._key(),t)}function fw(s){return Gi(s._redirectPersistence)}function dw(s){return Ic(lw,s.config.apiKey,s.name)}async function mw(s,t,i=!1){if(Dn(s.app))return Promise.reject(Fi(s));const r=ql(s),l=iw(r,t),d=await new uw(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=600*1e3;class pw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!yw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!Jv(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ri(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=gw&&this.cachedEventUids.clear(),this.cachedEventUids.has($0(t))}saveEventToCache(t){this.cachedEventUids.add($0(t)),this.lastProcessedEventTime=Date.now()}}function $0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function Jv({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function yw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jv(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _w(s,t={}){return io(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ew=/^https?/;async function Tw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await _w(s);for(const i of t)try{if(bw(i))return}catch{}Qi(s,"unauthorized-domain")}function bw(s){const t=Yd(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!Ew.test(i))return!1;if(vw.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new zl(3e4,6e4);function J0(){const s=ai().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Sw(s){return new Promise((t,i)=>{function r(){J0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{J0(),i(ri(s,"network-request-failed"))},timeout:Aw.get()})}if(ai().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ai().gapi?.load)r();else{const l=wS("iframefcb");return ai()[l]=()=>{gapi.load?r():i(ri(s,"network-request-failed"))},AS(`${SS()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw Nc=null,t})}let Nc=null;function ww(s){return Nc=Nc||Sw(s),Nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=new zl(5e3,15e3),Iw="__/auth/iframe",Cw="emulator/auth/iframe",Nw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dw(s){const t=s.config;Tt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?bm(t,Cw):`https://${s.config.authDomain}/${Iw}`,r={apiKey:t.apiKey,appName:s.name,v:no},l=xw.get(s.config.apiHost);l&&(r.eid=l);const h=s._getFrameworks();return h.length&&(r.fw=h.join(",")),`${i}?${jl(r).slice(1)}`}async function Ow(s){const t=await ww(s),i=ai().gapi;return Tt(i,s,"internal-error"),t.open({where:document.body,url:Dw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nw,dontclear:!0},r=>new Promise(async(l,h)=>{await r.restyle({setHideOnLeave:!1});const d=ri(s,"network-request-failed"),g=ai().setTimeout(()=>{h(d)},Rw.get());function p(){ai().clearTimeout(g),l(r)}r.ping(p).then(p,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vw=500,kw=600,Pw="_blank",Uw="http://localhost";class W0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Lw(s,t,i,r=Vw,l=kw){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const p={...Mw,width:r.toString(),height:l.toString(),top:h,left:d},_=$e().toLowerCase();i&&(g=Ov(_)?Pw:i),xv(_)&&(t=t||Uw,p.scrollbars="yes");const b=Object.entries(p).reduce((S,[z,X])=>`${S}${z}=${X},`,"");if(gS(_)&&g!=="_self")return jw(t||"",g),new W0(null);const N=window.open(t||"",g,b);Tt(N,s,"popup-blocked");try{N.focus()}catch{}return new W0(N)}function jw(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="__/auth/handler",Bw="emulator/auth/handler",qw=encodeURIComponent("fac");async function t_(s,t,i,r,l,h){Tt(s.config.authDomain,s,"auth-domain-config-required"),Tt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:no,eventId:l};if(t instanceof Bv){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",Lb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,N]of Object.entries({}))d[b]=N}if(t instanceof Hl){const b=t.getScopes().filter(N=>N!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const p=await s._getAppCheckToken(),_=p?`#${qw}=${encodeURIComponent(p)}`:"";return`${Hw(s)}?${jl(g).slice(1)}${_}`}function Hw({config:s}){return s.emulator?bm(s,Bw):`https://${s.authDomain}/${zw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="webStorageSupport";class Gw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kv,this._completeRedirectFn=mw,this._overrideRedirectResult=hw}async _openPopup(t,i,r,l){Xi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await t_(t,i,r,Yd(),l);return Lw(t,h,Im())}async _openRedirect(t,i,r,l){await this._originValidation(t);const h=await t_(t,i,r,Yd(),l);return QS(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(Xi(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await Ow(t),r=new pw(t);return i.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ud,{type:Ud},l=>{const h=l?.[0]?.[Ud];h!==void 0&&i(!!h),Qi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Tw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Uv()||Dv()||wm()}}const Fw=Gw;var e_="@firebase/auth",n_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xw(s){Xa(new Pr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lv(s)},_=new TS(r,l,h,p);return IS(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Xa(new Pr("auth-internal",t=>{const i=ql(t.getProvider("auth").getImmediate());return(r=>new Kw(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(e_,n_,Qw(s)),Ps(e_,n_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=300,Zw=dv("authIdTokenMaxAge")||Yw;let i_=null;const $w=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>Zw)return;const l=i?.token;i_!==l&&(i_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Jw(s=vv()){const t=Em(s,"auth");if(t.isInitialized())return t.getImmediate();const i=RS(s,{popupRedirectResolver:Fw,persistence:[nw,GS,Kv]}),r=dv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(r,location.origin);if(location.origin===h.origin){const d=$w(h.toString());jS(i,d,()=>d(i.currentUser)),LS(i,g=>d(g))}}const l=hv("auth");return l&&CS(i,`http://${l}`),i}function Ww(){return document.getElementsByTagName("head")?.[0]??document}bS({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const h=ri("internal-error");h.customData=l,i(h)},r.type="text/javascript",r.charset="UTF-8",Ww().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xw("Browser");var s_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Us,Wv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,w){function I(){}I.prototype=w.prototype,M.D=w.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(O,V,P){for(var C=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)C[ke-2]=arguments[ke];return w.prototype[V].apply(O,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,w,I){I||(I=0);var O=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)O[V]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(V=0;16>V;++V)O[V]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=M.g[0],I=M.g[1],V=M.g[2];var P=M.g[3],C=w+(P^I&(V^P))+O[0]+3614090360&4294967295;w=I+(C<<7&4294967295|C>>>25),C=P+(V^w&(I^V))+O[1]+3905402710&4294967295,P=w+(C<<12&4294967295|C>>>20),C=V+(I^P&(w^I))+O[2]+606105819&4294967295,V=P+(C<<17&4294967295|C>>>15),C=I+(w^V&(P^w))+O[3]+3250441966&4294967295,I=V+(C<<22&4294967295|C>>>10),C=w+(P^I&(V^P))+O[4]+4118548399&4294967295,w=I+(C<<7&4294967295|C>>>25),C=P+(V^w&(I^V))+O[5]+1200080426&4294967295,P=w+(C<<12&4294967295|C>>>20),C=V+(I^P&(w^I))+O[6]+2821735955&4294967295,V=P+(C<<17&4294967295|C>>>15),C=I+(w^V&(P^w))+O[7]+4249261313&4294967295,I=V+(C<<22&4294967295|C>>>10),C=w+(P^I&(V^P))+O[8]+1770035416&4294967295,w=I+(C<<7&4294967295|C>>>25),C=P+(V^w&(I^V))+O[9]+2336552879&4294967295,P=w+(C<<12&4294967295|C>>>20),C=V+(I^P&(w^I))+O[10]+4294925233&4294967295,V=P+(C<<17&4294967295|C>>>15),C=I+(w^V&(P^w))+O[11]+2304563134&4294967295,I=V+(C<<22&4294967295|C>>>10),C=w+(P^I&(V^P))+O[12]+1804603682&4294967295,w=I+(C<<7&4294967295|C>>>25),C=P+(V^w&(I^V))+O[13]+4254626195&4294967295,P=w+(C<<12&4294967295|C>>>20),C=V+(I^P&(w^I))+O[14]+2792965006&4294967295,V=P+(C<<17&4294967295|C>>>15),C=I+(w^V&(P^w))+O[15]+1236535329&4294967295,I=V+(C<<22&4294967295|C>>>10),C=w+(V^P&(I^V))+O[1]+4129170786&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^V&(w^I))+O[6]+3225465664&4294967295,P=w+(C<<9&4294967295|C>>>23),C=V+(w^I&(P^w))+O[11]+643717713&4294967295,V=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(V^P))+O[0]+3921069994&4294967295,I=V+(C<<20&4294967295|C>>>12),C=w+(V^P&(I^V))+O[5]+3593408605&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^V&(w^I))+O[10]+38016083&4294967295,P=w+(C<<9&4294967295|C>>>23),C=V+(w^I&(P^w))+O[15]+3634488961&4294967295,V=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(V^P))+O[4]+3889429448&4294967295,I=V+(C<<20&4294967295|C>>>12),C=w+(V^P&(I^V))+O[9]+568446438&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^V&(w^I))+O[14]+3275163606&4294967295,P=w+(C<<9&4294967295|C>>>23),C=V+(w^I&(P^w))+O[3]+4107603335&4294967295,V=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(V^P))+O[8]+1163531501&4294967295,I=V+(C<<20&4294967295|C>>>12),C=w+(V^P&(I^V))+O[13]+2850285829&4294967295,w=I+(C<<5&4294967295|C>>>27),C=P+(I^V&(w^I))+O[2]+4243563512&4294967295,P=w+(C<<9&4294967295|C>>>23),C=V+(w^I&(P^w))+O[7]+1735328473&4294967295,V=P+(C<<14&4294967295|C>>>18),C=I+(P^w&(V^P))+O[12]+2368359562&4294967295,I=V+(C<<20&4294967295|C>>>12),C=w+(I^V^P)+O[5]+4294588738&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^V)+O[8]+2272392833&4294967295,P=w+(C<<11&4294967295|C>>>21),C=V+(P^w^I)+O[11]+1839030562&4294967295,V=P+(C<<16&4294967295|C>>>16),C=I+(V^P^w)+O[14]+4259657740&4294967295,I=V+(C<<23&4294967295|C>>>9),C=w+(I^V^P)+O[1]+2763975236&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^V)+O[4]+1272893353&4294967295,P=w+(C<<11&4294967295|C>>>21),C=V+(P^w^I)+O[7]+4139469664&4294967295,V=P+(C<<16&4294967295|C>>>16),C=I+(V^P^w)+O[10]+3200236656&4294967295,I=V+(C<<23&4294967295|C>>>9),C=w+(I^V^P)+O[13]+681279174&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^V)+O[0]+3936430074&4294967295,P=w+(C<<11&4294967295|C>>>21),C=V+(P^w^I)+O[3]+3572445317&4294967295,V=P+(C<<16&4294967295|C>>>16),C=I+(V^P^w)+O[6]+76029189&4294967295,I=V+(C<<23&4294967295|C>>>9),C=w+(I^V^P)+O[9]+3654602809&4294967295,w=I+(C<<4&4294967295|C>>>28),C=P+(w^I^V)+O[12]+3873151461&4294967295,P=w+(C<<11&4294967295|C>>>21),C=V+(P^w^I)+O[15]+530742520&4294967295,V=P+(C<<16&4294967295|C>>>16),C=I+(V^P^w)+O[2]+3299628645&4294967295,I=V+(C<<23&4294967295|C>>>9),C=w+(V^(I|~P))+O[0]+4096336452&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~V))+O[7]+1126891415&4294967295,P=w+(C<<10&4294967295|C>>>22),C=V+(w^(P|~I))+O[14]+2878612391&4294967295,V=P+(C<<15&4294967295|C>>>17),C=I+(P^(V|~w))+O[5]+4237533241&4294967295,I=V+(C<<21&4294967295|C>>>11),C=w+(V^(I|~P))+O[12]+1700485571&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~V))+O[3]+2399980690&4294967295,P=w+(C<<10&4294967295|C>>>22),C=V+(w^(P|~I))+O[10]+4293915773&4294967295,V=P+(C<<15&4294967295|C>>>17),C=I+(P^(V|~w))+O[1]+2240044497&4294967295,I=V+(C<<21&4294967295|C>>>11),C=w+(V^(I|~P))+O[8]+1873313359&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~V))+O[15]+4264355552&4294967295,P=w+(C<<10&4294967295|C>>>22),C=V+(w^(P|~I))+O[6]+2734768916&4294967295,V=P+(C<<15&4294967295|C>>>17),C=I+(P^(V|~w))+O[13]+1309151649&4294967295,I=V+(C<<21&4294967295|C>>>11),C=w+(V^(I|~P))+O[4]+4149444226&4294967295,w=I+(C<<6&4294967295|C>>>26),C=P+(I^(w|~V))+O[11]+3174756917&4294967295,P=w+(C<<10&4294967295|C>>>22),C=V+(w^(P|~I))+O[2]+718787259&4294967295,V=P+(C<<15&4294967295|C>>>17),C=I+(P^(V|~w))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+P&4294967295}r.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var I=w-this.blockSize,O=this.B,V=this.h,P=0;P<w;){if(V==0)for(;P<=I;)l(this,M,P),P+=this.blockSize;if(typeof M=="string"){for(;P<w;)if(O[V++]=M.charCodeAt(P++),V==this.blockSize){l(this,O),V=0;break}}else for(;P<w;)if(O[V++]=M[P++],V==this.blockSize){l(this,O),V=0;break}}this.h=V,this.o+=w},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var I=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=I&255,I/=256;for(this.u(M),M=Array(16),w=I=0;4>w;++w)for(var O=0;32>O;O+=8)M[I++]=this.g[w]>>>O&255;return M};function h(M,w){var I=g;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=w(M)}function d(M,w){this.h=w;for(var I=[],O=!0,V=M.length-1;0<=V;V--){var P=M[V]|0;O&&P==w||(I[V]=P,O=!1)}this.g=I}var g={};function p(M){return-128<=M&&128>M?h(M,function(w){return new d([w|0],0>w?-1:0)}):new d([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return N;if(0>M)return G(_(-M));for(var w=[],I=1,O=0;M>=I;O++)w[O]=M/I|0,I*=4294967296;return new d(w,0)}function b(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return G(b(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=_(Math.pow(w,8)),O=N,V=0;V<M.length;V+=8){var P=Math.min(8,M.length-V),C=parseInt(M.substring(V,V+P),w);8>P?(P=_(Math.pow(w,P)),O=O.j(P).add(_(C))):(O=O.j(I),O=O.add(_(C)))}return O}var N=p(0),S=p(1),z=p(16777216);s=d.prototype,s.m=function(){if(et(this))return-G(this).m();for(var M=0,w=1,I=0;I<this.g.length;I++){var O=this.i(I);M+=(0<=O?O:4294967296+O)*w,w*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(X(this))return"0";if(et(this))return"-"+G(this).toString(M);for(var w=_(Math.pow(M,6)),I=this,O="";;){var V=yt(I,w).g;I=lt(I,V.j(w));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=V,X(I))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function X(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function et(M){return M.h==-1}s.l=function(M){return M=lt(this,M),et(M)?-1:X(M)?0:1};function G(M){for(var w=M.g.length,I=[],O=0;O<w;O++)I[O]=~M.g[O];return new d(I,~M.h).add(S)}s.abs=function(){return et(this)?G(this):this},s.add=function(M){for(var w=Math.max(this.g.length,M.g.length),I=[],O=0,V=0;V<=w;V++){var P=O+(this.i(V)&65535)+(M.i(V)&65535),C=(P>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);O=C>>>16,P&=65535,C&=65535,I[V]=C<<16|P}return new d(I,I[I.length-1]&-2147483648?-1:0)};function lt(M,w){return M.add(G(w))}s.j=function(M){if(X(this)||X(M))return N;if(et(this))return et(M)?G(this).j(G(M)):G(G(this).j(M));if(et(M))return G(this.j(G(M)));if(0>this.l(z)&&0>M.l(z))return _(this.m()*M.m());for(var w=this.g.length+M.g.length,I=[],O=0;O<2*w;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<M.g.length;V++){var P=this.i(O)>>>16,C=this.i(O)&65535,ke=M.i(V)>>>16,ae=M.i(V)&65535;I[2*O+2*V]+=C*ae,ft(I,2*O+2*V),I[2*O+2*V+1]+=P*ae,ft(I,2*O+2*V+1),I[2*O+2*V+1]+=C*ke,ft(I,2*O+2*V+1),I[2*O+2*V+2]+=P*ke,ft(I,2*O+2*V+2)}for(O=0;O<w;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=w;O<2*w;O++)I[O]=0;return new d(I,0)};function ft(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function J(M,w){this.g=M,this.h=w}function yt(M,w){if(X(w))throw Error("division by zero");if(X(M))return new J(N,N);if(et(M))return w=yt(G(M),w),new J(G(w.g),G(w.h));if(et(w))return w=yt(M,G(w)),new J(G(w.g),w.h);if(30<M.g.length){if(et(M)||et(w))throw Error("slowDivide_ only works with positive integers.");for(var I=S,O=w;0>=O.l(M);)I=ht(I),O=ht(O);var V=Rt(I,1),P=Rt(O,1);for(O=Rt(O,2),I=Rt(I,2);!X(O);){var C=P.add(O);0>=C.l(M)&&(V=V.add(I),P=C),O=Rt(O,1),I=Rt(I,1)}return w=lt(M,V.j(w)),new J(V,w)}for(V=N;0<=M.l(w);){for(I=Math.max(1,Math.floor(M.m()/w.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=_(I),C=P.j(w);et(C)||0<C.l(M);)I-=O,P=_(I),C=P.j(w);X(P)&&(P=S),V=V.add(P),M=lt(M,C)}return new J(V,M)}s.A=function(M){return yt(this,M).h},s.and=function(M){for(var w=Math.max(this.g.length,M.g.length),I=[],O=0;O<w;O++)I[O]=this.i(O)&M.i(O);return new d(I,this.h&M.h)},s.or=function(M){for(var w=Math.max(this.g.length,M.g.length),I=[],O=0;O<w;O++)I[O]=this.i(O)|M.i(O);return new d(I,this.h|M.h)},s.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),I=[],O=0;O<w;O++)I[O]=this.i(O)^M.i(O);return new d(I,this.h^M.h)};function ht(M){for(var w=M.g.length+1,I=[],O=0;O<w;O++)I[O]=M.i(O)<<1|M.i(O-1)>>>31;return new d(I,M.h)}function Rt(M,w){var I=w>>5;w%=32;for(var O=M.g.length-I,V=[],P=0;P<O;P++)V[P]=0<w?M.i(P+I)>>>w|M.i(P+I+1)<<32-w:M.i(P+I);return new d(V,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Wv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,Us=d}).apply(typeof s_<"u"?s_:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var t1,vl,e1,xc,Jd,n1,i1,s1;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var y=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var y=0,T=!1,U={next:function(){if(!T&&y<u.length){var H=y++;return{value:m(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return h(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function b(u,m,y){return u.call.apply(u.bind,arguments)}function N(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function S(u,m,y){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:N,S.apply(null,arguments)}function z(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function X(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,U,H){for(var it=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)it[kt-2]=arguments[kt];return m.prototype[U].apply(T,it)}}function et(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function G(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const U=u.length||0,H=T.length||0;u.length=U+H;for(let it=0;it<H;it++)u[U+it]=T[it]}else u.push(T)}}class lt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ft(u){return/^[\s\xa0]*$/.test(u)}function J(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function yt(u){return yt[" "](u),u}yt[" "]=function(){};var ht=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function Rt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function M(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function w(u){const m={};for(const y in u)m[y]=u[y];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let H=0;H<I.length;H++)y=I[H],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function V(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function P(u){g.setTimeout(()=>{throw u},0)}function C(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ke{constructor(){this.h=this.g=null}add(m,y){const T=ae.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ae=new lt(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let st,dt=!1,zt=new ke,x=()=>{const u=g.Promise.resolve(void 0);st=()=>{u.then($)}};var $=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(y){P(y)}var m=ae;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}dt=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var mt=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u})();function Ct(u,m){if(nt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ht){t:{try{yt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:bt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ct.aa.h.call(this)}}X(Ct,nt);var bt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Bn(u,m,y,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=U,this.key=++Jt,this.da=this.fa=!1}function Wi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function yi(u){this.src=u,this.g={},this.h=0}yi.prototype.add=function(u,m,y,T,U){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var it=Ys(u,m,T,U);return-1<it?(m=u[it],y||(m.fa=!1)):(m=new Bn(m,this.src,H,!!T,U),m.fa=y,u.push(m)),m};function Xs(u,m){var y=m.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=U)&&Array.prototype.splice.call(T,U,1),H&&(Wi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Ys(u,m,y,T){for(var U=0;U<u.length;++U){var H=u[U];if(!H.da&&H.listener==m&&H.capture==!!y&&H.ha==T)return U}return-1}var Zs="closure_lm_"+(1e6*Math.random()|0),lo={};function Zl(u,m,y,T,U){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Zl(u,m[H],y,T,U);return null}return y=$l(y),u&&u[Ce]?u.K(m,y,_(T)?!!T.capture:!1,U):_n(u,m,y,!1,T,U)}function _n(u,m,y,T,U,H){if(!m)throw Error("Invalid event type");var it=_(U)?!!U.capture:!!U,kt=Fr(u);if(kt||(u[Zs]=kt=new yi(u)),y=kt.add(m,y,T,it,H),y.proxy)return y;if(T=Sh(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)mt||(U=it),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent($s(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Sh(){function u(y){return m.call(u.src,u.listener,y)}const m=wh;return u}function uo(u,m,y,T,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)uo(u,m[H],y,T,U);else T=_(T)?!!T.capture:!!T,y=$l(y),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],y=Ys(H,y,T,U),-1<y&&(Wi(H[y]),Array.prototype.splice.call(H,y,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=Fr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ys(m,y,T,U)),(y=-1<u?m[u]:null)&&Gr(y))}function Gr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])Xs(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent($s(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Fr(m))?(Xs(y,u),y.h==0&&(y.src=null,m[Zs]=null)):Wi(u)}}}function $s(u){return u in lo?lo[u]:lo[u]="on"+u}function wh(u,m){if(u.da)u=!0;else{m=new Ct(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&Gr(u),u=y.call(T,m)}return u}function Fr(u){return u=u[Zs],u instanceof yi?u:null}var co="__closure_events_fn_"+(1e9*Math.random()>>>0);function $l(u){return typeof u=="function"?u:(u[co]||(u[co]=function(m){return u.handleEvent(m)}),u[co])}function oe(){rt.call(this),this.i=new yi(this),this.M=this,this.F=null}X(oe,rt),oe.prototype[Ce]=!0,oe.prototype.removeEventListener=function(u,m,y,T){uo(this,u,m,y,T)};function Gt(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new nt(m,u);else if(m instanceof nt)m.target=m.target||u;else{var U=m;m=new nt(T,u),O(m,U)}if(U=!0,y)for(var H=y.length-1;0<=H;H--){var it=m.g=y[H];U=ln(it,T,!0,m)&&U}if(it=m.g=u,U=ln(it,T,!0,m)&&U,U=ln(it,T,!1,m)&&U,y)for(H=0;H<y.length;H++)it=m.g=y[H],U=ln(it,T,!1,m)&&U}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Wi(y[T]);delete u.g[m],u.h--}}this.F=null},oe.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},oe.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function ln(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,H=0;H<m.length;++H){var it=m[H];if(it&&!it.da&&it.capture==y){var kt=it.listener,be=it.ha||it.src;it.fa&&Xs(u.i,it),U=kt.call(be,T)!==!1&&U}}return U&&!T.defaultPrevented}function Fe(u,m,y){if(typeof u=="function")y&&(u=S(u,y));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Jl(u){u.g=Fe(()=>{u.g=null,u.i&&(u.i=!1,Jl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Rh extends rt{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Js(u){rt.call(this),this.h=u,this.g={}}X(Js,rt);var Ws=[];function tr(u){Rt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Gr(m)},u),u.g={}}Js.prototype.N=function(){Js.aa.N.call(this),tr(this)},Js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=g.JSON.stringify,Kr=g.JSON.parse,er=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function ho(){}ho.prototype.h=null;function fo(u){return u.h||(u.h=u.i())}function mo(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){nt.call(this,"d")}X(vi,nt);function go(){nt.call(this,"c")}X(go,nt);var qn={},po=null;function ts(){return po=po||new oe}qn.La="serverreachability";function Qr(u){nt.call(this,qn.La,u)}X(Qr,nt);function es(u){const m=ts();Gt(m,new Qr(m))}qn.STAT_EVENT="statevent";function Wl(u,m){nt.call(this,qn.STAT_EVENT,u),this.stat=m}X(Wl,nt);function ne(u){const m=ts();Gt(m,new Wl(m,u))}qn.Ma="timingevent";function Te(u,m){nt.call(this,qn.Ma,u),this.size=m}X(Te,nt);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function yo(u,m,y,T,U,H){u.info(function(){if(u.g)if(H)for(var it="",kt=H.split("&"),be=0;be<kt.length;be++){var Pt=kt[be].split("=");if(1<Pt.length){var xe=Pt[0];Pt=Pt[1];var Ae=xe.split("_");it=2<=Ae.length&&Ae[1]=="type"?it+(xe+"="+Pt+"&"):it+(xe+"=redacted&")}}else it=null;else it=H;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+y+`
`+it})}function Ih(u,m,y,T,U,H,it){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+y+`
`+H+" "+it})}function ns(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+nr(u,y)+(T?" "+T:"")})}function tu(u,m){u.info(function(){return"TIMEOUT: "+m})}vn.prototype.info=function(){};function nr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var it=1;it<U.length;it++)U[it]=""}}}}return Vn(y)}catch{return m}}var is={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function Gn(){}X(Gn,ho),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},Hn=new Gn;function Je(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new Js(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var _o={},Xr={};function kn(u,m,y){u.L=1,u.v=or(un(m)),u.m=y,u.P=!0,Ti(u,null)}function Ti(u,m){u.F=Date.now(),ir(u),u.A=un(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),So(y.i,"t",T),u.C=0,y=u.j.J,u.h=new ce,u.g=pu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Rh(S(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Ws[0]=U.toString()),U=Ws);for(var H=0;H<U.length;H++){var it=Zl(y,U[H],T||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),es(),yo(u.i,u.u,u.A,u.l,u.R,u.m)}Je.prototype.ca=function(u){u=u.target;const m=this.M;m&&An(u)==3?m.j():this.Y(u)},Je.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=An(this.g);var m=this.g.Ba();const Ni=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||lu(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=Ni?es(3):es(2)),ss(this);var y=this.g.Z();this.X=y;e:if(eu(this)){var T=lu(this.g);u="";var U=T.length,H=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),Fn(this);var it="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(H&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=y==200,Ih(this.i,this.u,this.A,this.l,this.R,Ae,y),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,be=this.g;if((kt=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ft(kt)){var Pt=kt;break e}}Pt=null}if(y=Pt)ns(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sr(this,y);else{this.o=!1,this.s=3,ne(12),Pe(this),Fn(this);break t}}if(this.P){y=!0;let Ue;for(;!this.J&&this.C<it.length;)if(Ue=nu(this,it),Ue==Xr){Ae==4&&(this.s=4,ne(14),y=!1),ns(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==_o){this.s=4,ne(15),ns(this.i,this.l,it,"[Invalid Chunk]"),y=!1;break}else ns(this.i,this.l,Ue,null),sr(this,Ue);if(eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||it.length!=0||this.h.h||(this.s=1,ne(16),y=!1),this.o=this.o&&y,!y)ns(this.i,this.l,it,"[Invalid Chunked Response]"),Pe(this),Fn(this);else if(0<it.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),gr(xe),xe.M=!0,ne(11))}}else ns(this.i,this.l,it,null),sr(this,it);Ae==4&&Pe(this),this.o&&!this.J&&(Ae==4?du(this.j,this):(this.o=!1,ir(this)))}else Oh(this.g),y==400&&0<it.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),Pe(this),Fn(this)}}}catch{}finally{}};function eu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function nu(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Xr:(y=Number(m.substring(y,T)),isNaN(y)?_o:(T+=1,T+y>m.length?Xr:(m=m.slice(T,T+y),u.C=T+y,m)))}Je.prototype.cancel=function(){this.J=!0,Pe(this)};function ir(u){u.S=Date.now()+u.I,iu(u,u.I)}function iu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(S(u.ba,u),m)}function ss(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Je.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(tu(this.i,this.A),this.L!=2&&(es(),ne(17)),Pe(this),this.s=2,Fn(this)):iu(this,this.S-u)};function Fn(u){u.j.G==0||u.J||du(u.j,u)}function Pe(u){ss(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,tr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function sr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||vo(y.h,u))){if(!u.K&&vo(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)aa(y),sa(y);else break t;No(y),ne(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=me(S(y.Za,y),6e3));if(1>=Zr(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ci(y,11)}else if((u.K||y.g==u)&&aa(y),!ft(m))for(U=y.Da.g.parse(m),m=0;m<U.length;m++){let Pt=U[m];if(y.T=Pt[0],Pt=Pt[1],y.G==2)if(Pt[0]=="c"){y.K=Pt[1],y.ia=Pt[2];const xe=Pt[3];xe!=null&&(y.la=xe,y.j.info("VER="+y.la));const Ae=Pt[4];Ae!=null&&(y.Aa=Ae,y.j.info("SVER="+y.Aa));const Ni=Pt[5];Ni!=null&&typeof Ni=="number"&&0<Ni&&(T=1.5*Ni,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Ue=u.g;if(Ue){const Jn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var H=T.h;H.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&($r(H,H.h),H.h=null))}if(T.D){const Do=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(T.ya=Do,Qt(T.I,T.D,Do))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var it=u;if(T.qa=gu(T,T.J?T.ia:null,T.W),it.K){We(T.h,it);var kt=it,be=T.L;be&&(kt.I=be),kt.B&&(ss(kt),ir(kt)),T.g=it}else hu(T);0<y.i.length&&ra(y)}else Pt[0]!="stop"&&Pt[0]!="close"||Ci(y,7);else y.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Ci(y,7):Io(y):Pt[0]!="noop"&&y.l&&y.l.ta(Pt),y.v=0)}}es(4)}catch{}}var su=class{constructor(u,m){this.g=u,this.map=m}};function bi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Zr(u){return u.h?1:u.g?u.g.size:0}function vo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function $r(u,m){u.g?u.g.add(m):u.h=m}function We(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bi.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Eo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return et(u.i)}function Ch(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function Jr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function To(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Jr(u),T=Ch(u),U=T.length,H=0;H<U;H++)m.call(void 0,T[H],y&&y[H],u)}var rr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),U=null;if(0<=T){var H=u[y].substring(0,T);U=u[y].substring(T+1)}else H=u[y];m(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,ar(this,u.j),this.o=u.o,this.g=u.g,rs(this,u.s),this.l=u.l;var m=u.i,y=new Si;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Ai(this,y),this.m=u.m}else u&&(m=String(u).match(rr))?(this.h=!1,ar(this,m[1]||"",!0),this.o=En(m[2]||""),this.g=En(m[3]||"",!0),rs(this,m[4]),this.l=En(m[5]||"",!0),Ai(this,m[6]||"",!0),this.m=En(m[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}ge.prototype.toString=function(){var u=[],m=this.j;m&&u.push(lr(m,bo,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(lr(m,bo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(lr(y,y.charAt(0)=="/"?xh:Ao,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",lr(y,Wr)),u.join("")};function un(u){return new ge(u)}function ar(u,m,y){u.j=y?En(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rs(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ai(u,m,y){m instanceof Si?(u.i=m,au(u.i,u.h)):(y||(m=lr(m,Dh)),u.i=new Si(m,u.h))}function Qt(u,m,y){u.i.set(m,y)}function or(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function En(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function lr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,ru),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ru(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var bo=/[#\/\?@]/g,Ao=/[#\?:]/g,xh=/[#\?]/g,Dh=/[#\?@]/g,Wr=/#/g;function Si(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Nh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=Si.prototype,s.add=function(u,m){Tn(this),this.i=null,u=Kn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function wi(u,m){Tn(u),m=Kn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ri(u,m){return Tn(u),m=Kn(u,m),u.g.has(m)}s.forEach=function(u,m){Tn(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(m,U,T,this)},this)},this)},s.na=function(){Tn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const U=u[T];for(let H=0;H<U.length;H++)y.push(m[T])}return y},s.V=function(u){Tn(this);let m=[];if(typeof u=="string")Ri(this,u)&&(m=m.concat(this.g.get(Kn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},s.set=function(u,m){return Tn(this),this.i=null,u=Kn(this,u),Ri(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function So(u,m,y){wi(u,m),0<y.length&&(u.i=null,u.g.set(Kn(u,m),et(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const H=encodeURIComponent(String(T)),it=this.V(T);for(T=0;T<it.length;T++){var U=H;it[T]!==""&&(U+="="+encodeURIComponent(String(it[T]))),u.push(U)}}return this.i=u.join("&")};function Kn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function au(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(y,T){var U=T.toLowerCase();T!=U&&(wi(this,T),So(this,U,y))},u)),u.j=m}function ur(u,m){const y=new vn;if(g.Image){const T=new Image;T.onload=z(bn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=z(bn,y,"TestLoadImage: error",!1,m,T),T.onabort=z(bn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=z(bn,y,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Pn(u,m){const y=new vn,T=new AbortController,U=setTimeout(()=>{T.abort(),bn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(U),H.ok?bn(y,"TestPingServer: ok",!0,m):bn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),bn(y,"TestPingServer: error",!1,m)})}function bn(u,m,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function cr(){this.g=new er}function Qn(u,m,y){const T=y||"";try{To(u,function(U,H){let it=U;_(U)&&(it=Vn(U)),m.push(T+H+"="+encodeURIComponent(it))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function as(u){this.l=u.Ub||null,this.j=u.eb||!1}X(as,ho),as.prototype.g=function(){return new Ii(this.l,this.j)},as.prototype.i=(function(u){return function(){return u}})({});function Ii(u,m){oe.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(Ii,oe),s=Ii.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Yn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function wo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Xn(this):Yn(this),this.readyState==3&&wo(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Xn(this))},s.Qa=function(u){this.g&&(this.response=u,Xn(this))},s.ga=function(){this.g&&Xn(this)};function Xn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ro(u){let m="";return Rt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Ne(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Ro(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Qt(u,m,y))}function qt(u){oe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(qt,oe);var ta=/^https?$/i,hr=["POST","PUT"];s=qt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?fo(this.o):fo(Hn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){ou(this,H);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())y.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(H=>H.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(hr,m,void 0))||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,it]of y)this.g.setRequestHeader(H,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fr(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){ou(this,H)}};function ou(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ea(u),Zn(u)}function ea(u){u.A||(u.A=!0,Gt(u,"complete"),Gt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Gt(this,"complete"),Gt(this,"abort"),Zn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?na(this):this.bb())},s.bb=function(){na(this)};function na(u){if(u.h&&typeof d<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)Fe(u.Ea,0,u);else if(Gt(u,"readystatechange"),An(u)==4){u.h=!1;try{const it=u.Z();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=it===0){var U=String(u.D).match(rr)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!ta.test(U?U.toLowerCase():"")}y=T}if(y)Gt(u,"complete"),Gt(u,"success");else{u.m=6;try{var H=2<An(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",ea(u)}}finally{Zn(u)}}}}function Zn(u,m){if(u.g){fr(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Gt(u,"ready");try{y.onreadystatechange=T}catch{}}}function fr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Kr(m)}};function lu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oh(u){const m={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ft(u[T]))continue;var y=V(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const H=m[U]||[];m[U]=H,H.push(y)}M(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function dr(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ia(u){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=dr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=dr("baseRetryDelayMs",5e3,u),this.cb=dr("retryDelaySeedMs",1e4,u),this.Wa=dr("forwardChannelMaxRetries",2,u),this.wa=dr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(u&&u.concurrentRequestLimit),this.Da=new cr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ia.prototype,s.la=8,s.G=1,s.connect=function(u,m,y,T){ne(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=gu(this,null,this.W),ra(this)};function Io(u){if(uu(u),u.G==3){var m=u.U++,y=un(u.I);if(Qt(y,"SID",u.K),Qt(y,"RID",m),Qt(y,"TYPE","terminate"),mr(u,y),m=new Je(u,u.j,m),m.L=2,m.v=or(un(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=pu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ir(m)}mu(u)}function sa(u){u.g&&(gr(u),u.g.cancel(),u.g=null)}function uu(u){sa(u),u.u&&(g.clearTimeout(u.u),u.u=null),aa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ra(u){if(!Yr(u.h)&&!u.s){u.s=!0;var m=u.Ga;st||x(),dt||(st(),dt=!0),zt.add(m,u),u.B=0}}function Mh(u,m){return Zr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(S(u.Ga,u,m),xo(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Je(this,this.j,u);let H=this.o;if(this.S&&(H?(H=w(H),O(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=cu(this,U,m),y=un(this.I),Qt(y,"RID",u),Qt(y,"CVER",22),this.D&&Qt(y,"X-HTTP-Session-Id",this.D),mr(this,y),H&&(this.O?m="headers="+encodeURIComponent(String(Ro(H)))+"&"+m:this.m&&Ne(y,this.m,H)),$r(this.h,U),this.Ua&&Qt(y,"TYPE","init"),this.P?(Qt(y,"$req",m),Qt(y,"SID","null"),U.T=!0,kn(U,y,null)):kn(U,y,m),this.G=2}}else this.G==3&&(u?Co(this,u):this.i.length==0||Yr(this.h)||Co(this))};function Co(u,m){var y;m?y=m.l:y=u.U++;const T=un(u.I);Qt(T,"SID",u.K),Qt(T,"RID",y),Qt(T,"AID",u.T),mr(u,T),u.m&&u.o&&Ne(T,u.m,u.o),y=new Je(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=cu(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),$r(u.h,y),kn(y,T,m)}function mr(u,m){u.H&&Rt(u.H,function(y,T){Qt(m,T,y)}),u.l&&To({},function(y,T){Qt(m,T,y)})}function cu(u,m,y){y=Math.min(u.i.length,y);var T=u.l?S(u.l.Na,u.l,u):null;t:{var U=u.i;let H=-1;for(;;){const it=["count="+y];H==-1?0<y?(H=U[0].g,it.push("ofs="+H)):H=0:it.push("ofs="+H);let kt=!0;for(let be=0;be<y;be++){let Pt=U[be].g;const xe=U[be].map;if(Pt-=H,0>Pt)H=Math.max(0,U[be].g-100),kt=!1;else try{Qn(xe,it,"req"+Pt+"_")}catch{T&&T(xe)}}if(kt){T=it.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function hu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;st||x(),dt||(st(),dt=!0),zt.add(m,u),u.v=0}}function No(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(S(u.Fa,u),xo(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(S(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),sa(this),fu(this))};function gr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function fu(u){u.g=new Je(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=un(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),mr(u,m),u.m&&u.o&&Ne(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=or(un(m)),y.m=null,y.P=!0,Ti(y,u)}s.Za=function(){this.C!=null&&(this.C=null,sa(this),No(this),ne(19))};function aa(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function du(u,m){var y=null;if(u.g==m){aa(u),gr(u),u.g=null;var T=2}else if(vo(u.h,m))y=m.D,We(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=ts(),Gt(T,new Te(T,y)),ra(u)}else hu(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Mh(u,m)||T==2&&No(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),U){case 1:Ci(u,5);break;case 4:Ci(u,10);break;case 3:Ci(u,6);break;default:Ci(u,2)}}}function xo(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Ci(u,m){if(u.j.info("Error code "+m),m==2){var y=S(u.fb,u),T=u.Xa;const U=!T;T=new ge(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ar(T,"https"),or(T),U?ur(T.toString(),y):Pn(T.toString(),y)}else ne(2);u.G=0,u.l&&u.l.sa(m),mu(u),uu(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function mu(u){if(u.G=0,u.ka=[],u.l){const m=Eo(u.h);(m.length!=0||u.i.length!=0)&&(G(u.ka,m),G(u.ka,u.i),u.h.i.length=0,et(u.i),u.i.length=0),u.l.ra()}}function gu(u,m,y){var T=y instanceof ge?un(y):new ge(y);if(T.g!="")m&&(T.g=m+"."+T.g),rs(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var H=new ge(null);T&&ar(H,T),m&&(H.g=m),U&&rs(H,U),y&&(H.l=y),T=H}return y=u.D,m=u.ya,y&&m&&Qt(T,y,m),Qt(T,"VER",u.la),mr(u,T),T}function pu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new as({eb:y})):new qt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}s=yu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function oa(){}oa.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){oe.call(this),this.g=new ia(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ft(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ft(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $n(this)}X(tn,oe),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Io(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Vn(u),u=y);m.i.push(new su(m.Ya++,u)),m.G==3&&ra(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Io(this.g),delete this.g,tn.aa.N.call(this)};function _u(u){vi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}X(_u,vi);function vu(){go.call(this),this.status=1}X(vu,go);function $n(u){this.g=u}X($n,yu),$n.prototype.ua=function(){Gt(this.g,"a")},$n.prototype.ta=function(u){Gt(this.g,new _u(u))},$n.prototype.sa=function(u){Gt(this.g,new vu)},$n.prototype.ra=function(){Gt(this.g,"b")},oa.prototype.createWebChannel=oa.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,s1=function(){return new oa},i1=function(){return ts()},n1=qn,Jd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},is.NO_ERROR=0,is.TIMEOUT=8,is.HTTP_ERROR=6,xc=is,Ei.COMPLETE="complete",e1=Ei,mo.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",oe.prototype.listen=oe.prototype.K,vl=mo,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,t1=qt}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const r_="@firebase/firestore",a_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new _m("@firebase/firestore");function La(){return Lr.logLevel}function at(s,...t){if(Lr.logLevel<=Ot.DEBUG){const i=t.map(Nm);Lr.debug(`Firestore (${so}): ${s}`,...i)}}function Zi(s,...t){if(Lr.logLevel<=Ot.ERROR){const i=t.map(Nm);Lr.error(`Firestore (${so}): ${s}`,...i)}}function Ya(s,...t){if(Lr.logLevel<=Ot.WARN){const i=t.map(Nm);Lr.warn(`Firestore (${so}): ${s}`,...i)}}function Nm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,r1(s,r,i)}function r1(s,t,i){let r=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Zi(r),new Error(r)}function Ht(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||r1(t,l,r)}function St(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ji{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class t2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class e2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class n2{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let r=this.i;const l=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let h=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Mr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=h;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Mr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string",31837,{l:r}),new a1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class i2{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class s2{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new i2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class o_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const r=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>r(h)))};const l=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new o_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new o_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=a2(40);for(let h=0;h<l.length;++h)r.length<20&&l[h]<i&&(r+=t.charAt(l[h]%62))}return r}}function Mt(s,t){return s<t?-1:s>t?1:0}function Wd(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),h=t.charAt(r);if(l!==h)return Ld(l)===Ld(h)?Mt(l,h):Ld(l)?1:-1}return Mt(s.length,t.length)}const o2=55296,l2=57343;function Ld(s){const t=s.charCodeAt(0);return t>=o2&&t<=l2}function Za(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="__name__";class si{constructor(t,i,r){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&vt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof si?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const h=si.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Mt(t.length,i.length)}static compareSegments(t,i){const r=si.isNumericId(t),l=si.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?si.extractNumericId(t).compare(si.extractNumericId(i)):Wd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Us.fromString(t.substring(4,t.length-2))}}class te extends si{construct(t,i,r){return new te(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ut(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const u2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends si{construct(t,i,r){return new qe(t,i,r)}static isValidIdentifier(t){return u2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l_}static keyField(){return new qe([l_])}static fromServerFormat(t){const i=[];let r="",l=0;const h=()=>{if(r.length===0)throw new ut(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ut(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(h(),l++)}if(h(),d)throw new ut(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(te.fromString(t))}static fromName(t){return new gt(te.fromString(t).popFirst(5))}static empty(){return new gt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new te(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(s,t,i){if(!i)throw new ut(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function c2(s,t,i,r){if(t===!0&&r===!0)throw new ut(W.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function u_(s){if(!gt.isDocumentKey(s))throw new ut(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function c_(s){if(gt.isDocumentKey(s))throw new ut(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function l1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Dm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function oi(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ut(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dm(s);throw new ut(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(s,t){const i={typeString:s};return t&&(i.value=t),i}function Fl(s,t){if(!l1(s))throw new ut(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,h="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new ut(W.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=-62135596800,f_=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*f_);return new ee(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<h_)throw new ut(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f_}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-h_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:ve("string",ee._jsonSchemaVersion),seconds:ve("number"),nanoseconds:ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new ee(0,0))}static max(){return new At(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=-1;function h2(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=At.fromTimestamp(r===1e9?new ee(i+1,0):new ee(i,r));return new js(l,gt.empty(),t)}function f2(s){return new js(s.readTime,s.key,Ol)}class js{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new js(At.min(),gt.empty(),Ol)}static max(){return new js(At.max(),gt.empty(),Ol)}}function d2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(s.documentKey,t.documentKey),i!==0?i:Mt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==m2)throw s;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((r,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(r,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,r)=>{i(t)}))}static reject(t){return new Z(((i,r)=>{r(t)}))}static waitFor(t){return new Z(((i,r)=>{let l=0,h=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++h,d&&h===l&&i()}),(p=>r(p)))})),d=!0,h===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const r of t)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,h)=>{r.push(i.call(this,l,h))})),this.waitFor(r)}static mapArray(t,i){return new Z(((r,l)=>{const h=t.length,d=new Array(h);let g=0;for(let p=0;p<h;p++){const _=p;i(t[_]).next((b=>{d[_]=b,++g,g===h&&r(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new Z(((r,l)=>{const h=()=>{t()===!0?i().next((()=>{h()}),l):r()};h()}))}}function p2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ao(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ah.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=-1;function oh(s){return s==null}function Fc(s){return s===0&&1/s==-1/0}function y2(s){return typeof s=="number"&&Number.isInteger(s)&&!Fc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="";function _2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=d_(t)),t=v2(s.get(i),t);return d_(t)}function v2(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const h=s.charAt(l);switch(h){case"\0":i+="";break;case u1:i+="";break;default:i+=h}}return i}function d_(s){return s+u1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Ks(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function c1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,i){this.comparator=t,this.root=i||Be.EMPTY}insert(t,i){return new re(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bc(this.root,t,this.comparator,!0)}}class bc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?r(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,i,r,l,h){this.key=t,this.value=i,this.color=r??Be.RED,this.left=l??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,h){return new Be(t??this.key,i??this.value,r??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const h=r(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,r),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Be.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,r,l,h){return this}insert(t,i,r){return new Be(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new g_(this.data.getIterator())}getIteratorFrom(t){return new g_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Ie)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=r.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ie(this.comparator);return i.data=t,i}}class g_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new yn([])}unionWith(t){let i=new Ie(qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new yn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new h1("Invalid base64 string: "+h):h}})(t);return new Ge(i)}static fromUint8Array(t){const i=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new Ge(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const E2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(s){if(Ht(!!s,39018),typeof s=="string"){let t=0;const i=E2.exec(s);if(Ht(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:de(s.seconds),nanos:de(s.nanos)}}function de(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Bs(s){return typeof s=="string"?Ge.fromBase64String(s):Ge.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="server_timestamp",d1="__type__",m1="__previous_value__",g1="__local_write_time__";function Mm(s){return(s?.mapValue?.fields||{})[d1]?.stringValue===f1}function lh(s){const t=s.mapValue.fields[m1];return Mm(t)?lh(t):t}function Ml(s){const t=zs(s.mapValue.fields[g1].timestampValue);return new ee(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t,i,r,l,h,d,g,p,_,b){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=b}}const Kc="(default)";class Vl{constructor(t,i){this.projectId=t,this.database=i||Kc}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(t){return t instanceof Vl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="__type__",b2="__max__",Ac={mapValue:{}},y1="__vector__",Qc="value";function qs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Mm(s)?4:S2(s)?9007199254740991:A2(s)?10:11:vt(28295,{value:s})}function mi(s,t){if(s===t)return!0;const i=qs(s);if(i!==qs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ml(s).isEqual(Ml(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=zs(l.timestampValue),g=zs(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,h){return Bs(l.bytesValue).isEqual(Bs(h.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,h){return de(l.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(l.geoPointValue.longitude)===de(h.geoPointValue.longitude)})(s,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return de(l.integerValue)===de(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=de(l.doubleValue),g=de(h.doubleValue);return d===g?Fc(d)===Fc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return Za(s.arrayValue.values||[],t.arrayValue.values||[],mi);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},g=h.mapValue.fields||{};if(m_(d)!==m_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!mi(d[p],g[p])))return!1;return!0})(s,t);default:return vt(52216,{left:s})}}function kl(s,t){return(s.values||[]).find((i=>mi(i,t)))!==void 0}function $a(s,t){if(s===t)return 0;const i=qs(s),r=qs(t);if(i!==r)return Mt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(s.booleanValue,t.booleanValue);case 2:return(function(h,d){const g=de(h.integerValue||h.doubleValue),p=de(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(s,t);case 3:return p_(s.timestampValue,t.timestampValue);case 4:return p_(Ml(s),Ml(t));case 5:return Wd(s.stringValue,t.stringValue);case 6:return(function(h,d){const g=Bs(h),p=Bs(d);return g.compareTo(p)})(s.bytesValue,t.bytesValue);case 7:return(function(h,d){const g=h.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const b=Mt(g[_],p[_]);if(b!==0)return b}return Mt(g.length,p.length)})(s.referenceValue,t.referenceValue);case 8:return(function(h,d){const g=Mt(de(h.latitude),de(d.latitude));return g!==0?g:Mt(de(h.longitude),de(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return y_(s.arrayValue,t.arrayValue);case 10:return(function(h,d){const g=h.fields||{},p=d.fields||{},_=g[Qc]?.arrayValue,b=p[Qc]?.arrayValue,N=Mt(_?.values?.length||0,b?.values?.length||0);return N!==0?N:y_(_,b)})(s.mapValue,t.mapValue);case 11:return(function(h,d){if(h===Ac.mapValue&&d===Ac.mapValue)return 0;if(h===Ac.mapValue)return 1;if(d===Ac.mapValue)return-1;const g=h.fields||{},p=Object.keys(g),_=d.fields||{},b=Object.keys(_);p.sort(),b.sort();for(let N=0;N<p.length&&N<b.length;++N){const S=Wd(p[N],b[N]);if(S!==0)return S;const z=$a(g[p[N]],_[b[N]]);if(z!==0)return z}return Mt(p.length,b.length)})(s.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function p_(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Mt(s,t);const i=zs(s),r=zs(t),l=Mt(i.seconds,r.seconds);return l!==0?l:Mt(i.nanos,r.nanos)}function y_(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const h=$a(i[l],r[l]);if(h)return h}return Mt(i.length,r.length)}function Ja(s){return tm(s)}function tm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=zs(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Bs(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return gt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const h of i.values||[])l?l=!1:r+=",",r+=tm(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of r)h?h=!1:l+=",",l+=`${d}:${tm(i.fields[d])}`;return l+"}"})(s.mapValue):vt(61005,{value:s})}function Dc(s){switch(qs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=lh(s);return t?16+Dc(t):16;case 5:return 2*s.stringValue.length;case 6:return Bs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,h)=>l+Dc(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Ks(r.fields,((h,d)=>{l+=h.length+Dc(d)})),l})(s.mapValue);default:throw vt(13486,{value:s})}}function em(s){return!!s&&"integerValue"in s}function Vm(s){return!!s&&"arrayValue"in s}function __(s){return!!s&&"nullValue"in s}function v_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Oc(s){return!!s&&"mapValue"in s}function A2(s){return(s?.mapValue?.fields||{})[p1]?.stringValue===y1}function Rl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Ks(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Rl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Rl(s.arrayValue.values[i]);return t}return{...s}}function S2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===b2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.value=t}static empty(){return new on({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Oc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rl(i)}setAll(t){let i=qe.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Rl(d):l.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,l)}delete(t){const i=this.field(t.popLast());Oc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return mi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Oc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Ks(i,((l,h)=>t[l]=h));for(const l of r)delete t[l]}clone(){return new on(Rl(this.value))}}function _1(s){const t=[];return Ks(s.fields,((i,r)=>{const l=new qe([i]);if(Oc(r)){const h=_1(r.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)})),new yn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t,i,r,l,h,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ze(t,0,At.min(),At.min(),At.min(),on.empty(),0)}static newFoundDocument(t,i,r,l){return new Ze(t,1,i,At.min(),r,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,At.min(),At.min(),on.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,At.min(),At.min(),on.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,i){this.position=t,this.inclusive=i}}function E_(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const h=t[l],d=s.position[l];if(h.field.isKeyField()?r=gt.comparator(gt.fromName(d.referenceValue),i.key):r=$a(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function T_(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!mi(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,i="asc"){this.field=t,this.dir=i}}function w2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{}class Re extends v1{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new I2(t,i,r):i==="array-contains"?new x2(t,r):i==="in"?new D2(t,r):i==="not-in"?new O2(t,r):i==="array-contains-any"?new M2(t,r):new Re(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new C2(t,r):new N2(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison($a(i,this.value)):i!==null&&qs(this.value)===qs(i)&&this.matchesComparison($a(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends v1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new gi(t,i)}matches(t){return E1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function E1(s){return s.op==="and"}function T1(s){return R2(s)&&E1(s)}function R2(s){for(const t of s.filters)if(t instanceof gi)return!1;return!0}function nm(s){if(s instanceof Re)return s.field.canonicalString()+s.op.toString()+Ja(s.value);if(T1(s))return s.filters.map((t=>nm(t))).join(",");{const t=s.filters.map((i=>nm(i))).join(",");return`${s.op}(${t})`}}function b1(s,t){return s instanceof Re?(function(r,l){return l instanceof Re&&r.op===l.op&&r.field.isEqual(l.field)&&mi(r.value,l.value)})(s,t):s instanceof gi?(function(r,l){return l instanceof gi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((h,d,g)=>h&&b1(d,l.filters[g])),!0):!1})(s,t):void vt(19439)}function A1(s){return s instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ja(i.value)}`})(s):s instanceof gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(A1).join(" ,")+"}"})(s):"Filter"}class I2 extends Re{constructor(t,i,r){super(t,i,r),this.key=gt.fromName(r.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class C2 extends Re{constructor(t,i){super(t,"in",i),this.keys=S1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class N2 extends Re{constructor(t,i){super(t,"not-in",i),this.keys=S1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function S1(s,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class x2 extends Re{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Vm(i)&&kl(i.arrayValue,this.value)}}class D2 extends Re{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class O2 extends Re{constructor(t,i){super(t,"not-in",i)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!kl(this.value.arrayValue,i)}}class M2 extends Re{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>kl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,i=null,r=[],l=[],h=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function b_(s,t=null,i=[],r=[],l=null,h=null,d=null){return new V2(s,t,i,r,l,h,d)}function km(s){const t=St(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>nm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),oh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ja(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ja(r))).join(",")),t.Te=i}return t.Te}function Pm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!w2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!b1(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!T_(s.startAt,t.startAt)&&T_(s.endAt,t.endAt)}function im(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,i=null,r=[],l=[],h=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function k2(s,t,i,r,l,h,d,g){return new uh(s,t,i,r,l,h,d,g)}function Um(s){return new uh(s)}function A_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function P2(s){return s.collectionGroup!==null}function Il(s){const t=St(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ie(qe.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Yc(h,r))})),i.has(qe.keyField().canonicalString())||t.Ie.push(new Yc(qe.keyField(),r))}return t.Ie}function li(s){const t=St(s);return t.Ee||(t.Ee=U2(t,Il(s))),t.Ee}function U2(s,t){if(s.limitType==="F")return b_(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Yc(l.field,h)}));const i=s.endAt?new Xc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Xc(s.startAt.position,s.startAt.inclusive):null;return b_(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function sm(s,t,i){return new uh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function ch(s,t){return Pm(li(s),li(t))&&s.limitType===t.limitType}function w1(s){return`${km(li(s))}|lt:${s.limitType}`}function ja(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>A1(l))).join(", ")}]`),oh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Ja(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Ja(l))).join(",")),`Target(${r})`})(li(s))}; limitType=${s.limitType})`}function hh(s,t){return t.isFoundDocument()&&(function(r,l){const h=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):gt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,t)&&(function(r,l){for(const h of Il(r))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const h of r.filters)if(!h.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,p){const _=E_(d,g,p);return d.inclusive?_<=0:_<0})(r.startAt,Il(r),l)||r.endAt&&!(function(d,g,p){const _=E_(d,g,p);return d.inclusive?_>=0:_>0})(r.endAt,Il(r),l))})(s,t)}function L2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function R1(s){return(t,i)=>{let r=!1;for(const l of Il(s)){const h=j2(l,t,i);if(h!==0)return h;r=r||l.field.isKeyField()}return 0}}function j2(s,t,i){const r=s.field.isKeyField()?gt.comparator(t.key,i.key):(function(h,d,g){const p=d.data.field(h),_=g.data.field(h);return p!==null&&_!==null?$a(p,_):vt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,h]of r)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ks(this.inner,((i,r)=>{for(const[l,h]of r)t(l,h)}))}isEmpty(){return c1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new re(gt.comparator);function $i(){return z2}const I1=new re(gt.comparator);function El(...s){let t=I1;for(const i of s)t=t.insert(i.key,i);return t}function C1(s){let t=I1;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Or(){return Cl()}function N1(){return Cl()}function Cl(){return new Br((s=>s.toString()),((s,t)=>s.isEqual(t)))}const B2=new re(gt.comparator),q2=new Ie(gt.comparator);function Vt(...s){let t=q2;for(const i of s)t=t.add(i);return t}const H2=new Ie(Mt);function G2(){return H2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(t)?"-0":t}}function x1(s){return{integerValue:""+s}}function F2(s,t){return y2(t)?x1(t):Lm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(){this._=void 0}}function K2(s,t,i){return s instanceof Zc?(function(l,h){const d={fields:{[d1]:{stringValue:f1},[g1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Mm(h)&&(h=lh(h)),h&&(d.fields[m1]=h),{mapValue:d}})(i,t):s instanceof Pl?O1(s,t):s instanceof Ul?M1(s,t):(function(l,h){const d=D1(l,h),g=S_(d)+S_(l.Ae);return em(d)&&em(l.Ae)?x1(g):Lm(l.serializer,g)})(s,t)}function Q2(s,t,i){return s instanceof Pl?O1(s,t):s instanceof Ul?M1(s,t):i}function D1(s,t){return s instanceof $c?(function(r){return em(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(t)?t:{integerValue:0}:null}class Zc extends fh{}class Pl extends fh{constructor(t){super(),this.elements=t}}function O1(s,t){const i=V1(t);for(const r of s.elements)i.some((l=>mi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Ul extends fh{constructor(t){super(),this.elements=t}}function M1(s,t){let i=V1(t);for(const r of s.elements)i=i.filter((l=>!mi(l,r)));return{arrayValue:{values:i}}}class $c extends fh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function S_(s){return de(s.integerValue||s.doubleValue)}function V1(s){return Vm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function X2(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Pl&&l instanceof Pl||r instanceof Ul&&l instanceof Ul?Za(r.elements,l.elements,mi):r instanceof $c&&l instanceof $c?mi(r.Ae,l.Ae):r instanceof Zc&&l instanceof Zc})(s.transform,t.transform)}class Y2{constructor(t,i){this.version=t,this.transformResults=i}}class Mn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Mn}static exists(t){return new Mn(void 0,t)}static updateTime(t){return new Mn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class dh{}function k1(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new jm(s.key,Mn.none()):new Kl(s.key,s.data,Mn.none());{const i=s.data,r=on.empty();let l=new Ie(qe.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),l=l.add(h)}return new Qs(s.key,r,new yn(l.toArray()),Mn.none())}}function Z2(s,t,i){s instanceof Kl?(function(l,h,d){const g=l.value.clone(),p=R_(l.fieldTransforms,h,d.transformResults);g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof Qs?(function(l,h,d){if(!Mc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const g=R_(l.fieldTransforms,h,d.transformResults),p=h.data;p.setAll(P1(l)),p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Nl(s,t,i,r){return s instanceof Kl?(function(h,d,g,p){if(!Mc(h.precondition,d))return g;const _=h.value.clone(),b=I_(h.fieldTransforms,p,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,r):s instanceof Qs?(function(h,d,g,p){if(!Mc(h.precondition,d))return g;const _=I_(h.fieldTransforms,p,d),b=d.data;return b.setAll(P1(h)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((N=>N.field)))})(s,t,i,r):(function(h,d,g){return Mc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function $2(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),h=D1(r.transform,l||null);h!=null&&(i===null&&(i=on.empty()),i.set(r.field,h))}return i||null}function w_(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Za(r,l,((h,d)=>X2(h,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Kl extends dh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Qs extends dh{constructor(t,i,r,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function P1(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function R_(s,t,i){const r=new Map;Ht(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const h=s[l],d=h.transform,g=t.data.field(h.field);r.set(h.field,Q2(d,g,i[l]))}return r}function I_(s,t,i){const r=new Map;for(const l of s){const h=l.transform,d=i.data.field(l.field);r.set(l.field,K2(h,d,t))}return r}class jm extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J2 extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&Z2(h,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Nl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Nl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=N1();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(l.key)?null:g;const p=k1(d,g);p!==null&&r.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,r)=>w_(i,r)))&&Za(this.baseMutations,t.baseMutations,((i,r)=>w_(i,r)))}}class zm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Ht(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return B2})();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,r[d].version);return new zm(t,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Lt;function nR(s){switch(s){case W.OK:return vt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function U1(s){if(s===void 0)return Zi("GRPC error has no .code"),W.UNKNOWN;switch(s){case _e.OK:return W.OK;case _e.CANCELLED:return W.CANCELLED;case _e.UNKNOWN:return W.UNKNOWN;case _e.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case _e.INTERNAL:return W.INTERNAL;case _e.UNAVAILABLE:return W.UNAVAILABLE;case _e.UNAUTHENTICATED:return W.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case _e.NOT_FOUND:return W.NOT_FOUND;case _e.ALREADY_EXISTS:return W.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return W.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case _e.ABORTED:return W.ABORTED;case _e.OUT_OF_RANGE:return W.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return W.UNIMPLEMENTED;case _e.DATA_LOSS:return W.DATA_LOSS;default:return vt(39323,{code:s})}}(Lt=_e||(_e={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=new Us([4294967295,4294967295],0);function C_(s){const t=iR().encode(s),i=new Wv;return i.update(t),new Uint8Array(i.digest())}function N_(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Us([i,r],0),new Us([l,h],0)]}class Bm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Tl(`Invalid padding: ${i}`);if(r<0)throw new Tl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Us.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Us.fromNumber(r)));return l.compare(sR)===1&&(l=new Us([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=C_(t),[r,l]=N_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,l,h);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new Bm(h,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=C_(t),[r,l]=N_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,l,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,i,r,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new mh(At.min(),l,new re(Mt),$i(),Vt())}}class Ql{constructor(t,i,r,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Ql(r,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class L1{constructor(t,i){this.targetId=t,this.Ce=i}}class j1{constructor(t,i,r=Ge.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class x_{constructor(){this.ve=0,this.Fe=D_(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),r=Vt();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:vt(38017,{changeType:h})}})),new Ql(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=D_()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rR{constructor(t){this.Ge=t,this.ze=new Map,this.je=$i(),this.Je=Sc(),this.He=Sc(),this.Ye=new re(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(im(h))if(r===0){const d=new gt(h.path);this.et(i,d,Ze.newNoDocument(d,At.min()))}else Ht(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),p=g?this.ct(g,t,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:h=0}=i;let d,g;try{d=Bs(r).toUint8Array()}catch(p){if(p instanceof h1)return Ya("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Bm(d,l,h)}catch(p){return Ya(p instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.et(i,h,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&im(g.target)){const p=new gt(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Ze.newNoDocument(p,t))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Vt();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const l=new mh(t,i,this.Ye,this.je,r);return this.je=$i(),this.Je=Sc(),this.He=Sc(),this.Ye=new re(Mt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new x_,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ie(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ie(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new x_),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Sc(){return new re(gt.comparator)}function D_(){return new re(gt.comparator)}const aR={asc:"ASCENDING",desc:"DESCENDING"},oR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lR={and:"AND",or:"OR"};class uR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function rm(s,t){return s.useProto3Json||oh(t)?t:{value:t}}function Jc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function z1(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function cR(s,t){return Jc(s,t.toTimestamp())}function ui(s){return Ht(!!s,49232),At.fromTimestamp((function(i){const r=zs(i);return new ee(r.seconds,r.nanos)})(s))}function qm(s,t){return am(s,t).canonicalString()}function am(s,t){const i=(function(l){return new te(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function B1(s){const t=te.fromString(s);return Ht(K1(t),10190,{key:t.toString()}),t}function om(s,t){return qm(s.databaseId,t.path)}function jd(s,t){const i=B1(t);if(i.get(1)!==s.databaseId.projectId)throw new ut(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new gt(H1(i))}function q1(s,t){return qm(s.databaseId,t)}function hR(s){const t=B1(s);return t.length===4?te.emptyPath():H1(t)}function lm(s){return new te(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function H1(s){return Ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function O_(s,t,i){return{name:om(s,t),fields:i.value.mapValue.fields}}function fR(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(_,b){return _.useProto3Json?(Ht(b===void 0||typeof b=="string",58123),Ge.fromBase64String(b||"")):(Ht(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ge.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const b=_.code===void 0?W.UNKNOWN:U1(_.code);return new ut(b,_.message||"")})(d);i=new j1(r,l,h,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=jd(s,r.document.name),h=ui(r.document.updateTime),d=r.document.createTime?ui(r.document.createTime):At.min(),g=new on({mapValue:{fields:r.document.fields}}),p=Ze.newFoundDocument(l,h,d,g),_=r.targetIds||[],b=r.removedTargetIds||[];i=new Vc(_,b,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=jd(s,r.document),h=r.readTime?ui(r.readTime):At.min(),d=Ze.newNoDocument(l,h),g=r.removedTargetIds||[];i=new Vc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=jd(s,r.document),h=r.removedTargetIds||[];i=new Vc([],h,l,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:h}=r,d=new eR(l,h),g=r.targetId;i=new L1(g,d)}}return i}function dR(s,t){let i;if(t instanceof Kl)i={update:O_(s,t.key,t.value)};else if(t instanceof jm)i={delete:om(s,t.key)};else if(t instanceof Qs)i={update:O_(s,t.key,t.data),updateMask:bR(t.fieldMask)};else{if(!(t instanceof J2))return vt(16599,{Vt:t.type});i={verify:om(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(h,d){const g=d.transform;if(g instanceof Zc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Pl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof $c)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw vt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:cR(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:vt(27497)})(s,t.precondition)),i}function mR(s,t){return s&&s.length>0?(Ht(t!==void 0,14353),s.map((i=>(function(l,h){let d=l.updateTime?ui(l.updateTime):ui(h);return d.isEqual(At.min())&&(d=ui(h)),new Y2(d,l.transformResults||[])})(i,t)))):[]}function gR(s,t){return{documents:[q1(s,t.path)]}}function pR(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=q1(s,l);const h=(function(_){if(_.length!==0)return F1(gi.create(_,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((b=>(function(S){return{field:za(S.field),direction:vR(S.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=rm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function yR(s){let t=hR(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Ht(r===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let h=[];i.where&&(h=(function(N){const S=G1(N);return S instanceof gi&&T1(S)?S.getFilters():[S]})(i.where));let d=[];i.orderBy&&(d=(function(N){return N.map((S=>(function(X){return new Yc(Ba(X.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(S)))})(i.orderBy));let g=null;i.limit&&(g=(function(N){let S;return S=typeof N=="object"?N.value:N,oh(S)?null:S})(i.limit));let p=null;i.startAt&&(p=(function(N){const S=!!N.before,z=N.values||[];return new Xc(z,S)})(i.startAt));let _=null;return i.endAt&&(_=(function(N){const S=!N.before,z=N.values||[];return new Xc(z,S)})(i.endAt)),k2(t,l,d,h,g,"F",p,_)}function _R(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function G1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ba(i.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ba(i.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ba(i.unaryFilter.field);return Re.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Re.create(Ba(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return gi.create(i.compositeFilter.filters.map((r=>G1(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(s):vt(30097,{filter:s})}function vR(s){return aR[s]}function ER(s){return oR[s]}function TR(s){return lR[s]}function za(s){return{fieldPath:s.canonicalString()}}function Ba(s){return qe.fromServerFormat(s.fieldPath)}function F1(s){return s instanceof Re?(function(i){if(i.op==="=="){if(v_(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(__(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(v_(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(__(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:ER(i.op),value:i.value}}})(s):s instanceof gi?(function(i){const r=i.getFilters().map((l=>F1(l)));return r.length===1?r[0]:{compositeFilter:{op:TR(i.op),filters:r}}})(s):vt(54877,{filter:s})}function bR(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function K1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(t,i,r,l,h=At.min(),d=At.min(),g=Ge.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Ms(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t){this.yt=t}}function SR(s){const t=yR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?sm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.Cn=new RR}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(js.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(js.min())}updateCollectionGroup(t,i,r){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class RR{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Ie(te.comparator),h=!l.has(r);return this.index[i]=l.add(r),h}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Ie(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q1=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(Q1,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Wa(0)}static cr(){return new Wa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="LruGarbageCollector",IR=1048576;function k_([s,t],[i,r]){const l=Mt(s,i);return l===0?Mt(t,r):l}class CR{constructor(t){this.Ir=t,this.buffer=new Ie(k_),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();k_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class NR{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(V_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ao(i)?at(V_,"Ignoring IndexedDB error during garbage collection: ",i):await ro(i)}await this.Vr(3e5)}))}}class xR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(ah.ce);const r=new CR(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(M_)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M_):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,h,d,g,p,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((N=>(N>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),l=this.params.maximumSequenceNumbersToCollect):l=N,d=Date.now(),this.nthSequenceNumber(t,l)))).next((N=>(r=N,g=Date.now(),this.removeTargets(t,r,i)))).next((N=>(h=N,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((N=>(_=Date.now(),La()<=Ot.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${h} targets in `+(p-g)+`ms
	Removed ${N} documents in `+(_-p)+`ms
Total Duration: ${_-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:N}))))}}function DR(s,t){return new xR(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.changes=new Br((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Nl(r.mutation,l,yn.empty(),ee.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Vt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Vt()){const l=Or();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((h=>{let d=El();return h.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Or();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Vt())))}populateOverlays(t,i,r){const l=[];return r.forEach((h=>{i.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let h=$i();const d=Cl(),g=(function(){return Cl()})();return i.forEach(((p,_)=>{const b=r.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof Qs)?h=h.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Nl(b.mutation,_,b.mutation.getFieldMask(),ee.now())):d.set(_.key,yn.empty())})),this.recalculateAndSaveOverlays(t,h).next((p=>(p.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>g.set(_,new MR(b,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=Cl();let l=new re(((d,g)=>d-g)),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let b=r.get(p)||yn.empty();b=g.applyToLocalView(_,b),r.set(p,b);const N=(l.get(g.batchId)||Vt()).add(p);l=l.insert(g.batchId,N)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,b=p.value,N=N1();b.forEach((S=>{if(!h.has(S)){const z=k1(i.get(S),r.get(S));z!==null&&N.set(S,z),h=h.add(S)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,N))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):P2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-h.size):Z.resolve(Or());let g=Ol,p=h;return d.next((_=>Z.forEach(_,((b,N)=>(g<N.largestBatchId&&(g=N.largestBatchId),h.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(t,b).next((S=>{p=p.insert(b,S)}))))).next((()=>this.populateOverlays(t,_,h))).next((()=>this.computeViews(t,p,_,Vt()))).next((b=>({batchId:g,changes:C1(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((r=>{let l=El();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const h=i.collectionGroup;let d=El();return this.indexManager.getCollectionParents(t,h).next((g=>Z.forEach(g,(p=>{const _=(function(N,S){return new uh(S,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(i,p.child(h));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((b=>{b.forEach(((N,S)=>{d=d.insert(N,S)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,h,l)))).next((d=>{h.forEach(((p,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,Ze.newInvalidDocument(b)))}));let g=El();return d.forEach(((p,_)=>{const b=h.get(p);b!==void 0&&Nl(b.mutation,_,yn.empty(),ee.now()),hh(i,_)&&(g=g.insert(p,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ui(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:SR(l.bundledQuery),readTime:ui(l.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.overlays=new re(gt.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Or();return Z.forEach(i,(l=>this.getOverlay(t,l).next((h=>{h!==null&&r.set(l,h)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,h)=>{this.St(t,i,h)})),Z.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(t,i,r){const l=Or(),h=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&p.largestBatchId>r&&l.set(p.getKey(),p)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let h=new re(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let b=h.get(_.largestBatchId);b===null&&(b=Or(),h=h.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const g=Or(),p=h.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,b)=>g.set(_,b))),!(g.size()>=l)););return Z.resolve(g)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new tR(i,r));let h=this.qr.get(i);h===void 0&&(h=Vt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(){this.Qr=new Ie(Ve.$r),this.Ur=new Ie(Ve.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Ve(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Ve(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new gt(new te([])),r=new Ve(i,t),l=new Ve(i,t+1),h=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new te([])),r=new Ve(i,t),l=new Ve(i,t+1);let h=Vt();return this.Ur.forEachInRange([r,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Ve(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ve{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(Ve.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new W2(h,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Ve(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),h=l<0?0:l;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Om:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ve(i,0),l=new Ve(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);h.push(g)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ie(Mt);return i.forEach((l=>{const h=new Ve(l,0),d=new Ve(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{r=r.add(g.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let h=r;gt.isDocumentKey(h)||(h=h.child(""));const d=new Ve(new gt(h),0);let g=new Ie(Mt);return this.Zr.forEachWhile((p=>{const _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(l=>{const h=new Ve(l.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Ve(i,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t){this.ri=t,this.docs=(function(){return new re(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),h=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let r=$i();return i.forEach((l=>{const h=this.docs.get(l);r=r.insert(l,h?h.document.mutableCopy():Ze.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let h=$i();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:b}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||d2(f2(b),r)<=0||(l.has(b.key)||hh(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(t,i,r,l){vt(9500)}ii(t,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new zR(this)}getSize(t){return Z.resolve(this.size)}}class zR extends OR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t){this.persistence=t,this.si=new Br((i=>km(i)),Pm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Hm,this.targetCount=0,this.ai=Wa.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Wa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,r){let l=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Z.waitFor(h).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t,i){this.ui={},this.overlays={},this.ci=new ah(0),this.li=!1,this.li=!0,this.hi=new UR,this.referenceDelegate=t(this),this.Pi=new BR(this),this.indexManager=new wR,this.remoteDocumentCache=(function(l){return new jR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new AR(i),this.Ii=new kR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new PR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new LR(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){at("MemoryPersistence","Starting transaction:",t);const l=new qR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class qR extends g2{constructor(t){super(),this.currentSequenceNumber=t}}class Gm{constructor(t){this.persistence=t,this.Ri=new Hm,this.Vi=null}static mi(t){return new Gm(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=gt.fromPath(r);return this.gi(t,l).next((h=>{h||i.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Wc{constructor(t,i){this.persistence=t,this.pi=new Br((r=>_2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=DR(this,i)}static mi(t,i){return new Wc(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((r,l)=>this.br(t,r,l).next((h=>h?Z.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(r++,h.removeEntry(d,At.min()))})))).next((()=>h.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Dc(t.data.value)),i}br(t,i,r){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Vt(),l=Vt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Fm(t,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Ob()?8:p2($e())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,l,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new HR;return this.Ss(t,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>h.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(La()<=Ot.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(La()<=Ot.DEBUG&&at("QueryEngine","Query:",ja(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(La()<=Ot.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,li(i))):Z.resolve())}ys(t,i){if(A_(i))return Z.resolve(null);let r=li(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=sm(i,null,"F"),r=li(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((h=>{const d=Vt(...h);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((p=>{const _=this.Ds(i,g);return this.Cs(i,_,d,p.readTime)?this.ys(t,sm(i,null,"F")):this.vs(t,_,i,p)}))))})))))}ws(t,i,r,l){return A_(i)||l.isEqual(At.min())?Z.resolve(null):this.ps.getDocuments(t,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,l)?Z.resolve(null):(La()<=Ot.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ja(i)),this.vs(t,d,i,h2(l,Ol)).next((g=>g)))}))}Ds(t,i){let r=new Ie(R1(t));return i.forEach(((l,h)=>{hh(t,h)&&(r=r.add(h))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,i,r){return La()<=Ot.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",ja(i)),this.ps.getDocumentsMatchingQuery(t,i,js.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="LocalStore",FR=3e8;class KR{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new re(Mt),this.xs=new Br((h=>km(h)),Pm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new VR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function QR(s,t,i,r){return new KR(s,t,i,r)}async function Y1(s,t){const i=St(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((h=>(l=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],g=[];let p=Vt();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of h){g.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return i.localDocuments.getDocuments(r,p).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function XR(s,t){const i=St(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,b){const N=_.batch,S=N.keys();let z=Z.resolve();return S.forEach((X=>{z=z.next((()=>b.getEntry(p,X))).next((et=>{const G=_.docVersions.get(X);Ht(G!==null,48541),et.version.compareTo(G)<0&&(N.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),b.addEntry(et)))}))})),z.next((()=>g.mutationQueue.removeMutationBatch(p,N)))})(i,r,t,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let p=Vt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function Z1(s){const t=St(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function YR(s,t){const i=St(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((b,N)=>{const S=l.get(N);if(!S)return;g.push(i.Pi.removeMatchingKeys(h,b.removedDocuments,N).next((()=>i.Pi.addMatchingKeys(h,b.addedDocuments,N))));let z=S.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(N)!==null?z=z.withResumeToken(Ge.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):b.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(b.resumeToken,r)),l=l.insert(N,z),(function(et,G,lt){return et.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=FR?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(S,z,b)&&g.push(i.Pi.updateTargetData(h,z))}));let p=$i(),_=Vt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))})),g.push(ZR(h,d,t.documentUpdates).next((b=>{p=b.ks,_=b.qs}))),!r.isEqual(At.min())){const b=i.Pi.getLastRemoteSnapshotVersion(h).next((N=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));g.push(b)}return Z.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,p,_))).next((()=>p))})).then((h=>(i.Ms=l,h)))}function ZR(s,t,i){let r=Vt(),l=Vt();return i.forEach((h=>r=r.add(h))),t.getEntries(s,r).next((h=>{let d=$i();return i.forEach(((g,p)=>{const _=h.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):at(Km,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{ks:d,qs:l}}))}function $R(s,t){const i=St(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Om),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function JR(s,t){const i=St(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((h=>h?(l=h,Z.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Ms(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function um(s,t,i){const r=St(s),l=r.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ao(d))throw d;at(Km,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function P_(s,t,i){const r=St(s);let l=At.min(),h=Vt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,b){const N=St(p),S=N.xs.get(b);return S!==void 0?Z.resolve(N.Ms.get(S)):N.Pi.getTargetData(_,b)})(r,d,li(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((p=>{h=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?h:Vt()))).next((g=>(WR(r,L2(t),g),{documents:g,Qs:h})))))}function WR(s,t,i){let r=s.Os.get(t)||At.min();i.forEach(((l,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Os.set(t,r)}class U_{constructor(){this.activeTargetIds=G2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class t5{constructor(){this.Mo=new U_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new U_,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="ConnectivityMonitor";class j_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(L_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(L_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc=null;function cm(){return wc===null?wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():wc++,"0x"+wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="RestConnection",n5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class i5{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Kc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,h){const d=cm(),g=this.zo(t,i.toUriEncodedString());at(zd,`Sending RPC '${t}' ${d}:`,g,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,h);const{host:_}=new URL(g),b=eo(_);return this.Jo(t,g,p,r,b).then((N=>(at(zd,`Received RPC '${t}' ${d}: `,N),N)),(N=>{throw Ya(zd,`RPC '${t}' ${d} failed with error: `,N,"url: ",g,"request:",r),N}))}Ho(t,i,r,l,h,d){return this.Go(t,i,r,l,h)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>t[h]=l)),r&&r.headers.forEach(((l,h)=>t[h]=l))}zo(t,i){const r=n5[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class r5 extends i5{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,h){const d=cm();return new Promise(((g,p)=>{const _=new t1;_.setWithCredentials(!0),_.listenOnce(e1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case xc.NO_ERROR:const N=_.getResponseJson();at(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(N)),g(N);break;case xc.TIMEOUT:at(Xe,`RPC '${t}' ${d} timed out`),p(new ut(W.DEADLINE_EXCEEDED,"Request time out"));break;case xc.HTTP_ERROR:const S=_.getStatus();if(at(Xe,`RPC '${t}' ${d} failed with status:`,S,"response text:",_.getResponseText()),S>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const X=z?.error;if(X&&X.status&&X.message){const et=(function(lt){const ft=lt.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ft)>=0?ft:W.UNKNOWN})(X.status);p(new ut(et,X.message))}else p(new ut(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ut(W.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(Xe,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);at(Xe,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,r,15)}))}T_(t,i,r){const l=cm(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=s1(),g=i1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const b=h.join("");at(Xe,`Creating RPC '${t}' stream ${l}: ${b}`,p);const N=d.createWebChannel(b,p);this.I_(N);let S=!1,z=!1;const X=new s5({Yo:G=>{z?at(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,G):(S||(at(Xe,`Opening RPC '${t}' stream ${l} transport.`),N.open(),S=!0),at(Xe,`RPC '${t}' stream ${l} sending:`,G),N.send(G))},Zo:()=>N.close()}),et=(G,lt,ft)=>{G.listen(lt,(J=>{try{ft(J)}catch(yt){setTimeout((()=>{throw yt}),0)}}))};return et(N,vl.EventType.OPEN,(()=>{z||(at(Xe,`RPC '${t}' stream ${l} transport opened.`),X.o_())})),et(N,vl.EventType.CLOSE,(()=>{z||(z=!0,at(Xe,`RPC '${t}' stream ${l} transport closed`),X.a_(),this.E_(N))})),et(N,vl.EventType.ERROR,(G=>{z||(z=!0,Ya(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,G.name,"Message:",G.message),X.a_(new ut(W.UNAVAILABLE,"The operation could not be completed")))})),et(N,vl.EventType.MESSAGE,(G=>{if(!z){const lt=G.data[0];Ht(!!lt,16349);const ft=lt,J=ft?.error||ft[0]?.error;if(J){at(Xe,`RPC '${t}' stream ${l} received error:`,J);const yt=J.status;let ht=(function(w){const I=_e[w];if(I!==void 0)return U1(I)})(yt),Rt=J.message;ht===void 0&&(ht=W.INTERNAL,Rt="Unknown error status: "+yt+" with message "+J.message),z=!0,X.a_(new ut(ht,Rt)),N.close()}else at(Xe,`RPC '${t}' stream ${l} received:`,lt),X.u_(lt)}})),et(g,n1.STAT_EVENT,(G=>{G.stat===Jd.PROXY?at(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):G.stat===Jd.NOPROXY&&at(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(s){return new uR(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t,i,r=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="PersistentStream";class J1{constructor(t,i,r,l,h,d,g,p){this.Mi=t,this.S_=r,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Zi(i.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ut(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(z_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(z_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class a5 extends J1{constructor(t,i,r,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=fR(this.serializer,t),r=(function(h){if(!("targetChange"in h))return At.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ui(d.readTime):At.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=lm(this.serializer),i.addTarget=(function(h,d){let g;const p=d.target;if(g=im(p)?{documents:gR(h,p)}:{query:pR(h,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=z1(h,d.resumeToken);const _=rm(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=Jc(h,d.snapshotVersion.toTimestamp());const _=rm(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const r=_R(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=lm(this.serializer),i.removeTarget=t,this.q_(i)}}class o5 extends J1{constructor(t,i,r,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=mR(t.writeResults,t.commitTime),r=ui(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=lm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>dR(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{}class u5 extends l5{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,am(i,r),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(W.UNKNOWN,h.toString())}))}Ho(t,i,r,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,am(i,r),l,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class c5{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="RemoteStore";class h5{constructor(t,i,r,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{qr(this)&&(at(jr,"Restarting streams for network reachability change."),await(async function(p){const _=St(p);_.Ea.add(4),await Xl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await ph(_)})(this))}))})),this.Ra=new c5(r,l)}}async function ph(s){if(qr(s))for(const t of s.da)await t(!0)}async function Xl(s){for(const t of s.da)await t(!1)}function W1(s,t){const i=St(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Zm(i)?Ym(i):oo(i).O_()&&Xm(i,t))}function Qm(s,t){const i=St(s),r=oo(i);i.Ia.delete(t),r.O_()&&tE(i,t),i.Ia.size===0&&(r.O_()?r.L_():qr(i)&&i.Ra.set("Unknown"))}function Xm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}oo(s).Y_(t)}function tE(s,t){s.Va.Ue(t),oo(s).Z_(t)}function Ym(s){s.Va=new rR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),oo(s).start(),s.Ra.ua()}function Zm(s){return qr(s)&&!oo(s).x_()&&s.Ia.size>0}function qr(s){return St(s).Ea.size===0}function eE(s){s.Va=void 0}async function f5(s){s.Ra.set("Online")}async function d5(s){s.Ia.forEach(((t,i)=>{Xm(s,t)}))}async function m5(s,t){eE(s),Zm(s)?(s.Ra.ha(t),Ym(s)):s.Ra.set("Unknown")}async function g5(s,t,i){if(s.Ra.set("Online"),t instanceof j1&&t.state===2&&t.cause)try{await(async function(l,h){const d=h.cause;for(const g of h.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(r){at(jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await th(s,r)}else if(t instanceof Vc?s.Va.Ze(t):t instanceof L1?s.Va.st(t):s.Va.tt(t),!i.isEqual(At.min()))try{const r=await Z1(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const b=h.Ia.get(_);b&&h.Ia.set(_,b.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,_)=>{const b=h.Ia.get(p);if(!b)return;h.Ia.set(p,b.withResumeToken(Ge.EMPTY_BYTE_STRING,b.snapshotVersion)),tE(h,p);const N=new Ms(b.target,p,_,b.sequenceNumber);Xm(h,N)})),h.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){at(jr,"Failed to raise snapshot:",r),await th(s,r)}}async function th(s,t,i){if(!ao(t))throw t;s.Ea.add(1),await Xl(s),s.Ra.set("Offline"),i||(i=()=>Z1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(jr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await ph(s)}))}function nE(s,t){return t().catch((i=>th(s,i,t)))}async function yh(s){const t=St(s),i=Hs(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Om;for(;p5(t);)try{const l=await $R(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,y5(t,l)}catch(l){await th(t,l)}iE(t)&&sE(t)}function p5(s){return qr(s)&&s.Ta.length<10}function y5(s,t){s.Ta.push(t);const i=Hs(s);i.O_()&&i.X_&&i.ea(t.mutations)}function iE(s){return qr(s)&&!Hs(s).x_()&&s.Ta.length>0}function sE(s){Hs(s).start()}async function _5(s){Hs(s).ra()}async function v5(s){const t=Hs(s);for(const i of s.Ta)t.ea(i.mutations)}async function E5(s,t,i){const r=s.Ta.shift(),l=zm.from(r,t,i);await nE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await yh(s)}async function T5(s,t){t&&Hs(s).X_&&await(async function(r,l){if((function(d){return nR(d)&&d!==W.ABORTED})(l.code)){const h=r.Ta.shift();Hs(r).B_(),await nE(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,l))),await yh(r)}})(s,t),iE(s)&&sE(s)}async function B_(s,t){const i=St(s);i.asyncQueue.verifyOperationInProgress(),at(jr,"RemoteStore received new credentials");const r=qr(i);i.Ea.add(3),await Xl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await ph(i)}async function b5(s,t){const i=St(s);t?(i.Ea.delete(2),await ph(i)):t||(i.Ea.add(2),await Xl(i),i.Ra.set("Unknown"))}function oo(s){return s.ma||(s.ma=(function(i,r,l){const h=St(i);return h.sa(),new a5(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Xo:f5.bind(null,s),t_:d5.bind(null,s),r_:m5.bind(null,s),H_:g5.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Zm(s)?Ym(s):s.Ra.set("Unknown")):(await s.ma.stop(),eE(s))}))),s.ma}function Hs(s){return s.fa||(s.fa=(function(i,r,l){const h=St(i);return h.sa(),new o5(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:_5.bind(null,s),r_:T5.bind(null,s),ta:v5.bind(null,s),na:E5.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await yh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(jr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,i,r,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=h,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,h){const d=Date.now()+r,g=new $m(t,i,d,l,h);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(s,t){if(Zi("AsyncQueue",`${t}: ${s}`),ao(s))return new ut(W.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||gt.comparator(i.key,r.key):(i,r)=>gt.comparator(i.key,r.key),this.keyedMap=El(),this.sortedSet=new re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=r.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.ga=new re(gt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class to{constructor(t,i,r,l,h,d,g,p,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,l,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new to(t,i,Ka.emptySet(i),d,r,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class S5{constructor(){this.queries=H_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=St(i),h=l.queries;l.queries=H_(),h.forEach(((d,g)=>{for(const p of g.Sa)p.onError(r)}))})(this,new ut(W.ABORTED,"Firestore shutting down"))}}function H_(){return new Br((s=>w1(s)),ch)}async function w5(s,t){const i=St(s);let r=3;const l=t.query;let h=i.queries.get(l);h?!h.ba()&&t.Da()&&(r=2):(h=new A5,r=t.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Jm(d,`Initialization of query '${ja(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&Wm(i)}async function R5(s,t){const i=St(s),r=t.query;let l=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function I5(s,t){const i=St(s);let r=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&Wm(i)}function C5(s,t,i){const r=St(s),l=r.queries.get(t);if(l)for(const h of l.Sa)h.onError(i);r.queries.delete(t)}function Wm(s){s.Ca.forEach((t=>{t.next()}))}var hm,G_;(G_=hm||(hm={})).Ma="default",G_.Cache="cache";class N5{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new to(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(t){this.key=t}}class aE{constructor(t){this.key=t}}class x5{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=R1(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new q_,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,N)=>{const S=l.get(b),z=hh(this.query,N)?N:null,X=!!S&&this.mutatedKeys.has(S.key),et=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let G=!1;S&&z?S.data.isEqual(z.data)?X!==et&&(r.track({type:3,doc:z}),G=!0):this.su(S,z)||(r.track({type:2,doc:z}),G=!0,(p&&this.eu(z,p)>0||_&&this.eu(z,_)<0)&&(g=!0)):!S&&z?(r.track({type:0,doc:z}),G=!0):S&&!z&&(r.track({type:1,doc:S}),G=!0,(p||_)&&(g=!0)),G&&(z?(d=d.add(z),h=et?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),r.track({type:1,doc:b})}return{tu:d,iu:r,Cs:g,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,N)=>(function(z,X){const et=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:G})}};return et(z)-et(X)})(b.type,N.type)||this.eu(b.doc,N.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,_=p!==this.Za;return this.Za=p,d.length!==0||_?{snapshot:new to(this.query,t.tu,h,d,t.mutatedKeys,p===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new q_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new aE(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new rE(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tg="SyncEngine";class D5{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class O5{constructor(t){this.key=t,this.hu=!1}}class M5{constructor(t,i,r,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Br((g=>w1(g)),ch),this.Iu=new Map,this.Eu=new Set,this.du=new re(gt.comparator),this.Au=new Map,this.Ru=new Hm,this.Vu={},this.mu=new Map,this.fu=Wa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function V5(s,t,i=!0){const r=fE(s);let l;const h=r.Tu.get(t);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await oE(r,t,i,!0),l}async function k5(s,t){const i=fE(s);await oE(i,t,!0,!1)}async function oE(s,t,i,r){const l=await JR(s.localStore,li(t)),h=l.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return r&&(g=await P5(s,t,h,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&W1(s.remoteStore,l),g}async function P5(s,t,i,r,l){s.pu=(N,S,z)=>(async function(et,G,lt,ft){let J=G.view.ru(lt);J.Cs&&(J=await P_(et.localStore,G.query,!1).then((({documents:M})=>G.view.ru(M,J))));const yt=ft&&ft.targetChanges.get(G.targetId),ht=ft&&ft.targetMismatches.get(G.targetId)!=null,Rt=G.view.applyChanges(J,et.isPrimaryClient,yt,ht);return K_(et,G.targetId,Rt.au),Rt.snapshot})(s,N,S,z);const h=await P_(s.localStore,t,!0),d=new x5(t,h.Qs),g=d.ru(h.documents),p=Ql.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,p);K_(s,i,_.au);const b=new D5(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function U5(s,t,i){const r=St(s),l=r.Tu.get(t),h=r.Iu.get(l.targetId);if(h.length>1)return r.Iu.set(l.targetId,h.filter((d=>!ch(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await um(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Qm(r.remoteStore,l.targetId),fm(r,l.targetId)})).catch(ro)):(fm(r,l.targetId),await um(r.localStore,l.targetId,!0))}async function L5(s,t){const i=St(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Qm(i.remoteStore,r.targetId))}async function j5(s,t,i){const r=K5(s);try{const l=await(function(d,g){const p=St(d),_=ee.now(),b=g.reduce(((z,X)=>z.add(X.key)),Vt());let N,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let X=$i(),et=Vt();return p.Ns.getEntries(z,b).next((G=>{X=G,X.forEach(((lt,ft)=>{ft.isValidDocument()||(et=et.add(lt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(z,X))).next((G=>{N=G;const lt=[];for(const ft of g){const J=$2(ft,N.get(ft.key).overlayedDocument);J!=null&&lt.push(new Qs(ft.key,J,_1(J.value.mapValue),Mn.exists(!0)))}return p.mutationQueue.addMutationBatch(z,_,lt,g)})).next((G=>{S=G;const lt=G.applyToLocalDocumentSet(N,et);return p.documentOverlayCache.saveOverlays(z,G.batchId,lt)}))})).then((()=>({batchId:S.batchId,changes:C1(N)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,p){let _=d.Vu[d.currentUser.toKey()];_||(_=new re(Mt)),_=_.insert(g,p),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await Yl(r,l.changes),await yh(r.remoteStore)}catch(l){const h=Jm(l,"Failed to persist write");i.reject(h)}}async function lE(s,t){const i=St(s);try{const r=await YR(i.localStore,t);t.targetChanges.forEach(((l,h)=>{const d=i.Au.get(h);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Yl(i,r,t)}catch(r){await ro(r)}}function F_(s,t,i){const r=St(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((h,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const p=St(d);p.onlineState=g;let _=!1;p.queries.forEach(((b,N)=>{for(const S of N.Sa)S.va(g)&&(_=!0)})),_&&Wm(p)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function z5(s,t,i){const r=St(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),h=l&&l.key;if(h){let d=new re(gt.comparator);d=d.insert(h,Ze.newNoDocument(h,At.min()));const g=Vt().add(h),p=new mh(At.min(),new Map,new re(Mt),d,g);await lE(r,p),r.du=r.du.remove(h),r.Au.delete(t),eg(r)}else await um(r.localStore,t,!1).then((()=>fm(r,t,i))).catch(ro)}async function B5(s,t){const i=St(s),r=t.batch.batchId;try{const l=await XR(i.localStore,t);cE(i,r,null),uE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Yl(i,l)}catch(l){await ro(l)}}async function q5(s,t,i){const r=St(s);try{const l=await(function(d,g){const p=St(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return p.mutationQueue.lookupMutationBatch(_,g).next((N=>(Ht(N!==null,37113),b=N.keys(),p.mutationQueue.removeMutationBatch(_,N)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,b,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>p.localDocuments.getDocuments(_,b)))}))})(r.localStore,t);cE(r,t,i),uE(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Yl(r,l)}catch(l){await ro(l)}}function uE(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function cE(s,t,i){const r=St(s);let l=r.Vu[r.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function fm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||hE(s,r)}))}function hE(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Qm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),eg(s))}function K_(s,t,i){for(const r of i)r instanceof rE?(s.Ru.addReference(r.key,t),H5(s,r)):r instanceof aE?(at(tg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||hE(s,r.key)):vt(19791,{wu:r})}function H5(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(at(tg,"New document in limbo: "+i),s.Eu.add(r),eg(s))}function eg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new gt(te.fromString(t)),r=s.fu.next();s.Au.set(r,new O5(i)),s.du=s.du.insert(i,r),W1(s.remoteStore,new Ms(li(Um(i.path)),r,"TargetPurposeLimboResolution",ah.ce))}}async function Yl(s,t,i){const r=St(s),l=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,p)=>{d.push(r.pu(p,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Fm.As(p.targetId,_);h.push(b)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(p,_){const b=St(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>Z.forEach(_,(S=>Z.forEach(S.Es,(z=>b.persistence.referenceDelegate.addReference(N,S.targetId,z))).next((()=>Z.forEach(S.ds,(z=>b.persistence.referenceDelegate.removeReference(N,S.targetId,z)))))))))}catch(N){if(!ao(N))throw N;at(Km,"Failed to update sequence numbers: "+N)}for(const N of _){const S=N.targetId;if(!N.fromCache){const z=b.Ms.get(S),X=z.snapshotVersion,et=z.withLastLimboFreeSnapshotVersion(X);b.Ms=b.Ms.insert(S,et)}}})(r.localStore,h))}async function G5(s,t){const i=St(s);if(!i.currentUser.isEqual(t)){at(tg,"User change. New user:",t.toKey());const r=await Y1(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((g=>{g.forEach((p=>{p.reject(new ut(W.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Yl(i,r.Ls)}}function F5(s,t){const i=St(s),r=i.Au.get(t);if(r&&r.hu)return Vt().add(r.key);{let l=Vt();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function fE(s){const t=St(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=lE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=F5.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=z5.bind(null,t),t.Pu.H_=I5.bind(null,t.eventManager),t.Pu.yu=C5.bind(null,t.eventManager),t}function K5(s){const t=St(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=B5.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=q5.bind(null,t),t}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return QR(this.persistence,new GR,t.initialUser,this.serializer)}Cu(t){return new X1(Gm.mi,this.serializer)}Du(t){return new t5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class Q5 extends eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof Wc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new NR(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new X1((r=>Wc.mi(r,i)),this.serializer)}}class dm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>F_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=G5.bind(null,this.syncEngine),await b5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new S5})()}createDatastore(t){const i=gh(t.databaseInfo.databaseId),r=(function(h){return new r5(h)})(t.databaseInfo);return(function(h,d,g,p){return new u5(h,d,g,p)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,h,d,g){return new h5(r,l,h,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>F_(this.syncEngine,i,0)),(function(){return j_.v()?new j_:new e5})())}createSyncEngine(t,i){return(function(l,h,d,g,p,_,b){const N=new M5(l,h,d,g,p,_);return b&&(N.gu=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=St(i);at(jr,"RemoteStore shutting down."),r.Ea.add(5),await Xl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dm.provider={build:()=>new dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Zi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="FirestoreClient";class Y5{constructor(t,i,r,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{at(Gs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(Gs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Jm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function qd(s,t){s.asyncQueue.verifyOperationInProgress(),at(Gs,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await Y1(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Q_(s,t){s.asyncQueue.verifyOperationInProgress();const i=await Z5(s);at(Gs,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>B_(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>B_(t.remoteStore,l))),s._onlineComponents=t}async function Z5(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(Gs,"Using user provided OfflineComponentProvider");try{await qd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===W.FAILED_PRECONDITION||l.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ya("Error using user provided cache. Falling back to memory cache: "+i),await qd(s,new eh)}}else at(Gs,"Using default OfflineComponentProvider"),await qd(s,new Q5(void 0));return s._offlineComponents}async function dE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(Gs,"Using user provided OnlineComponentProvider"),await Q_(s,s._uninitializedComponentsProvider._online)):(at(Gs,"Using default OnlineComponentProvider"),await Q_(s,new dm))),s._onlineComponents}function $5(s){return dE(s).then((t=>t.syncEngine))}async function X_(s){const t=await dE(s),i=t.eventManager;return i.onListen=V5.bind(null,t.syncEngine),i.onUnlisten=U5.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=k5.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=L5.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="firestore.googleapis.com",Z_=!0;class $_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gE,this.ssl=Z_}else this.host=t.host,this.ssl=t.ssl??Z_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Q1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<IR)throw new ut(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}c2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _h{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new t2;switch(r.type){case"firstParty":return new s2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Y_.get(i);r&&(at("ComponentProvider","Removing Datastore"),Y_.delete(i),r.terminate())})(this),Promise.resolve()}}function J5(s,t,i,r={}){s=oi(s,_h);const l=eo(t),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(mv(`https://${g}`),gv("Firestore",!0)),h.host!==gE&&h.host!==g&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...h,host:g,ssl:l,emulatorOptions:r};if(!kr(p,d)&&(s._setSettings(p),r.mockUserToken)){let _,b;if(typeof r.mockUserToken=="string")_=r.mockUserToken,b=Ye.MOCK_USER;else{_=Ab(r.mockUserToken,s._app?.options.projectId);const N=r.mockUserToken.sub||r.mockUserToken.user_id;if(!N)throw new ut(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ye(N)}s._authCredentials=new e2(new a1(_,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new vh(this.firestore,t,this._query)}}class Ee{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ee(this.firestore,t,this._key)}toJSON(){return{type:Ee._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Fl(i,Ee._jsonSchema))return new Ee(t,r||null,new gt(te.fromString(i.referencePath)))}}Ee._jsonSchemaVersion="firestore/documentReference/1.0",Ee._jsonSchema={type:ve("string",Ee._jsonSchemaVersion),referencePath:ve("string")};class Ls extends vh{constructor(t,i,r){super(t,i,Um(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ee(this.firestore,null,new gt(t))}withConverter(t){return new Ls(this.firestore,t,this._path)}}function ng(s,t,...i){if(s=He(s),o1("collection","path",t),s instanceof _h){const r=te.fromString(t,...i);return c_(r),new Ls(s,null,r)}{if(!(s instanceof Ee||s instanceof Ls))throw new ut(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(te.fromString(t,...i));return c_(r),new Ls(s.firestore,null,r)}}function Fs(s,t,...i){if(s=He(s),arguments.length===1&&(t=xm.newId()),o1("doc","path",t),s instanceof _h){const r=te.fromString(t,...i);return u_(r),new Ee(s,null,new gt(r))}{if(!(s instanceof Ee||s instanceof Ls))throw new ut(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(te.fromString(t,...i));return u_(r),new Ee(s.firestore,s instanceof Ls?s.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="AsyncQueue";class W_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $1(this,"async_queue_retry"),this._c=()=>{const r=Bd();r&&at(J_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Bd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Bd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ao(t))throw t;at(J_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",tv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=$m.createAndSchedule(this,t,i,r,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:tv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function tv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const h of r)if(h in l&&typeof l[h]=="function")return!0;return!1})(s,["next","error","complete"])}class zr extends _h{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new W_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new W_(t),this._firestoreClient=void 0,await t}}}function W5(s,t){const i=typeof s=="object"?s:vv(),r=typeof s=="string"?s:Kc,l=Em(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const h=Tb("firestore");h&&J5(l,...h)}return l}function pE(s){if(s._terminated)throw new ut(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||tI(s),s._firestoreClient}function tI(s){const t=s._freezeSettings(),i=(function(l,h,d,g){return new T2(l,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,mE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new Y5(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this._byteString=t}static fromBase64String(t){try{return new On(Ge.fromBase64String(t))}catch(i){throw new ut(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new On(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,On._jsonSchema))return On.fromBase64String(t.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:ve("string",On._jsonSchemaVersion),bytes:ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ci._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,ci._jsonSchema))return new ci(t.latitude,t.longitude)}}ci._jsonSchemaVersion="firestore/geoPoint/1.0",ci._jsonSchema={type:ve("string",ci._jsonSchemaVersion),latitude:ve("number"),longitude:ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,hi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new hi(t.vectorValues);throw new ut(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:ve("string",hi._jsonSchemaVersion),vectorValues:ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=/^__.*__$/;class nI{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Qs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(t,this.data,i,this.fieldTransforms)}}class yE{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new Qs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function _E(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:s})}}class sg{constructor(t,i,r,l,h,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new sg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return nh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(_E(this.Ac)&&eI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class iI{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||gh(t)}Cc(t,i,r,l=!1){return new sg({Ac:t,methodName:i,Dc:r,path:qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rg(s){const t=s._freezeSettings(),i=gh(s._databaseId);return new iI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function vE(s,t,i,r,l,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,t,i,l);ag("Data must be an object, but it was:",d,r);const g=EE(r,d);let p,_;if(h.merge)p=new yn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const b=[];for(const N of h.mergeFields){const S=mm(t,N,i);if(!d.contains(S))throw new ut(W.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);bE(b,S)||b.push(S)}p=new yn(b),_=d.fieldTransforms.filter((N=>p.covers(N.field)))}else p=null,_=d.fieldTransforms;return new nI(new on(g),p,_)}class Th extends ig{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Th}}function sI(s,t,i,r){const l=s.Cc(1,t,i);ag("Data must be an object, but it was:",l,r);const h=[],d=on.empty();Ks(r,((p,_)=>{const b=og(t,p,i);_=He(_);const N=l.yc(b);if(_ instanceof Th)h.push(b);else{const S=bh(_,N);S!=null&&(h.push(b),d.set(b,S))}}));const g=new yn(h);return new yE(d,g,l.fieldTransforms)}function rI(s,t,i,r,l,h){const d=s.Cc(1,t,i),g=[mm(t,r,i)],p=[l];if(h.length%2!=0)throw new ut(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<h.length;S+=2)g.push(mm(t,h[S])),p.push(h[S+1]);const _=[],b=on.empty();for(let S=g.length-1;S>=0;--S)if(!bE(_,g[S])){const z=g[S];let X=p[S];X=He(X);const et=d.yc(z);if(X instanceof Th)_.push(z);else{const G=bh(X,et);G!=null&&(_.push(z),b.set(z,G))}}const N=new yn(_);return new yE(b,N,d.fieldTransforms)}function bh(s,t){if(TE(s=He(s)))return ag("Unsupported field value:",t,s),EE(s,t);if(s instanceof ig)return(function(r,l){if(!_E(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const h=[];let d=0;for(const g of r){let p=bh(g,l.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),h.push(p),d++}return{arrayValue:{values:h}}})(s,t)}return(function(r,l){if((r=He(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return F2(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=ee.fromDate(r);return{timestampValue:Jc(l.serializer,h)}}if(r instanceof ee){const h=new ee(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jc(l.serializer,h)}}if(r instanceof ci)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:z1(l.serializer,r._byteString)};if(r instanceof Ee){const h=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:qm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof hi)return(function(d,g){return{mapValue:{fields:{[p1]:{stringValue:y1},[Qc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Lm(g.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Dm(r)}`)})(s,t)}function EE(s,t){const i={};return c1(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ks(s,((r,l)=>{const h=bh(l,t.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function TE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ee||s instanceof ci||s instanceof On||s instanceof Ee||s instanceof ig||s instanceof hi)}function ag(s,t,i){if(!TE(i)||!l1(i)){const r=Dm(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function mm(s,t,i){if((t=He(t))instanceof Eh)return t._internalPath;if(typeof t=="string")return og(s,t);throw nh("Field path arguments must be of type string or ",s,!1,void 0,i)}const aI=new RegExp("[~\\*/\\[\\]]");function og(s,t,i){if(t.search(aI)>=0)throw nh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Eh(...t.split("."))._internalPath}catch{throw nh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function nh(s,t,i,r,l){const h=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(h||d)&&(p+=" (found",h&&(p+=` in field ${r}`),d&&(p+=` in document ${l}`),p+=")"),new ut(W.INVALID_ARGUMENT,g+s+p)}function bE(s,t){return s.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(t,i,r,l,h){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ee(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(SE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class oI extends AE{data(){return super.data()}}function SE(s,t){return typeof t=="string"?og(s,t):t instanceof Eh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uI{convertValue(t,i="none"){switch(qs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Bs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Ks(t,((l,h)=>{r[l]=this.convertValue(h,i)})),r}convertVectorValue(t){const i=t.fields?.[Qc].arrayValue?.values?.map((r=>de(r.doubleValue)));return new hi(i)}convertGeoPoint(t){return new ci(de(t.latitude),de(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=lh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ml(t));default:return null}}convertTimestamp(t){const i=zs(t);return new ee(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=te.fromString(t);Ht(K1(r),9688,{name:t});const l=new Vl(r.get(1),r.get(3)),h=new gt(r.popFirst(5));return l.isEqual(i)||Zi(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class bl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Vr extends AE{constructor(t,i,r,l,h,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(SE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Vr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Vr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vr._jsonSchema={type:ve("string",Vr._jsonSchemaVersion),bundleSource:ve("string","DocumentSnapshot"),bundleName:ve("string"),bundle:ve("string")};class kc extends Vr{data(t={}){return super.data(t)}}class Qa{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new bl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new kc(this._firestore,this._userDataWriter,r.key,r,new bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const p=new kc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new bl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const p=new kc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new bl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:cI(g.type),doc:p,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function cI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:ve("string",Qa._jsonSchemaVersion),bundleSource:ve("string","QuerySnapshot"),bundleName:ve("string"),bundle:ve("string")};class RE extends uI{constructor(t){super(),this.firestore=t}convertBytes(t){return new On(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ee(this.firestore,null,i)}}function hI(s,t,i){s=oi(s,Ee);const r=oi(s.firestore,zr),l=wE(s.converter,t);return Ah(r,[vE(rg(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Mn.none())])}function IE(s,t,i,...r){s=oi(s,Ee);const l=oi(s.firestore,zr),h=rg(l);let d;return d=typeof(t=He(t))=="string"||t instanceof Eh?rI(h,"updateDoc",s._key,t,i,r):sI(h,"updateDoc",s._key,t),Ah(l,[d.toMutation(s._key,Mn.exists(!0))])}function lg(s){return Ah(oi(s.firestore,zr),[new jm(s._key,Mn.none())])}function CE(s,t){const i=oi(s.firestore,zr),r=Fs(s),l=wE(s.converter,t);return Ah(i,[vE(rg(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Mn.exists(!1))]).then((()=>r))}function NE(s,...t){s=He(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||ev(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(ev(t[r])){const p=t[r];t[r]=p.next?.bind(p),t[r+1]=p.error?.bind(p),t[r+2]=p.complete?.bind(p)}let h,d,g;if(s instanceof Ee)d=oi(s.firestore,zr),g=Um(s._key.path),h={next:p=>{t[r]&&t[r](fI(d,s,p))},error:t[r+1],complete:t[r+2]};else{const p=oi(s,vh);d=oi(p.firestore,zr),g=p._query;const _=new RE(d);h={next:b=>{t[r]&&t[r](new Qa(d,_,p,b))},error:t[r+1],complete:t[r+2]},lI(s._query)}return(function(_,b,N,S){const z=new X5(S),X=new N5(b,z,N);return _.asyncQueue.enqueueAndForget((async()=>w5(await X_(_),X))),()=>{z.Nu(),_.asyncQueue.enqueueAndForget((async()=>R5(await X_(_),X)))}})(pE(d),g,l,h)}function Ah(s,t){return(function(r,l){const h=new Mr;return r.asyncQueue.enqueueAndForget((async()=>j5(await $5(r),l,h))),h.promise})(pE(s),t)}function fI(s,t,i){const r=i.docs.get(t._key),l=new RE(s);return new Vr(s,l,t._key,r,new bl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){so=l})(no),Xa(new Pr("firestore",((r,{instanceIdentifier:l,options:h})=>{const d=r.getProvider("app").getImmediate(),g=new zr(new n2(r.getProvider("auth-internal")),new r2(d,r.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(_.options.projectId,b)})(d,l),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),Ps(r_,a_,t),Ps(r_,a_,"esm2020")})();function dI({title:s,titleId:t,...i},r){return tt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),s?tt.createElement("title",{id:t},s):null,tt.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const mI=tt.forwardRef(dI);function gI({title:s,titleId:t,...i},r){return tt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),s?tt.createElement("title",{id:t},s):null,tt.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const pI=tt.forwardRef(gI);function yI({title:s,titleId:t,...i},r){return tt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),s?tt.createElement("title",{id:t},s):null,tt.createElement("path",{d:"M11.7 2.805a.75.75 0 0 1 .6 0A60.65 60.65 0 0 1 22.83 8.72a.75.75 0 0 1-.231 1.337 49.948 49.948 0 0 0-9.902 3.912l-.003.002c-.114.06-.227.119-.34.18a.75.75 0 0 1-.707 0A50.88 50.88 0 0 0 7.5 12.173v-.224c0-.131.067-.248.172-.311a54.615 54.615 0 0 1 4.653-2.52.75.75 0 0 0-.65-1.352 56.123 56.123 0 0 0-4.78 2.589 1.858 1.858 0 0 0-.859 1.228 49.803 49.803 0 0 0-4.634-1.527.75.75 0 0 1-.231-1.337A60.653 60.653 0 0 1 11.7 2.805Z"}),tt.createElement("path",{d:"M13.06 15.473a48.45 48.45 0 0 1 7.666-3.282c.134 1.414.22 2.843.255 4.284a.75.75 0 0 1-.46.711 47.87 47.87 0 0 0-8.105 4.342.75.75 0 0 1-.832 0 47.87 47.87 0 0 0-8.104-4.342.75.75 0 0 1-.461-.71c.035-1.442.121-2.87.255-4.286.921.304 1.83.634 2.726.99v1.27a1.5 1.5 0 0 0-.14 2.508c-.09.38-.222.753-.397 1.11.452.213.901.434 1.346.66a6.727 6.727 0 0 0 .551-1.607 1.5 1.5 0 0 0 .14-2.67v-.645a48.549 48.549 0 0 1 3.44 1.667 2.25 2.25 0 0 0 2.12 0Z"}),tt.createElement("path",{d:"M4.462 19.462c.42-.419.753-.89 1-1.395.453.214.902.435 1.347.662a6.742 6.742 0 0 1-1.286 1.794.75.75 0 0 1-1.06-1.06Z"}))}const _I=tt.forwardRef(yI);function vI({title:s,titleId:t,...i},r){return tt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),s?tt.createElement("title",{id:t},s):null,tt.createElement("path",{fillRule:"evenodd",d:"M7.5 3.75A1.5 1.5 0 0 0 6 5.25v13.5a1.5 1.5 0 0 0 1.5 1.5h6a1.5 1.5 0 0 0 1.5-1.5V15a.75.75 0 0 1 1.5 0v3.75a3 3 0 0 1-3 3h-6a3 3 0 0 1-3-3V5.25a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3V9A.75.75 0 0 1 15 9V5.25a1.5 1.5 0 0 0-1.5-1.5h-6Zm10.72 4.72a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 1 1-1.06-1.06l1.72-1.72H9a.75.75 0 0 1 0-1.5h10.94l-1.72-1.72a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const EI=tt.forwardRef(vI);function TI({title:s,titleId:t,...i},r){return tt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),s?tt.createElement("title",{id:t},s):null,tt.createElement("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1-1.06 1.06l-3.22-3.22V16.5a.75.75 0 0 1-1.5 0V4.81L8.03 8.03a.75.75 0 0 1-1.06-1.06l4.5-4.5ZM3 15.75a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const bI=tt.forwardRef(TI);function AI({title:s,titleId:t,...i},r){return tt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),s?tt.createElement("title",{id:t},s):null,tt.createElement("path",{fillRule:"evenodd",d:"M3 2.25a.75.75 0 0 0 0 1.5v16.5h-.75a.75.75 0 0 0 0 1.5H15v-18a.75.75 0 0 0 0-1.5H3ZM6.75 19.5v-2.25a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.75.75h-3a.75.75 0 0 1-.75-.75ZM6 6.75A.75.75 0 0 1 6.75 6h.75a.75.75 0 0 1 0 1.5h-.75A.75.75 0 0 1 6 6.75ZM6.75 9a.75.75 0 0 0 0 1.5h.75a.75.75 0 0 0 0-1.5h-.75ZM6 12.75a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM10.5 6a.75.75 0 0 0 0 1.5h.75a.75.75 0 0 0 0-1.5h-.75Zm-.75 3.75A.75.75 0 0 1 10.5 9h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM10.5 12a.75.75 0 0 0 0 1.5h.75a.75.75 0 0 0 0-1.5h-.75ZM16.5 6.75v15h5.25a.75.75 0 0 0 0-1.5H21v-12a.75.75 0 0 0 0-1.5h-4.5Zm1.5 4.5a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Zm.75 2.25a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75v-.008a.75.75 0 0 0-.75-.75h-.008ZM18 17.25a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Z",clipRule:"evenodd"}))}const Pa=tt.forwardRef(AI);function SI({title:s,titleId:t,...i},r){return tt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),s?tt.createElement("title",{id:t},s):null,tt.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}const wI=tt.forwardRef(SI);function RI({title:s,titleId:t,...i},r){return tt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),s?tt.createElement("title",{id:t},s):null,tt.createElement("path",{fillRule:"evenodd",d:"M4.848 2.771A49.144 49.144 0 0 1 12 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 0 1-3.476.383.39.39 0 0 0-.297.17l-2.755 4.133a.75.75 0 0 1-1.248 0l-2.755-4.133a.39.39 0 0 0-.297-.17 48.9 48.9 0 0 1-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97ZM6.75 8.25a.75.75 0 0 1 .75-.75h9a.75.75 0 0 1 0 1.5h-9a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H7.5Z",clipRule:"evenodd"}))}const II=tt.forwardRef(RI);function CI({title:s,titleId:t,...i},r){return tt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),s?tt.createElement("title",{id:t},s):null,tt.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const NI=tt.forwardRef(CI);function xI({title:s,titleId:t,...i},r){return tt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),s?tt.createElement("title",{id:t},s):null,tt.createElement("path",{fillRule:"evenodd",d:"M7.502 6h7.128A3.375 3.375 0 0 1 18 9.375v9.375a3 3 0 0 0 3-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 0 0-.673-.05A3 3 0 0 0 15 1.5h-1.5a3 3 0 0 0-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6ZM13.5 3A1.5 1.5 0 0 0 12 4.5h4.5A1.5 1.5 0 0 0 15 3h-1.5Z",clipRule:"evenodd"}),tt.createElement("path",{fillRule:"evenodd",d:"M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V9.375ZM6 12a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V12Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM6 15a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V15Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM6 18a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V18Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const Al=tt.forwardRef(xI);function DI({title:s,titleId:t,...i},r){return tt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),s?tt.createElement("title",{id:t},s):null,tt.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm5.845 17.03a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06l-1.72 1.72V12a.75.75 0 0 0-1.5 0v4.19l-1.72-1.72a.75.75 0 0 0-1.06 1.06l3 3Z",clipRule:"evenodd"}),tt.createElement("path",{d:"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"}))}const OI=tt.forwardRef(DI);function MI({title:s,titleId:t,...i},r){return tt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),s?tt.createElement("title",{id:t},s):null,tt.createElement("path",{fillRule:"evenodd",d:"M7.875 1.5C6.839 1.5 6 2.34 6 3.375v2.99c-.426.053-.851.11-1.274.174-1.454.218-2.476 1.483-2.476 2.917v6.294a3 3 0 0 0 3 3h.27l-.155 1.705A1.875 1.875 0 0 0 7.232 22.5h9.536a1.875 1.875 0 0 0 1.867-2.045l-.155-1.705h.27a3 3 0 0 0 3-3V9.456c0-1.434-1.022-2.7-2.476-2.917A48.716 48.716 0 0 0 18 6.366V3.375c0-1.036-.84-1.875-1.875-1.875h-8.25ZM16.5 6.205v-2.83A.375.375 0 0 0 16.125 3h-8.25a.375.375 0 0 0-.375.375v2.83a49.353 49.353 0 0 1 9 0Zm-.217 8.265c.178.018.317.16.333.337l.526 5.784a.375.375 0 0 1-.374.409H7.232a.375.375 0 0 1-.374-.409l.526-5.784a.373.373 0 0 1 .333-.337 41.741 41.741 0 0 1 8.566 0Zm.967-3.97a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H18a.75.75 0 0 1-.75-.75V10.5ZM15 9.75a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75V10.5a.75.75 0 0 0-.75-.75H15Z",clipRule:"evenodd"}))}const nv=tt.forwardRef(MI);function VI({title:s,titleId:t,...i},r){return tt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),s?tt.createElement("title",{id:t},s):null,tt.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const kI=tt.forwardRef(VI);function PI({title:s,titleId:t,...i},r){return tt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),s?tt.createElement("title",{id:t},s):null,tt.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const Pc=tt.forwardRef(PI);function UI({title:s,titleId:t,...i},r){return tt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),s?tt.createElement("title",{id:t},s):null,tt.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const LI=tt.forwardRef(UI);function jI({title:s,titleId:t,...i},r){return tt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),s?tt.createElement("title",{id:t},s):null,tt.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z",clipRule:"evenodd"}),tt.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"}))}const gm=tt.forwardRef(jI);function zI({title:s,titleId:t,...i},r){return tt.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},i),s?tt.createElement("title",{id:t},s):null,tt.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))}const pm=tt.forwardRef(zI),BI=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyDbSF7gMYvbEqoZ9fRdfSO-GEVSwsT6RDQ",authDomain:"sisbiko.firebaseapp.com",projectId:"sisbiko",storageBucket:"sisbiko.firebasestorage.app",messagingSenderId:"234431614670",appId:"1:234431614670:web:6e90f091d82d77d294ca9f"},qI=typeof __app_id<"u"?__app_id:"default-app-id",xE=_v(BI),Ua=Jw(xE),fi=W5(xE),di=`/artifacts/${qI}/public/data/`,HI="https://i.ibb.co/9g3v2Y4/Logo.png",GI="https://i.ibb.co/9g3v2Y4/Logo.png",iv=({message:s})=>A.jsxs("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-90 flex flex-col items-center justify-center z-50 backdrop-blur-sm",children:[A.jsxs("div",{className:"flex items-center justify-center text-white text-5xl font-bold",children:[A.jsx("span",{className:"tracking-widest",children:"SISBIK"}),A.jsxs("div",{className:"relative h-12 w-12 mx-1 flex items-center justify-center",children:[A.jsxs("svg",{className:"animate-spin h-12 w-12 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),A.jsx("div",{className:"absolute h-3 w-3 bg-red-500 rounded-full"})]})]}),A.jsx("p",{className:"text-white text-lg mt-4",children:s})]});function FI(){const[s,t]=tt.useState(null),[i,r]=tt.useState(!1),[l,h]=tt.useState(!1),[d,g]=tt.useState(null),[p,_]=tt.useState(null),[b,N]=tt.useState(null),[S,z]=tt.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}});tt.useEffect(()=>{let J=()=>{};const yt=zS(Ua,Rt=>{if(J(),t(Rt),Rt){const M=Fs(fi,`${di}users`,Rt.uid);J=NE(M,w=>{if(w.exists()){const I=w.data();g(I.role),_(I.name)}else g("guest");r(!0)})}else g(null),_(null),r(!0)});return(async()=>{if(!Ua.currentUser)try{typeof __initial_auth_token<"u"?await US(Ua,__initial_auth_token):await X0(Ua)}catch(Rt){console.error("Gagal autentikasi awal:",Rt),r(!0)}})(),()=>{yt(),J()}},[]);const X=async()=>{h(!0);try{const J=s?.uid;if(J){const yt=Fs(fi,`${di}users`,J);await lg(yt)}await BS(Ua)}catch(J){console.error("Logout failed:",J),et("Gagal keluar, silakan coba lagi.","bg-red-500")}finally{setTimeout(()=>{h(!1),X0(Ua).catch(J=>console.error("Gagal sign-in anonim otomatis:",J))},1500)}},et=(J,yt)=>{N({text:J,bgColor:yt}),setTimeout(()=>N(null),3e3)},G=(J,yt,ht)=>{z({isOpen:!0,title:J,message:yt,onConfirm:ht})},lt=()=>{S.onConfirm(),z({isOpen:!1,title:"",message:"",onConfirm:()=>{}})},ft=()=>{z({isOpen:!1,title:"",message:"",onConfirm:()=>{}})};return i?l?A.jsx(iv,{message:"Anda sedang keluar..."}):A.jsxs(A.Fragment,{children:[A.jsx(QI,{message:b}),A.jsx(XI,{confirmModal:S,onConfirm:lt,onCancel:ft}),s&&d&&d!=="guest"?A.jsx(KI,{user:s,userRole:d,userName:p,handleLogout:X,showMessage:et,showConfirmModal:G}):A.jsx(JI,{showMessage:et,user:s})]}):A.jsx(iv,{message:"Mempersiapkan aplikasi..."})}const KI=({user:s,userRole:t,userName:i,handleLogout:r,showMessage:l,showConfirmModal:h})=>{const[d,g]=tt.useState("dashboard"),[p,_]=tt.useState(!1),[b,N]=tt.useState([]),[S,z]=tt.useState([]),[X,et]=tt.useState([]),[G,lt]=tt.useState([]),[ft,J]=tt.useState([]),[yt,ht]=tt.useState([]);return tt.useEffect(()=>{const M=Object.entries({students:N,teachers:z,student_violations:et,student_achievements:lt,tata_tertib_violations:J,attendance:ht}).map(([w,I])=>NE(ng(fi,`${di}${w}`),O=>{I(O.docs.map(V=>({id:V.id,...V.data()})))},O=>{console.error(`Error fetching ${w}:`,O)}));return()=>M.forEach(w=>w())},[s.uid]),A.jsxs("div",{className:"flex min-h-screen bg-gray-50 font-sans",children:[A.jsx(YI,{userRole:t,setActiveMenu:g,activeMenu:d,handleLogout:r,isSidebarOpen:p,setIsSidebarOpen:_}),A.jsxs("div",{className:"flex-1 flex flex-col transition-all duration-300 ease-in-out md:ml-64",children:[A.jsx(ZI,{setIsSidebarOpen:_,userRole:t,userName:i}),A.jsx("main",{className:"flex-1 p-4 sm:p-6 md:p-8 overflow-y-auto",children:$I(d,t,i,s,l,h,b,S,X,G,ft,yt)}),A.jsx("footer",{className:"p-4 text-xs text-gray-400 text-left",children:"Copyright : harisvanjava@sman1Purwoasri - 2026"})]})]})},QI=({message:s})=>s?A.jsx("div",{className:`fixed top-5 right-5 p-4 rounded-lg shadow-xl text-white ${s.bgColor} z-50 transition-all duration-300`,children:s.text}):null,XI=({confirmModal:s,onConfirm:t,onCancel:i})=>s.isOpen?A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:A.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-sm",children:[A.jsx("h3",{className:"text-lg font-bold text-gray-800",children:s.title}),A.jsx("p",{className:"py-4 text-gray-600",children:s.message}),A.jsxs("div",{className:"flex justify-end space-x-4",children:[A.jsx("button",{onClick:i,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-semibold",children:"Batal"}),A.jsx("button",{onClick:t,className:"py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 font-semibold",children:"Hapus"})]})]})}):null,YI=({userRole:s,setActiveMenu:t,activeMenu:i,handleLogout:r,isSidebarOpen:l,setIsSidebarOpen:h})=>{const g={admin:[{name:"Dashboard",icon:A.jsx(Pa,{className:"h-6 w-6"}),menuKey:"admin_dashboard"},{name:"Input Prestasi",icon:A.jsx(Pc,{className:"h-6 w-6"}),menuKey:"input_prestasi_admin"},{name:"Input Pelanggaran",icon:A.jsx(Al,{className:"h-6 w-6"}),menuKey:"input_pelanggaran_admin"},{name:"Data Tata Tertib",icon:A.jsx(kI,{className:"h-6 w-6"}),menuKey:"tata_tertib"},{name:"Data Prestasi",icon:A.jsx(Pc,{className:"h-6 w-6"}),menuKey:"data_prestasi_admin"},{name:"Database Siswa",icon:A.jsx(gm,{className:"h-6 w-6"}),menuKey:"database_siswa"},{name:"Database Guru",icon:A.jsx(pm,{className:"h-6 w-6"}),menuKey:"database_guru"},{name:"Rekap & Print",icon:A.jsx(nv,{className:"h-6 w-6"}),menuKey:"rekap_print"}],kepalasekolah:[{name:"Dashboard",icon:A.jsx(Pa,{className:"h-6 w-6"}),menuKey:"kepalasekolah_dashboard"},{name:"Database Siswa",icon:A.jsx(gm,{className:"h-6 w-6"}),menuKey:"database_siswa_kepala"},{name:"Database Guru",icon:A.jsx(pm,{className:"h-6 w-6"}),menuKey:"database_guru_kepala"},{name:"Rekap & Print",icon:A.jsx(nv,{className:"h-6 w-6"}),menuKey:"rekap_print_kepala"}],guru:[{name:"Dashboard",icon:A.jsx(Pa,{className:"h-6 w-6"}),menuKey:"guru_dashboard"},{name:"Input Pelanggaran",icon:A.jsx(Al,{className:"h-6 w-6"}),menuKey:"input_pelanggaran"}],walikelas:[{name:"Dashboard",icon:A.jsx(Pa,{className:"h-6 w-6"}),menuKey:"walikelas_dashboard"},{name:"Input Pelanggaran",icon:A.jsx(Al,{className:"h-6 w-6"}),menuKey:"input_pelanggaran_walikelas"},{name:"Input Prestasi",icon:A.jsx(Pc,{className:"h-6 w-6"}),menuKey:"input_prestasi"},{name:"Rekap Poin Kelas",icon:A.jsx(wI,{className:"h-6 w-6"}),menuKey:"rekap_kelas"}],gurubk:[{name:"Dashboard",icon:A.jsx(Pa,{className:"h-6 w-6"}),menuKey:"gurubk_dashboard"},{name:"Konsultasi & Penanganan",icon:A.jsx(II,{className:"h-6 w-6"}),menuKey:"konsultasi_penanganan"},{name:"Rekap Pelanggaran",icon:A.jsx(Al,{className:"h-6 w-6"}),menuKey:"rekap_pelanggaran_bk"},{name:"Rekap Pembinaan",icon:A.jsx(_I,{className:"h-6 w-6"}),menuKey:"rekap_pembinaan_bk"}],gurupiket:[{name:"Dashboard",icon:A.jsx(Pa,{className:"h-6 w-6"}),menuKey:"gurupiket_dashboard"},{name:"Absensi Siswa",icon:A.jsx(NI,{className:"h-6 w-6"}),menuKey:"absensi_siswa"}]}[s]||[];return A.jsxs(A.Fragment,{children:[l&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:()=>h(!1)}),A.jsxs("aside",{className:`fixed inset-y-0 left-0 w-64 bg-gray-800 text-white p-4 z-30 transform ${l?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out`,children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsxs("div",{className:"flex flex-col items-center w-full",children:[A.jsx("img",{src:GI,alt:"Logo SMAN 1 Purwoasri",className:"h-12"}),A.jsx("span",{className:"text-xs font-semibold mt-2 text-center text-gray-300",children:"Sistem Informasi Bimbingan Konseling"})]}),A.jsx("button",{className:"md:hidden text-gray-300 hover:text-white",onClick:()=>h(!1),children:A.jsx(pI,{className:"h-6 w-6"})})]}),A.jsx("nav",{children:A.jsxs("ul",{children:[g.map(p=>A.jsx("li",{className:"mb-2",children:A.jsxs("button",{onClick:()=>{t(p.menuKey),h(!1)},className:`flex items-center w-full p-3 rounded-lg transition-colors duration-200 ${i===p.menuKey?"bg-indigo-600 text-white shadow-lg":"hover:bg-gray-700 text-gray-300"}`,children:[p.icon,A.jsx("span",{className:"ml-4 font-medium",children:p.name})]})},p.menuKey)),A.jsx("li",{className:"absolute bottom-4 w-56",children:A.jsxs("button",{onClick:r,className:"flex items-center w-full p-3 text-red-400 rounded-lg transition-colors duration-200 hover:bg-red-500 hover:text-white",children:[A.jsx(EI,{className:"h-6 w-6"}),A.jsx("span",{className:"ml-4 font-medium",children:"Keluar"})]})})]})})]})]})},ZI=({setIsSidebarOpen:s,userRole:t,userName:i})=>A.jsxs("header",{className:"bg-white shadow-sm p-4 flex items-center justify-between sticky top-0 z-10",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("button",{onClick:()=>s(!0),className:"md:hidden mr-4 text-gray-600",children:A.jsx(mI,{className:"h-6 w-6"})}),A.jsxs("h1",{className:"text-xl font-bold text-gray-800 capitalize",children:["Dashboard ",t]})]}),A.jsxs("div",{className:"flex items-center space-x-4",children:[A.jsxs("div",{className:"text-right",children:[A.jsx("p",{className:"font-semibold text-gray-700",children:i||"Pengguna"}),A.jsx("p",{className:"text-sm text-gray-500 capitalize",children:t})]}),A.jsx(LI,{className:"h-10 w-10 text-gray-400"})]})]}),$I=(s,t,i,r,l,h,d,g,p,_,b,N)=>{const S={showMessage:l,showConfirmModal:h,user:r,userRole:t,userName:i,allStudents:d,allTeachers:g,allViolations:p,allAchievements:_,allViolationRules:b,allAttendance:N},z={admin:{admin_dashboard:A.jsx(WI,{...S}),input_prestasi_admin:A.jsx(av,{...S}),input_pelanggaran_admin:A.jsx(Hd,{...S}),tata_tertib:A.jsx(r4,{...S}),data_prestasi_admin:A.jsx(a4,{...S}),database_siswa:A.jsx(sv,{...S}),database_guru:A.jsx(rv,{...S}),rekap_print:A.jsx(ov,{...S})},kepalasekolah:{kepalasekolah_dashboard:A.jsx(t4,{...S}),database_siswa_kepala:A.jsx(sv,{...S,isReadOnly:!0}),database_guru_kepala:A.jsx(rv,{...S,isReadOnly:!0}),rekap_print_kepala:A.jsx(ov,{...S})},guru:{guru_dashboard:A.jsx(e4,{...S}),input_pelanggaran:A.jsx(Hd,{...S})},walikelas:{walikelas_dashboard:A.jsx(n4,{...S}),input_pelanggaran_walikelas:A.jsx(Hd,{...S}),input_prestasi:A.jsx(av,{...S}),rekap_kelas:A.jsx(o4,{...S})},gurubk:{gurubk_dashboard:A.jsx(i4,{...S}),konsultasi_penanganan:A.jsx(l4,{...S}),rekap_pelanggaran_bk:A.jsx(u4,{...S}),rekap_pembinaan_bk:A.jsx(c4,{...S})},gurupiket:{gurupiket_dashboard:A.jsx(s4,{...S}),absensi_siswa:A.jsx(h4,{...S})}};return z[t]?.[s]||z[t]?.[`${t}_dashboard`]||A.jsx(Hr,{...S})},JI=({showMessage:s,user:t})=>{const i=async(r,l,h=null)=>{if(!t){s("Sesi autentikasi tidak ditemukan, silakan muat ulang halaman.","bg-red-500");return}const d=Fs(fi,`${di}users`,t.uid);try{await hI(d,{userId:t.uid,role:r,name:l,class:h}),s(`Berhasil login sebagai ${r}!`,"bg-green-500")}catch(g){console.error("Gagal menetapkan peran pengguna: ",g),s("Gagal login, silakan coba lagi.","bg-red-500")}};return A.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 font-sans p-4",children:A.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md text-center transform hover:scale-105 transition-transform duration-300",children:[A.jsx("img",{src:HI,alt:"SISBIKO Logo",className:"h-20 mx-auto mb-6"}),A.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Selamat Datang di SISBIKO"}),A.jsx("p",{className:"text-gray-600 mb-8",children:"Silakan pilih peran Anda untuk masuk ke sistem."}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx("button",{onClick:()=>i("admin","Admin Utama"),className:"py-3 px-4 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition duration-300",children:"Admin"}),A.jsx("button",{onClick:()=>i("kepalasekolah","Kepala Sekolah"),className:"py-3 px-4 bg-red-600 text-white font-semibold rounded-lg shadow-md hover:bg-red-700 transition duration-300",children:"Kepala Sekolah"}),A.jsx("button",{onClick:()=>i("walikelas","Budi Santoso","XII IPA 1"),className:"py-3 px-4 bg-purple-600 text-white font-semibold rounded-lg shadow-md hover:bg-purple-700 transition duration-300",children:"Wali Kelas"}),A.jsx("button",{onClick:()=>i("guru","Siti Aminah"),className:"py-3 px-4 bg-green-600 text-white font-semibold rounded-lg shadow-md hover:bg-green-700 transition duration-300",children:"Guru"}),A.jsx("button",{onClick:()=>i("gurubk","Rina Wijaya"),className:"py-3 px-4 bg-yellow-500 text-white font-semibold rounded-lg shadow-md hover:bg-yellow-600 transition duration-300",children:"Guru BK"}),A.jsx("button",{onClick:()=>i("gurupiket","Agus Setiawan"),className:"py-3 px-4 bg-orange-500 text-white font-semibold rounded-lg shadow-md hover:bg-orange-600 transition duration-300",children:"Guru Piket"})]})]})})},Hr=({allStudents:s,allTeachers:t,allViolations:i,allAchievements:r,allViolationRules:l,userRole:h,userName:d})=>{const g=s.map(S=>{const z=i.filter(et=>et.studentId===S.id).reduce((et,G)=>et+(G.points||0),0),X=r.filter(et=>et.studentId===S.id).reduce((et,G)=>et+(G.points||0),0);return{...S,totalViolationPoints:z,totalAchievementPoints:X,netPoints:z-X}}),p=[...g].sort((S,z)=>z.netPoints-S.netPoints).slice(0,10);[...g].sort((S,z)=>z.totalAchievementPoints-S.totalAchievementPoints).slice(0,10);const _=i.reduce((S,z)=>{const X=l.find(et=>et.id===z.violationId);return X&&(S[X.description]=(S[X.description]||0)+1),S},{}),b=Object.entries(_).sort(([,S],[,z])=>z-S).slice(0,5),N=({title:S,value:z,icon:X,color:et})=>A.jsxs("div",{className:`bg-white p-5 rounded-xl shadow-md flex items-center justify-between border-l-4 ${et}`,children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-500 font-medium",children:S}),A.jsx("p",{className:"text-3xl font-bold text-gray-800",children:z})]}),A.jsx("div",{className:`p-3 rounded-full bg-opacity-20 ${et.replace("border","bg").replace("-500","-100")}`,children:rb.cloneElement(X,{className:`h-8 w-8 ${et.replace("border","text")}`})})]});return A.jsxs("div",{className:"space-y-8",children:[A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[A.jsxs("h2",{className:"text-3xl font-bold text-gray-800",children:["Selamat Datang, ",d,"!"]}),A.jsx("p",{className:"text-gray-600 mt-1",children:"Ini adalah ringkasan aktivitas di sekolah Anda."})]}),h==="admin"&&A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[A.jsx(N,{title:"Jumlah Siswa",value:s.length,icon:A.jsx(gm,{}),color:"border-blue-500"}),A.jsx(N,{title:"Jumlah Guru",value:t.length,icon:A.jsx(pm,{}),color:"border-green-500"}),A.jsx(N,{title:"Total Pelanggaran",value:i.length,icon:A.jsx(Al,{}),color:"border-red-500"}),A.jsx(N,{title:"Total Prestasi",value:r.length,icon:A.jsx(Pc,{}),color:"border-yellow-500"})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[A.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-md",children:[A.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-700",children:"Peringkat Poin Pelanggaran Siswa"}),A.jsx("div",{className:"overflow-y-auto max-h-96",children:A.jsx("ul",{className:"divide-y divide-gray-200",children:p.map((S,z)=>A.jsxs("li",{className:"py-3 flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("span",{className:`flex-shrink-0 h-8 w-8 rounded-full ${z<3?"bg-red-500":"bg-gray-300"} text-white flex items-center justify-center font-bold text-sm`,children:z+1}),A.jsxs("div",{className:"ml-4",children:[A.jsx("p",{className:"font-semibold text-gray-800",children:S.name}),A.jsx("p",{className:"text-sm text-gray-500",children:S.class})]})]}),A.jsxs("span",{className:"text-red-500 font-bold text-lg",children:[S.netPoints," Poin"]})]},S.id))})})]}),A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[A.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-700",children:"Pelanggaran Terpopuler"}),A.jsx("ul",{className:"space-y-4",children:b.map(([S,z],X)=>A.jsxs("li",{children:[A.jsxs("div",{className:"flex justify-between mb-1",children:[A.jsx("span",{className:"text-sm font-medium text-gray-600 truncate",children:S}),A.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:[z," kali"]})]}),A.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:A.jsx("div",{className:"bg-indigo-500 h-2.5 rounded-full",style:{width:`${z/(b[0]?.[1]||1)*100}%`}})})]},X))})]})]})]})},WI=s=>A.jsx(Hr,{...s}),t4=s=>A.jsx(Hr,{...s}),e4=s=>A.jsx(Hr,{...s}),n4=s=>A.jsx(Hr,{...s}),i4=s=>A.jsx(Hr,{...s}),s4=s=>A.jsx(Hr,{...s}),sv=({allStudents:s,showMessage:t,showConfirmModal:i,isReadOnly:r=!1})=>{const[l,h]=tt.useState({name:"",nis:"",nisn:"",class:""}),[d,g]=tt.useState(null),[p,_]=tt.useState(""),b=["X-1","X-2","X-3","X-4","X-5","X-6","X-7","X-8","X-9","X-10","XI-SAINTEK 1","XI-SAINTEK 2","XI-SAINTEK 3","XI-SAINKES 1","XI-SAINKES 2","XI-SAINKES 3","XI-EKBIS 1","XI-EKBIS 2","XI-EKBIS 3","XI-HUM 1","XII-SAINTEK 1","XII-SAINTEK 2","XII-SAINTEK 3","XII-SAINKES 1","XII-SAINKES 2","XII-SAINKES 3","XII-EKBIS 1","XII-EKBIS 2","XII-EKBIS 3","XII-HUM 1"],N=J=>{const{name:yt,value:ht}=J.target;h(Rt=>({...Rt,[yt]:ht}))},S=J=>{g(J),h({name:J.name||"",nis:J.nis||"",nisn:J.nisn||"",class:J.class||""})},z=()=>{g(null),h({name:"",nis:"",nisn:"",class:""})},X=async J=>{if(J.preventDefault(),!l.name||!l.nisn||!l.nis||!l.class)return t("Semua kolom harus diisi.","bg-red-500");try{d?(await IE(Fs(fi,`${di}students`,d.id),l),t("Data siswa berhasil diperbarui!","bg-green-500")):(await CE(ng(fi,`${di}students`),l),t("Data siswa berhasil ditambahkan!","bg-green-500")),z()}catch(yt){console.error("Error saving student data: ",yt),t("Gagal menyimpan data siswa.","bg-red-500")}},et=J=>{i("Hapus Data Siswa","Apakah Anda yakin ingin menghapus data siswa ini? Tindakan ini tidak dapat dibatalkan.",async()=>{try{await lg(Fs(fi,`${di}students`,J)),t("Data siswa berhasil dihapus.","bg-green-500")}catch(yt){console.error("Error deleting student: ",yt),t("Gagal menghapus data siswa.","bg-red-500")}})},G=()=>{const yt=encodeURI(`data:text/csv;charset=utf-8,Nama,NIS,NISN,Kelas
`),ht=document.createElement("a");ht.setAttribute("href",yt),ht.setAttribute("download","template_siswa.csv"),document.body.appendChild(ht),ht.click(),document.body.removeChild(ht)},lt=J=>{const yt=J.target.files[0];yt&&t(`Fitur upload untuk file ${yt.name} sedang dalam pengembangan.`,"bg-blue-500")},ft=s.filter(J=>(J.name||"").toLowerCase().includes(p.toLowerCase())||(J.nis||"").includes(p)||(J.nisn||"").includes(p));return A.jsxs("div",{className:"space-y-6",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Database Siswa"}),!r&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[A.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-700",children:d?"Edit Data Siswa":"Tambah Siswa Baru (Manual)"}),A.jsxs("form",{onSubmit:X,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nama Lengkap"}),A.jsx("input",{type:"text",name:"name",value:l.name,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"nis",className:"block text-sm font-medium text-gray-700",children:"NIS"}),A.jsx("input",{type:"text",name:"nis",value:l.nis,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"nisn",className:"block text-sm font-medium text-gray-700",children:"NISN"}),A.jsx("input",{type:"text",name:"nisn",value:l.nisn,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"class",className:"block text-sm font-medium text-gray-700",children:"Kelas"}),A.jsxs("select",{name:"class",value:l.class,onChange:N,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 rounded-md",children:[A.jsx("option",{value:"",children:"-- Pilih Kelas --"}),b.map(J=>A.jsx("option",{value:J,children:J},J))]})]}),A.jsxs("div",{className:"md:col-span-2 flex items-center space-x-4",children:[A.jsx("button",{type:"submit",className:"py-2 px-6 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700",children:d?"Simpan Perubahan":"Tambah Siswa"}),d&&A.jsx("button",{type:"button",onClick:z,className:"py-2 px-6 bg-gray-300 text-gray-800 font-semibold rounded-lg hover:bg-gray-400",children:"Batal"})]})]})]}),A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[A.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Upload Data Siswa (Massal)"}),A.jsxs("div",{className:"flex items-center space-x-4",children:[A.jsxs("button",{onClick:G,className:"flex items-center py-2 px-4 bg-green-600 text-white font-semibold rounded-lg shadow-md hover:bg-green-700",children:[A.jsx(OI,{className:"h-5 w-5 mr-2"}),"Unduh Template"]}),A.jsxs("label",{className:"flex items-center py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 cursor-pointer",children:[A.jsx(bI,{className:"h-5 w-5 mr-2"}),"Upload File CSV",A.jsx("input",{type:"file",onChange:lt,accept:".csv",className:"hidden"})]})]})]})]}),A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[A.jsx("input",{type:"text",placeholder:"Cari siswa berdasarkan nama, NIS, atau NISN...",value:p,onChange:J=>_(J.target.value),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 mb-4"}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"NIS"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"NISN"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kelas"}),!r&&A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ft.map(J=>A.jsxs("tr",{children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:J.name}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:J.nis}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:J.nisn}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:J.class}),!r&&A.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-4",children:[A.jsx("button",{onClick:()=>S(J),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),A.jsx("button",{onClick:()=>et(J.id),className:"text-red-600 hover:text-red-900",children:"Hapus"})]})]},J.id))})]})})]})]})},rv=({allTeachers:s,showMessage:t,showConfirmModal:i,isReadOnly:r=!1})=>{const[l,h]=tt.useState({name:"",nip:"",role:"",password:""}),[d,g]=tt.useState(null),[p,_]=tt.useState(""),b=G=>{const{name:lt,value:ft}=G.target;h(J=>({...J,[lt]:ft}))},N=G=>{g(G),h({name:G.name||"",nip:G.nip||"",role:G.role||"",password:""})},S=()=>{g(null),h({name:"",nip:"",role:"",password:""})},z=async G=>{if(G.preventDefault(),!l.name||!l.nip||!l.role)return t("Nama, NIP, dan Peran harus diisi.","bg-red-500");if(!d&&!l.password)return t("Password harus diisi untuk guru baru.","bg-red-500");try{let lt={...l};d&&!l.password&&delete lt.password,d?(await IE(Fs(fi,`${di}teachers`,d.id),lt),t("Data guru berhasil diperbarui!","bg-green-500")):(await CE(ng(fi,`${di}teachers`),lt),t("Data guru berhasil ditambahkan!","bg-green-500")),S()}catch(lt){console.error("Error saving teacher data: ",lt),t("Gagal menyimpan data guru.","bg-red-500")}},X=G=>{i("Hapus Data Guru","Apakah Anda yakin ingin menghapus data guru ini?",async()=>{try{await lg(Fs(fi,`${di}teachers`,G)),t("Data guru berhasil dihapus.","bg-green-500")}catch(lt){console.error("Error deleting teacher: ",lt),t("Gagal menghapus data guru.","bg-red-500")}})},et=s.filter(G=>(G.name||"").toLowerCase().includes(p.toLowerCase())||(G.nip||"").toLowerCase().includes(p.toLowerCase()));return A.jsxs("div",{className:"space-y-6",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Database Guru"}),!r&&A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[A.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-700",children:d?"Edit Data Guru":"Tambah Guru Baru (Manual)"}),A.jsxs("form",{onSubmit:z,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"nip",className:"block text-sm font-medium text-gray-700",children:"NIP"}),A.jsx("input",{type:"text",id:"nip",name:"nip",value:l.nip,onChange:b,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nama Guru"}),A.jsx("input",{type:"text",id:"name",name:"name",value:l.name,onChange:b,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),A.jsx("input",{type:"password",id:"password",name:"password",value:l.password,onChange:b,placeholder:d?"Kosongkan jika tidak diubah":"",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Peran Sebagai"}),A.jsxs("select",{id:"role",name:"role",value:l.role,onChange:b,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 rounded-md",children:[A.jsx("option",{value:"",children:"-- Pilih Peran --"}),A.jsx("option",{value:"guru",children:"Guru"}),A.jsx("option",{value:"gurubk",children:"Guru BK"}),A.jsx("option",{value:"gurupiket",children:"Guru Piket"}),A.jsx("option",{value:"walikelas",children:"Wali Kelas"})]})]}),A.jsxs("div",{className:"md:col-span-2 flex items-center space-x-4",children:[A.jsx("button",{type:"submit",className:"py-2 px-6 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700",children:d?"Simpan Perubahan":"Tambah Guru"}),d&&A.jsx("button",{type:"button",onClick:S,className:"py-2 px-6 bg-gray-300 text-gray-800 font-semibold rounded-lg hover:bg-gray-400",children:"Batal"})]}),A.jsx("p",{className:"md:col-span-2 text-xs text-gray-500 mt-2",children:"**Penting**: Fitur password ini hanya untuk penyimpanan data. Sistem login saat ini tidak menggunakan password ini."})]})]}),A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[A.jsx("input",{type:"text",placeholder:"Cari guru berdasarkan nama atau NIP...",value:p,onChange:G=>_(G.target.value),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 mb-4"}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"NIP"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Jabatan"}),!r&&A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:et.map(G=>A.jsxs("tr",{children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:G.name}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.nip}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize",children:G.role}),!r&&A.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-4",children:[A.jsx("button",{onClick:()=>N(G),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),A.jsx("button",{onClick:()=>X(G.id),className:"text-red-600 hover:text-red-900",children:"Hapus"})]})]},G.id))})]})})]})]})},pi=({title:s})=>A.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:s}),A.jsx("p",{className:"mt-4 text-gray-600",children:"Komponen ini sedang dalam pengembangan."})]}),av=s=>A.jsx(pi,{title:"Input Prestasi Siswa"}),Hd=s=>A.jsx(pi,{title:"Input Pelanggaran/Kejadian"}),r4=s=>A.jsx(pi,{title:"Data Tata Tertib Pelanggaran"}),a4=s=>A.jsx(pi,{title:"Data Prestasi Siswa"}),ov=s=>A.jsx(pi,{title:"Rekap & Print"}),o4=s=>A.jsx(pi,{title:"Rekap Poin Kelas"}),l4=s=>A.jsx(pi,{title:"Konsultasi dan Penanganan"}),u4=s=>A.jsx(pi,{title:"Rekapitulasi Pelanggaran"}),c4=s=>A.jsx(pi,{title:"Rekapitulasi Pembinaan"}),h4=s=>A.jsx(pi,{title:"Absensi Siswa"});fb.createRoot(document.getElementById("root")).render(A.jsx(tt.StrictMode,{children:A.jsx(FI,{})}));
