(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function yb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var xd={exports:{}},_l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function _b(){if(C0)return _l;C0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return _l.Fragment=e,_l.jsx=n,_l.jsxs=n,_l}var x0;function vb(){return x0||(x0=1,xd.exports=_b()),xd.exports}var A=vb(),Nd={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function Eb(){if(N0)return we;N0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),I=Symbol.iterator;function S(N){return N===null||typeof N!="object"?null:(N=I&&N[I]||N["@@iterator"],typeof N=="function"?N:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,te={};function G(N,J,se){this.props=N,this.context=J,this.refs=te,this.updater=se||z}G.prototype.isReactComponent={},G.prototype.setState=function(N,J){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,J,"setState")},G.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ue(){}ue.prototype=G.prototype;function fe(N,J,se){this.props=N,this.context=J,this.refs=te,this.updater=se||z}var W=fe.prototype=new ue;W.constructor=fe,F(W,G.prototype),W.isPureReactComponent=!0;var ye=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},Re=Object.prototype.hasOwnProperty;function M(N,J,se,ne,ge,Ce){return se=Ce.ref,{$$typeof:r,type:N,key:J,ref:se!==void 0?se:null,props:Ce}}function w(N,J){return M(N.type,J,void 0,void 0,void 0,N.props)}function C(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function O(N){var J={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(se){return J[se]})}var V=/\/+/g;function P(N,J){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):J.toString(36)}function x(){}function Pt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(x,x):(N.status="pending",N.then(function(J){N.status==="pending"&&(N.status="fulfilled",N.value=J)},function(J){N.status==="pending"&&(N.status="rejected",N.reason=J)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function at(N,J,se,ne,ge){var Ce=typeof N;(Ce==="undefined"||Ce==="boolean")&&(N=null);var be=!1;if(N===null)be=!0;else switch(Ce){case"bigint":case"string":case"number":be=!0;break;case"object":switch(N.$$typeof){case r:case e:be=!0;break;case T:return be=N._init,at(be(N._payload),J,se,ne,ge)}}if(be)return ge=ge(N),be=ne===""?"."+P(N,0):ne,ye(ge)?(se="",be!=null&&(se=be.replace(V,"$&/")+"/"),at(ge,J,se,"",function(Fn){return Fn})):ge!=null&&(C(ge)&&(ge=w(ge,se+(ge.key==null||N&&N.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+be)),J.push(ge)),1;be=0;var Ct=ne===""?".":ne+":";if(ye(N))for(var Je=0;Je<N.length;Je++)ne=N[Je],Ce=Ct+P(ne,Je),be+=at(ne,J,se,Ce,ge);else if(Je=S(N),typeof Je=="function")for(N=Je.call(N),Je=0;!(ne=N.next()).done;)ne=ne.value,Ce=Ct+P(ne,Je++),be+=at(ne,J,se,Ce,ge);else if(Ce==="object"){if(typeof N.then=="function")return at(Pt(N),J,se,ne,ge);throw J=String(N),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return be}function K(N,J,se){if(N==null)return N;var ne=[],ge=0;return at(N,ne,"","",function(Ce){return J.call(se,Ce,ge++)}),ne}function re(N){if(N._status===-1){var J=N._result;J=J(),J.then(function(se){(N._status===0||N._status===-1)&&(N._status=1,N._result=se)},function(se){(N._status===0||N._status===-1)&&(N._status=2,N._result=se)}),N._status===-1&&(N._status=0,N._result=J)}if(N._status===1)return N._result.default;throw N._result}var de=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function ze(){}return we.Children={map:K,forEach:function(N,J,se){K(N,function(){J.apply(this,arguments)},se)},count:function(N){var J=0;return K(N,function(){J++}),J},toArray:function(N){return K(N,function(J){return J})||[]},only:function(N){if(!C(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},we.Component=G,we.Fragment=n,we.Profiler=l,we.PureComponent=fe,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,we.__COMPILER_RUNTIME={__proto__:null,c:function(N){return he.H.useMemoCache(N)}},we.cache=function(N){return function(){return N.apply(null,arguments)}},we.cloneElement=function(N,J,se){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ne=F({},N.props),ge=N.key,Ce=void 0;if(J!=null)for(be in J.ref!==void 0&&(Ce=void 0),J.key!==void 0&&(ge=""+J.key),J)!Re.call(J,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&J.ref===void 0||(ne[be]=J[be]);var be=arguments.length-2;if(be===1)ne.children=se;else if(1<be){for(var Ct=Array(be),Je=0;Je<be;Je++)Ct[Je]=arguments[Je+2];ne.children=Ct}return M(N.type,ge,void 0,void 0,Ce,ne)},we.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},we.createElement=function(N,J,se){var ne,ge={},Ce=null;if(J!=null)for(ne in J.key!==void 0&&(Ce=""+J.key),J)Re.call(J,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ge[ne]=J[ne]);var be=arguments.length-2;if(be===1)ge.children=se;else if(1<be){for(var Ct=Array(be),Je=0;Je<be;Je++)Ct[Je]=arguments[Je+2];ge.children=Ct}if(N&&N.defaultProps)for(ne in be=N.defaultProps,be)ge[ne]===void 0&&(ge[ne]=be[ne]);return M(N,Ce,void 0,void 0,null,ge)},we.createRef=function(){return{current:null}},we.forwardRef=function(N){return{$$typeof:g,render:N}},we.isValidElement=C,we.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:re}},we.memo=function(N,J){return{$$typeof:y,type:N,compare:J===void 0?null:J}},we.startTransition=function(N){var J=he.T,se={};he.T=se;try{var ne=N(),ge=he.S;ge!==null&&ge(se,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(ze,de)}catch(Ce){de(Ce)}finally{he.T=J}},we.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},we.use=function(N){return he.H.use(N)},we.useActionState=function(N,J,se){return he.H.useActionState(N,J,se)},we.useCallback=function(N,J){return he.H.useCallback(N,J)},we.useContext=function(N){return he.H.useContext(N)},we.useDebugValue=function(){},we.useDeferredValue=function(N,J){return he.H.useDeferredValue(N,J)},we.useEffect=function(N,J,se){var ne=he.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(N,J)},we.useId=function(){return he.H.useId()},we.useImperativeHandle=function(N,J,se){return he.H.useImperativeHandle(N,J,se)},we.useInsertionEffect=function(N,J){return he.H.useInsertionEffect(N,J)},we.useLayoutEffect=function(N,J){return he.H.useLayoutEffect(N,J)},we.useMemo=function(N,J){return he.H.useMemo(N,J)},we.useOptimistic=function(N,J){return he.H.useOptimistic(N,J)},we.useReducer=function(N,J,se){return he.H.useReducer(N,J,se)},we.useRef=function(N){return he.H.useRef(N)},we.useState=function(N){return he.H.useState(N)},we.useSyncExternalStore=function(N,J,se){return he.H.useSyncExternalStore(N,J,se)},we.useTransition=function(){return he.H.useTransition()},we.version="19.1.1",we}var D0;function Sm(){return D0||(D0=1,Nd.exports=Eb()),Nd.exports}var ee=Sm();const Tb=yb(ee);var Dd={exports:{}},vl={},Od={exports:{}},Vd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function bb(){return O0||(O0=1,(function(r){function e(K,re){var de=K.length;K.push(re);e:for(;0<de;){var ze=de-1>>>1,N=K[ze];if(0<l(N,re))K[ze]=re,K[de]=N,de=ze;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var re=K[0],de=K.pop();if(de!==re){K[0]=de;e:for(var ze=0,N=K.length,J=N>>>1;ze<J;){var se=2*(ze+1)-1,ne=K[se],ge=se+1,Ce=K[ge];if(0>l(ne,de))ge<N&&0>l(Ce,ne)?(K[ze]=Ce,K[ge]=de,ze=ge):(K[ze]=ne,K[se]=de,ze=se);else if(ge<N&&0>l(Ce,de))K[ze]=Ce,K[ge]=de,ze=ge;else break e}}return re}function l(K,re){var de=K.sortIndex-re.sortIndex;return de!==0?de:K.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],y=[],T=1,I=null,S=3,z=!1,F=!1,te=!1,G=!1,ue=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ye(K){for(var re=n(y);re!==null;){if(re.callback===null)s(y);else if(re.startTime<=K)s(y),re.sortIndex=re.expirationTime,e(p,re);else break;re=n(y)}}function he(K){if(te=!1,ye(K),!F)if(n(p)!==null)F=!0,Re||(Re=!0,P());else{var re=n(y);re!==null&&at(he,re.startTime-K)}}var Re=!1,M=-1,w=5,C=-1;function O(){return G?!0:!(r.unstable_now()-C<w)}function V(){if(G=!1,Re){var K=r.unstable_now();C=K;var re=!0;try{e:{F=!1,te&&(te=!1,fe(M),M=-1),z=!0;var de=S;try{t:{for(ye(K),I=n(p);I!==null&&!(I.expirationTime>K&&O());){var ze=I.callback;if(typeof ze=="function"){I.callback=null,S=I.priorityLevel;var N=ze(I.expirationTime<=K);if(K=r.unstable_now(),typeof N=="function"){I.callback=N,ye(K),re=!0;break t}I===n(p)&&s(p),ye(K)}else s(p);I=n(p)}if(I!==null)re=!0;else{var J=n(y);J!==null&&at(he,J.startTime-K),re=!1}}break e}finally{I=null,S=de,z=!1}re=void 0}}finally{re?P():Re=!1}}}var P;if(typeof W=="function")P=function(){W(V)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Pt=x.port2;x.port1.onmessage=V,P=function(){Pt.postMessage(null)}}else P=function(){ue(V,0)};function at(K,re){M=ue(function(){K(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(K){switch(S){case 1:case 2:case 3:var re=3;break;default:re=S}var de=S;S=re;try{return K()}finally{S=de}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=S;S=K;try{return re()}finally{S=de}},r.unstable_scheduleCallback=function(K,re,de){var ze=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ze+de:ze):de=ze,K){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=de+N,K={id:T++,callback:re,priorityLevel:K,startTime:de,expirationTime:N,sortIndex:-1},de>ze?(K.sortIndex=de,e(y,K),n(p)===null&&K===n(y)&&(te?(fe(M),M=-1):te=!0,at(he,de-ze))):(K.sortIndex=N,e(p,K),F||z||(F=!0,Re||(Re=!0,P()))),K},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(K){var re=S;return function(){var de=S;S=re;try{return K.apply(this,arguments)}finally{S=de}}}})(Vd)),Vd}var V0;function Ab(){return V0||(V0=1,Od.exports=bb()),Od.exports}var Md={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function Sb(){if(M0)return Qt;M0=1;var r=Sm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,T){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:p,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,T)},Qt.flushSync=function(p){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=T,s.d.f()}},Qt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,I=g(T,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:I,integrity:S,fetchPriority:z}):T==="script"&&s.d.X(p,{crossOrigin:I,integrity:S,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Qt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,I=g(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:I,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qt.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,y){return p(y)},Qt.useFormState=function(p,y,T){return d.H.useFormState(p,y,T)},Qt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qt.version="19.1.1",Qt}var k0;function wb(){if(k0)return Md.exports;k0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Md.exports=Sb(),Md.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function Rb(){if(P0)return vl;P0=1;var r=Ab(),e=Sm(),n=wb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===o)return g(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=f;break}if(E===o){v=!0,o=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,o=h;break}if(E===o){v=!0,o=f,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,I=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),fe=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case G:return"Profiler";case te:return"StrictMode";case he:return"Suspense";case Re:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case W:return(t.displayName||"Context")+".Provider";case fe:return(t._context.displayName||"Context")+".Consumer";case ye:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return i=t.displayName||null,i!==null?i:Pt(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return Pt(t(i))}catch{}}return null}var at=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ze=[],N=-1;function J(t){return{current:t}}function se(t){0>N||(t.current=ze[N],ze[N]=null,N--)}function ne(t,i){N++,ze[N]=t.current,t.current=i}var ge=J(null),Ce=J(null),be=J(null),Ct=J(null);function Je(t,i){switch(ne(be,i),ne(Ce,t),ne(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?n0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=n0(i),t=i0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(ge),ne(ge,t)}function Fn(){se(ge),se(Ce),se(be)}function Wi(t){t.memoizedState!==null&&ne(Ct,t);var i=ge.current,a=i0(i,t.type);i!==a&&(ne(Ce,t),ne(ge,a))}function yi(t){Ce.current===t&&(se(ge),se(Ce)),Ct.current===t&&(se(Ct),dl._currentValue=de)}var Zr=Object.prototype.hasOwnProperty,$r=r.unstable_scheduleCallback,Jr=r.unstable_cancelCallback,uo=r.unstable_shouldYield,Wl=r.unstable_requestPaint,_n=r.unstable_now,Ch=r.unstable_getCurrentPriorityLevel,co=r.unstable_ImmediatePriority,Qs=r.unstable_UserBlockingPriority,Wr=r.unstable_NormalPriority,xh=r.unstable_LowPriority,Xs=r.unstable_IdlePriority,ho=r.log,eu=r.unstable_setDisableYieldValue,ot=null,Ge=null;function ln(t){if(typeof ho=="function"&&eu(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ot,t)}catch{}}var Ft=Math.clz32?Math.clz32:es,tu=Math.log,Nh=Math.LN2;function es(t){return t>>>=0,t===0?32:31-(tu(t)/Nh|0)|0}var ts=256,ns=4194304;function kn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ys(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=kn(o):(v&=E,v!==0?h=kn(v):a||(a=E&~t,a!==0&&(h=kn(a))))):(E=o&~f,E!==0?h=kn(E):v!==0?h=kn(v):a||(a=o&~t,a!==0&&(h=kn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function is(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function fo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mo(){var t=ts;return ts<<=1,(ts&4194048)===0&&(ts=256),t}function go(){var t=ns;return ns<<=1,(ns&62914560)===0&&(ns=4194304),t}function _i(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function vi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function po(t,i,a,o,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,j=t.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-Ft(a),Z=1<<Q;E[Q]=0,R[Q]=-1;var B=j[Q];if(B!==null)for(j[Q]=null,Q=0;Q<B.length;Q++){var q=B[Q];q!==null&&(q.lane&=-536870913)}a&=~Z}o!==0&&Kn(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~i))}function Kn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-Ft(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194090}function yo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-Ft(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function er(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tr(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:b0(t.type))}function nu(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var nt=Math.random().toString(36).slice(2),bt="__reactFiber$"+nt,gt="__reactProps$"+nt,vn="__reactContainer$"+nt,_o="__reactEvents$"+nt,Dh="__reactListeners$"+nt,nr="__reactHandles$"+nt,iu="__reactResources$"+nt,rs="__reactMarker$"+nt;function ir(t){delete t[bt],delete t[gt],delete t[_o],delete t[Dh],delete t[nr]}function Ei(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[vn]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=o0(t);t!==null;){if(a=t[bt])return a;t=o0(t)}return i}t=a,a=t.parentNode}return null}function Qn(t){if(t=t[bt]||t[vn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Xn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Jt(t){var i=t[iu];return i||(i=t[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ct(t){t[rs]=!0}var vo=new Set,$s={};function Pn(t,i){Ti(t,i),Ti(t+"Capture",i)}function Ti(t,i){for($s[t]=i,t=0;t<i.length;t++)vo.add(i[t])}var ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),su={},ss={};function au(t){return Zr.call(ss,t)?!0:Zr.call(su,t)?!1:ru.test(t)?ss[t]=!0:(su[t]=!0,!1)}function rr(t,i,a){if(au(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ut(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}var as,ou;function bi(t){if(as===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);as=i&&i[1]||"",ou=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+as+t+ou}var Js=!1;function Ws(t,i){if(!t||Js)return"";Js=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var B=q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(q){B=q}t.call(Z.prototype)}}else{try{throw Error()}catch(q){B=q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var R=v.split(`
`),j=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===j.length)for(o=R.length-1,h=j.length-1;1<=o&&0<=h&&R[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==j[h]){var Q=`
`+R[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{Js=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?bi(a):""}function Eo(t){switch(t.tag){case 26:case 27:case 5:return bi(t.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Ws(t.type,!1);case 11:return Ws(t.type.render,!1);case 1:return Ws(t.type,!0);case 31:return bi("Activity");default:return""}}function ea(t){try{var i="";do i+=Eo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function To(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Oh(t){var i=To(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ta(t){t._valueTracker||(t._valueTracker=Oh(t))}function bo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=To(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vh=/[\n"\\]/g;function pt(t){return t.replace(Vh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function un(t,i,a,o,h,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Wt(i)):t.value!==""+Wt(i)&&(t.value=""+Wt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?sr(t,v,Wt(i)):a!=null?sr(t,v,Wt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Wt(E):t.removeAttribute("name")}function ls(t,i,a,o,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+Wt(a):"",i=i!=null?""+Wt(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function sr(t,i,a){i==="number"&&os(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ai(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Wt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Qe(t,i,a){if(i!=null&&(i=""+Wt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Wt(a):""}function us(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(at(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Wt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function En(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var cs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lu(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||cs.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ao(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&lu(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&lu(t,f,i[f])}function So(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(t){return kh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Si=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wi=null,Ri=null;function wo(t){var i=Qn(t);if(i&&(t=i.stateNode)){var a=t[gt]||null;e:switch(t=i.stateNode,i.type){case"input":if(un(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[gt]||null;if(!h)throw Error(s(90));un(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&bo(o)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ai(t,!!a.multiple,i,!1)}}}var Zn=!1;function uu(t,i,a){if(Zn)return t(i,a);Zn=!0;try{var o=t(i);return o}finally{if(Zn=!1,(wi!==null||Ri!==null)&&(nc(),wi&&(i=wi,t=Ri,Ri=wi=null,wo(i),t)))for(i=0;i<t.length;i++)wo(t[i])}}function hs(t,i){var a=t.stateNode;if(a===null)return null;var o=a[gt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bn=!1;if(Un)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){bn=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{bn=!1}var $n=null,ar=null,Ii=null;function Ro(){if(Ii)return Ii;var t,i=ar,a=i.length,o,h="value"in $n?$n.value:$n.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(o=1;o<=v&&i[a-o]===h[f-o];o++);return Ii=h.slice(t,1<o?1-o:void 0)}function Jn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Wn(){return!0}function Io(){return!1}function xt(t){function i(a,o,h,f,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Wn:Io,this.isPropagationStopped=Io,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),i}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=xt(qe),ds=T({},qe,{view:0,detail:0}),cu=xt(ds),ra,sa,ei,ms=T({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ei&&(ei&&t.type==="mousemove"?(ra=t.screenX-ei.screenX,sa=t.screenY-ei.screenY):sa=ra=0,ei=t),ra)},movementY:function(t){return"movementY"in t?t.movementY:sa}}),An=xt(ms),hu=T({},ms,{dataTransfer:0}),Ph=xt(hu),gs=T({},ds,{relatedTarget:0}),aa=xt(gs),Co=T({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),oa=xt(Co),fu=T({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),la=xt(fu),Uh=T({},qe,{data:0}),xo=xt(Uh),ps={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function No(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=mu[t])?!!i[t]:!1}function ys(){return No}var gu=T({},ds,{key:function(t){if(t.key){var i=ps[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(t){return t.type==="keypress"?Jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ua=xt(gu),pu=T({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Do=xt(pu),Ci=T({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),yu=xt(Ci),_u=T({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=xt(_u),Eu=T({},ms,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ca=xt(Eu),en=T({},qe,{newState:0,oldState:0}),Tu=xt(en),bu=[9,13,27,32],ti=Un&&"CompositionEvent"in window,u=null;Un&&"documentMode"in document&&(u=document.documentMode);var m=Un&&"TextEvent"in window&&!u,_=Un&&(!ti||u&&8<u&&11>=u),b=" ",U=!1;function H(t,i){switch(t){case"keyup":return bu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ke=!1;function At(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(U=!0,b);case"textInput":return t=i.data,t===b&&U?null:t;default:return null}}function Pe(t,i){if(ke)return t==="compositionend"||!ti&&H(t,i)?(t=Ro(),Ii=ar=$n=null,ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Nt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Nt[t.type]:i==="textarea"}function xi(t,i,a,o){wi?Ri?Ri.push(o):Ri=[o]:wi=o,i=lc(i,"onChange"),0<i.length&&(a=new ia("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Lt=null,ni=null;function Oo(t){$y(t,0)}function Au(t){var i=Xn(t);if(bo(i))return t}function _g(t,i){if(t==="change")return i}var vg=!1;if(Un){var Lh;if(Un){var jh="oninput"in document;if(!jh){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),jh=typeof Eg.oninput=="function"}Lh=jh}else Lh=!1;vg=Lh&&(!document.documentMode||9<document.documentMode)}function Tg(){Lt&&(Lt.detachEvent("onpropertychange",bg),ni=Lt=null)}function bg(t){if(t.propertyName==="value"&&Au(ni)){var i=[];xi(i,ni,t,Tn(t)),uu(Oo,i)}}function QE(t,i,a){t==="focusin"?(Tg(),Lt=i,ni=a,Lt.attachEvent("onpropertychange",bg)):t==="focusout"&&Tg()}function XE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(ni)}function YE(t,i){if(t==="click")return Au(i)}function ZE(t,i){if(t==="input"||t==="change")return Au(i)}function $E(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var cn=typeof Object.is=="function"?Object.is:$E;function Vo(t,i){if(cn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Zr.call(i,h)||!cn(t[h],i[h]))return!1}return!0}function Ag(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sg(t,i){var a=Ag(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ag(a)}}function wg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?wg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Rg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=os(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=os(t.document)}return i}function zh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var JE=Un&&"documentMode"in document&&11>=document.documentMode,ha=null,Bh=null,Mo=null,qh=!1;function Ig(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qh||ha==null||ha!==os(o)||(o=ha,"selectionStart"in o&&zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mo&&Vo(Mo,o)||(Mo=o,o=lc(Bh,"onSelect"),0<o.length&&(i=new ia("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=ha)))}function _s(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var fa={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},Hh={},Cg={};Un&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function vs(t){if(Hh[t])return Hh[t];if(!fa[t])return t;var i=fa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cg)return Hh[t]=i[a];return t}var xg=vs("animationend"),Ng=vs("animationiteration"),Dg=vs("animationstart"),WE=vs("transitionrun"),eT=vs("transitionstart"),tT=vs("transitioncancel"),Og=vs("transitionend"),Vg=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function Ln(t,i){Vg.set(t,i),Pn(i,[t])}var Mg=new WeakMap;function Sn(t,i){if(typeof t=="object"&&t!==null){var a=Mg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ea(i)},Mg.set(t,i),i)}return{value:t,source:i,stack:ea(i)}}var wn=[],da=0,Fh=0;function Su(){for(var t=da,i=Fh=da=0;i<t;){var a=wn[i];wn[i++]=null;var o=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var f=wn[i];if(wn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&kg(a,h,f)}}function wu(t,i,a,o){wn[da++]=t,wn[da++]=i,wn[da++]=a,wn[da++]=o,Fh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Kh(t,i,a,o){return wu(t,i,a,o),Ru(t)}function ma(t,i){return wu(t,null,null,i),Ru(t)}function kg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-Ft(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Ru(t){if(50<sl)throw sl=0,Wf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ga={};function nT(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,i,a,o){return new nT(t,i,a,o)}function Qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ni(t,i){var a=t.alternate;return a===null?(a=hn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Pg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Iu(t,i,a,o,h,f){var v=0;if(o=t,typeof t=="function")Qh(t)&&(v=1);else if(typeof t=="string")v=rb(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=hn(31,a,i,h),t.elementType=C,t.lanes=f,t;case F:return Es(a.children,h,f,i);case te:v=8,h|=24;break;case G:return t=hn(12,a,i,h|2),t.elementType=G,t.lanes=f,t;case he:return t=hn(13,a,i,h),t.elementType=he,t.lanes=f,t;case Re:return t=hn(19,a,i,h),t.elementType=Re,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ue:case W:v=10;break e;case fe:v=9;break e;case ye:v=11;break e;case M:v=14;break e;case w:v=16,o=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=hn(v,a,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function Es(t,i,a,o){return t=hn(7,t,o,i),t.lanes=a,t}function Xh(t,i,a){return t=hn(6,t,null,i),t.lanes=a,t}function Yh(t,i,a){return i=hn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var pa=[],ya=0,Cu=null,xu=0,Rn=[],In=0,Ts=null,Di=1,Oi="";function bs(t,i){pa[ya++]=xu,pa[ya++]=Cu,Cu=t,xu=i}function Ug(t,i,a){Rn[In++]=Di,Rn[In++]=Oi,Rn[In++]=Ts,Ts=t;var o=Di;t=Oi;var h=32-Ft(o)-1;o&=~(1<<h),a+=1;var f=32-Ft(i)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Di=1<<32-Ft(i)+h|a<<h|o,Oi=f+t}else Di=1<<f|a<<h|o,Oi=t}function Zh(t){t.return!==null&&(bs(t,1),Ug(t,1,0))}function $h(t){for(;t===Cu;)Cu=pa[--ya],pa[ya]=null,xu=pa[--ya],pa[ya]=null;for(;t===Ts;)Ts=Rn[--In],Rn[In]=null,Oi=Rn[--In],Rn[In]=null,Di=Rn[--In],Rn[In]=null}var tn=null,lt=null,Be=!1,As=null,ii=!1,Jh=Error(s(519));function Ss(t){var i=Error(s(418,""));throw Uo(Sn(i,t)),Jh}function Lg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[bt]=t,i[gt]=o,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<ol.length;a++)De(ol[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),ls(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ta(i);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),us(i,o.value,o.defaultValue,o.children),ta(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||t0(i.textContent,a)?(o.popover!=null&&(De("beforetoggle",i),De("toggle",i)),o.onScroll!=null&&De("scroll",i),o.onScrollEnd!=null&&De("scrollend",i),o.onClick!=null&&(i.onclick=uc),i=!0):i=!1,i||Ss(t)}function jg(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:tn=tn.return}}function ko(t){if(t!==tn)return!1;if(!Be)return jg(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||gd(t.type,t.memoizedProps)),a=!a),a&&lt&&Ss(t),jg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){lt=zn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}lt=null}}else i===27?(i=lt,br(t.type)?(t=vd,vd=null,lt=t):lt=i):lt=tn?zn(t.stateNode.nextSibling):null;return!0}function Po(){lt=tn=null,Be=!1}function zg(){var t=As;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),As=null),t}function Uo(t){As===null?As=[t]:As.push(t)}var Wh=J(null),ws=null,Vi=null;function or(t,i,a){ne(Wh,i._currentValue),i._currentValue=a}function Mi(t){t._currentValue=Wh.current,se(Wh)}function ef(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function tf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),ef(f.return,a,t),o||(v=null);break e}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),ef(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Lo(t,i,a,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;cn(h.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ct.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(dl):t=[dl])}h=h.return}t!==null&&tf(i,t,a,o),i.flags|=262144}function Nu(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Rs(t){ws=t,Vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Bg(ws,t)}function Du(t,i){return ws===null&&Rs(t),Bg(t,i)}function Bg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Vi===null){if(t===null)throw Error(s(308));Vi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Vi=Vi.next=i;return a}var iT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},rT=r.unstable_scheduleCallback,sT=r.unstable_NormalPriority,wt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new iT,data:new Map,refCount:0}}function jo(t){t.refCount--,t.refCount===0&&rT(sT,function(){t.controller.abort()})}var zo=null,rf=0,_a=0,va=null;function aT(t,i){if(zo===null){var a=zo=[];rf=0,_a=ad(),va={status:"pending",value:void 0,then:function(o){a.push(o)}}}return rf++,i.then(qg,qg),i}function qg(){if(--rf===0&&zo!==null){va!==null&&(va.status="fulfilled");var t=zo;zo=null,_a=0,va=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function oT(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Hg=K.S;K.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&aT(t,i),Hg!==null&&Hg(t,i)};var Is=J(null);function sf(){var t=Is.current;return t!==null?t:We.pooledCache}function Ou(t,i){i===null?ne(Is,Is.current):ne(Is,i.pool)}function Gg(){var t=sf();return t===null?null:{parent:wt._currentValue,pool:t}}var Bo=Error(s(460)),Fg=Error(s(474)),Vu=Error(s(542)),af={then:function(){}};function Kg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Mu(){}function Qg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Mu,Mu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Yg(t),t;default:if(typeof i.status=="string")i.then(Mu,Mu);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Yg(t),t}throw qo=i,Bo}}var qo=null;function Xg(){if(qo===null)throw Error(s(459));var t=qo;return qo=null,t}function Yg(t){if(t===Bo||t===Vu)throw Error(s(483))}var lr=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ur(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function cr(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Fe&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Ru(t),kg(t,null,a),i}return wu(t,o,i,a),Ru(t)}function Ho(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,yo(t,a)}}function uf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var cf=!1;function Go(){if(cf){var t=va;if(t!==null)throw t}}function Fo(t,i,a,o){cf=!1;var h=t.updateQueue;lr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,j=R.next;R.next=null,v===null?f=j:v.next=j,v=R;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==v&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=R))}if(f!==null){var Z=h.baseState;v=0,Q=j=R=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Ue&B)===B:(o&B)===B){B!==0&&B===_a&&(cf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ee=t,pe=E;B=i;var Ze=a;switch(pe.tag){case 1:if(Ee=pe.payload,typeof Ee=="function"){Z=Ee.call(Ze,Z,B);break e}Z=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=pe.payload,B=typeof Ee=="function"?Ee.call(Ze,Z,B):Ee,B==null)break e;Z=T({},Z,B);break e;case 2:lr=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=q,R=Z):Q=Q.next=q,v|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(R=Z),h.baseState=R,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),_r|=v,t.lanes=v,t.memoizedState=Z}}function Zg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function $g(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Zg(a[t],i)}var Ea=J(null),ku=J(0);function Jg(t,i){t=Bi,ne(ku,t),ne(Ea,i),Bi=t|i.baseLanes}function hf(){ne(ku,Bi),ne(Ea,Ea.current)}function ff(){Bi=ku.current,se(Ea),se(ku)}var hr=0,Ie=null,Xe=null,yt=null,Pu=!1,Ta=!1,Cs=!1,Uu=0,Ko=0,ba=null,lT=0;function ht(){throw Error(s(321))}function df(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!cn(t[a],i[a]))return!1;return!0}function mf(t,i,a,o,h,f){return hr=f,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?kp:Pp,Cs=!1,f=a(o,h),Cs=!1,Ta&&(f=ep(i,a,o,h)),Wg(t),f}function Wg(t){K.H=Hu;var i=Xe!==null&&Xe.next!==null;if(hr=0,yt=Xe=Ie=null,Pu=!1,Ko=0,ba=null,i)throw Error(s(300));t===null||Dt||(t=t.dependencies,t!==null&&Nu(t)&&(Dt=!0))}function ep(t,i,a,o){Ie=t;var h=0;do{if(Ta&&(ba=null),Ko=0,Ta=!1,25<=h)throw Error(s(301));if(h+=1,yt=Xe=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=gT,f=i(a,o)}while(Ta);return f}function uT(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?Qo(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Ie.flags|=1024),i}function gf(){var t=Uu!==0;return Uu=0,t}function pf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function yf(t){if(Pu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Pu=!1}hr=0,yt=Xe=Ie=null,Ta=!1,Ko=Uu=0,ba=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ie.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if(Xe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=yt===null?Ie.memoizedState:yt.next;if(i!==null)yt=i,Xe=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},yt===null?Ie.memoizedState=yt=t:yt=yt.next=t}return yt}function _f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(t){var i=Ko;return Ko+=1,ba===null&&(ba=[]),t=Qg(ba,t,i),i=Ie,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?kp:Pp),t}function Lu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Qo(t);if(t.$$typeof===W)return Kt(t)}throw Error(s(438,String(t)))}function vf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=_f(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=O;return i.index++,a}function ki(t,i){return typeof i=="function"?i(t):i}function ju(t){var i=_t();return Ef(i,Xe,t)}function Ef(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var E=v=null,R=null,j=i,Q=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(Ue&Z)===Z:(hr&Z)===Z){var B=j.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===_a&&(Q=!0);else if((hr&B)===B){j=j.next,B===_a&&(Q=!0);continue}else Z={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=Z,v=f):R=R.next=Z,Ie.lanes|=B,_r|=B;Z=j.action,Cs&&a(f,Z),f=j.hasEagerState?j.eagerState:a(f,Z)}else B={lane:Z,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=B,v=f):R=R.next=B,Ie.lanes|=Z,_r|=Z;j=j.next}while(j!==null&&j!==i);if(R===null?v=f:R.next=E,!cn(f,t.memoizedState)&&(Dt=!0,Q&&(a=va,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Tf(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);cn(f,i.memoizedState)||(Dt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function tp(t,i,a){var o=Ie,h=_t(),f=Be;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!cn((Xe||h).memoizedState,a);v&&(h.memoizedState=a,Dt=!0),h=h.queue;var E=rp.bind(null,o,h,t);if(Xo(2048,8,E,[t]),h.getSnapshot!==i||v||yt!==null&&yt.memoizedState.tag&1){if(o.flags|=2048,Aa(9,zu(),ip.bind(null,o,h,a,i),null),We===null)throw Error(s(349));f||(hr&124)!==0||np(o,i,a)}return a}function np(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=_f(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ip(t,i,a,o){i.value=a,i.getSnapshot=o,sp(i)&&ap(t)}function rp(t,i,a){return a(function(){sp(i)&&ap(t)})}function sp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!cn(t,a)}catch{return!0}}function ap(t){var i=ma(t,2);i!==null&&pn(i,t,2)}function bf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Cs){ln(!0);try{a()}finally{ln(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:t},i}function op(t,i,a,o){return t.baseState=a,Ef(t,Xe,typeof o=="function"?o:ki)}function cT(t,i,a,o,h){if(qu(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};K.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,lp(i,f)):(f.next=a.next,i.pending=a.next=f)}}function lp(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=K.T,v={};K.T=v;try{var E=a(h,o),R=K.S;R!==null&&R(v,E),up(t,i,E)}catch(j){Af(t,i,j)}finally{K.T=f}}else try{f=a(h,o),up(t,i,f)}catch(j){Af(t,i,j)}}function up(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){cp(t,i,o)},function(o){return Af(t,i,o)}):cp(t,i,a)}function cp(t,i,a){i.status="fulfilled",i.value=a,hp(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,lp(t,a)))}function Af(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,hp(i),i=i.next;while(i!==o)}t.action=null}function hp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function fp(t,i){return i}function dp(t,i){if(Be){var a=We.formState;if(a!==null){e:{var o=Ie;if(Be){if(lt){t:{for(var h=lt,f=ii;h.nodeType!==8;){if(!f){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){lt=zn(h.nextSibling),o=h.data==="F!";break e}}Ss(o)}o=!1}o&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:i},a.queue=o,a=Op.bind(null,Ie,o),o.dispatch=a,o=bf(!1),f=Cf.bind(null,Ie,!1,o.queue),o=nn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=cT.bind(null,Ie,h,f,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function mp(t){var i=_t();return gp(i,Xe,t)}function gp(t,i,a){if(i=Ef(t,i,fp)[0],t=ju(ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Qo(i)}catch(v){throw v===Bo?Vu:v}else o=i;i=_t();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Aa(9,zu(),hT.bind(null,h,a),null)),[o,f,t]}function hT(t,i){t.action=i}function pp(t){var i=_t(),a=Xe;if(a!==null)return gp(i,a,t);_t(),i=i.memoizedState,a=_t();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Aa(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=_f(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function zu(){return{destroy:void 0,resource:void 0}}function yp(){return _t().memoizedState}function Bu(t,i,a,o){var h=nn();o=o===void 0?null:o,Ie.flags|=t,h.memoizedState=Aa(1|i,zu(),a,o)}function Xo(t,i,a,o){var h=_t();o=o===void 0?null:o;var f=h.memoizedState.inst;Xe!==null&&o!==null&&df(o,Xe.memoizedState.deps)?h.memoizedState=Aa(i,f,a,o):(Ie.flags|=t,h.memoizedState=Aa(1|i,f,a,o))}function _p(t,i){Bu(8390656,8,t,i)}function vp(t,i){Xo(2048,8,t,i)}function Ep(t,i){return Xo(4,2,t,i)}function Tp(t,i){return Xo(4,4,t,i)}function bp(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ap(t,i,a){a=a!=null?a.concat([t]):null,Xo(4,4,bp.bind(null,i,t),a)}function Sf(){}function Sp(t,i){var a=_t();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&df(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function wp(t,i){var a=_t();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&df(i,o[1]))return o[0];if(o=t(),Cs){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[o,i],o}function wf(t,i,a){return a===void 0||(hr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Cy(),Ie.lanes|=t,_r|=t,a)}function Rp(t,i,a,o){return cn(a,i)?a:Ea.current!==null?(t=wf(t,a,o),cn(t,i)||(Dt=!0),t):(hr&42)===0?(Dt=!0,t.memoizedState=a):(t=Cy(),Ie.lanes|=t,_r|=t,i)}function Ip(t,i,a,o,h){var f=re.p;re.p=f!==0&&8>f?f:8;var v=K.T,E={};K.T=E,Cf(t,!1,i,a);try{var R=h(),j=K.S;if(j!==null&&j(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=oT(R,o);Yo(t,i,Q,gn(t))}else Yo(t,i,o,gn(t))}catch(Z){Yo(t,i,{then:function(){},status:"rejected",reason:Z},gn())}finally{re.p=f,K.T=v}}function fT(){}function Rf(t,i,a,o){if(t.tag!==5)throw Error(s(476));var h=Cp(t).queue;Ip(t,h,i,de,a===null?fT:function(){return xp(t),a(o)})}function Cp(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function xp(t){var i=Cp(t).next.queue;Yo(t,i,{},gn())}function If(){return Kt(dl)}function Np(){return _t().memoizedState}function Dp(){return _t().memoizedState}function dT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();t=ur(a);var o=cr(i,t,a);o!==null&&(pn(o,i,a),Ho(o,i,a)),i={cache:nf()},t.payload=i;return}i=i.return}}function mT(t,i,a){var o=gn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},qu(t)?Vp(i,a):(a=Kh(t,i,a,o),a!==null&&(pn(a,t,o),Mp(a,i,o)))}function Op(t,i,a){var o=gn();Yo(t,i,a,o)}function Yo(t,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(qu(t))Vp(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,cn(E,v))return wu(t,i,h,0),We===null&&Su(),!1}catch{}finally{}if(a=Kh(t,i,h,o),a!==null)return pn(a,t,o),Mp(a,i,o),!0}return!1}function Cf(t,i,a,o){if(o={lane:2,revertLane:ad(),action:o,hasEagerState:!1,eagerState:null,next:null},qu(t)){if(i)throw Error(s(479))}else i=Kh(t,a,o,2),i!==null&&pn(i,t,2)}function qu(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Vp(t,i){Ta=Pu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Mp(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,yo(t,a)}}var Hu={readContext:Kt,use:Lu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},kp={readContext:Kt,use:Lu,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:_p,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Bu(4194308,4,bp.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Bu(4194308,4,t,i)},useInsertionEffect:function(t,i){Bu(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var o=t();if(Cs){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=nn();if(a!==void 0){var h=a(i);if(Cs){ln(!0);try{a(i)}finally{ln(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=mT.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=bf(t);var i=t.queue,a=Op.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Sf,useDeferredValue:function(t,i){var a=nn();return wf(a,t,i)},useTransition:function(){var t=bf(!1);return t=Ip.bind(null,Ie,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Ie,h=nn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),We===null)throw Error(s(349));(Ue&124)!==0||np(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,_p(rp.bind(null,o,f,t),[t]),o.flags|=2048,Aa(9,zu(),ip.bind(null,o,f,a,i),null),a},useId:function(){var t=nn(),i=We.identifierPrefix;if(Be){var a=Oi,o=Di;a=(o&~(1<<32-Ft(o)-1)).toString(32)+a,i="«"+i+"R"+a,a=Uu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=lT++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:If,useFormState:dp,useActionState:dp,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Cf.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:vf,useCacheRefresh:function(){return nn().memoizedState=dT.bind(null,Ie)}},Pp={readContext:Kt,use:Lu,useCallback:Sp,useContext:Kt,useEffect:vp,useImperativeHandle:Ap,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:ju,useRef:yp,useState:function(){return ju(ki)},useDebugValue:Sf,useDeferredValue:function(t,i){var a=_t();return Rp(a,Xe.memoizedState,t,i)},useTransition:function(){var t=ju(ki)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:Qo(t),i]},useSyncExternalStore:tp,useId:Np,useHostTransitionStatus:If,useFormState:mp,useActionState:mp,useOptimistic:function(t,i){var a=_t();return op(a,Xe,t,i)},useMemoCache:vf,useCacheRefresh:Dp},gT={readContext:Kt,use:Lu,useCallback:Sp,useContext:Kt,useEffect:vp,useImperativeHandle:Ap,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:Tf,useRef:yp,useState:function(){return Tf(ki)},useDebugValue:Sf,useDeferredValue:function(t,i){var a=_t();return Xe===null?wf(a,t,i):Rp(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Tf(ki)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:Qo(t),i]},useSyncExternalStore:tp,useId:Np,useHostTransitionStatus:If,useFormState:pp,useActionState:pp,useOptimistic:function(t,i){var a=_t();return Xe!==null?op(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vf,useCacheRefresh:Dp},Sa=null,Zo=0;function Gu(t){var i=Zo;return Zo+=1,Sa===null&&(Sa=[]),Qg(Sa,t,i)}function $o(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Fu(t,i){throw i.$$typeof===I?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Up(t){var i=t._init;return i(t._payload)}function Lp(t){function i(k,D){if(t){var L=k.deletions;L===null?(k.deletions=[D],k.flags|=16):L.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)i(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Ni(k,D),k.index=0,k.sibling=null,k}function f(k,D,L){return k.index=L,t?(L=k.alternate,L!==null?(L=L.index,L<D?(k.flags|=67108866,D):L):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function v(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,L,X){return D===null||D.tag!==6?(D=Xh(L,k.mode,X),D.return=k,D):(D=h(D,L),D.return=k,D)}function R(k,D,L,X){var le=L.type;return le===F?Q(k,D,L.props.children,X,L.key):D!==null&&(D.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===w&&Up(le)===D.type)?(D=h(D,L.props),$o(D,L),D.return=k,D):(D=Iu(L.type,L.key,L.props,null,k.mode,X),$o(D,L),D.return=k,D)}function j(k,D,L,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Yh(L,k.mode,X),D.return=k,D):(D=h(D,L.children||[]),D.return=k,D)}function Q(k,D,L,X,le){return D===null||D.tag!==7?(D=Es(L,k.mode,X,le),D.return=k,D):(D=h(D,L),D.return=k,D)}function Z(k,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Xh(""+D,k.mode,L),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case S:return L=Iu(D.type,D.key,D.props,null,k.mode,L),$o(L,D),L.return=k,L;case z:return D=Yh(D,k.mode,L),D.return=k,D;case w:var X=D._init;return D=X(D._payload),Z(k,D,L)}if(at(D)||P(D))return D=Es(D,k.mode,L,null),D.return=k,D;if(typeof D.then=="function")return Z(k,Gu(D),L);if(D.$$typeof===W)return Z(k,Du(k,D),L);Fu(k,D)}return null}function B(k,D,L,X){var le=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return le!==null?null:E(k,D,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return L.key===le?R(k,D,L,X):null;case z:return L.key===le?j(k,D,L,X):null;case w:return le=L._init,L=le(L._payload),B(k,D,L,X)}if(at(L)||P(L))return le!==null?null:Q(k,D,L,X,null);if(typeof L.then=="function")return B(k,D,Gu(L),X);if(L.$$typeof===W)return B(k,D,Du(k,L),X);Fu(k,L)}return null}function q(k,D,L,X,le){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(L)||null,E(D,k,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return k=k.get(X.key===null?L:X.key)||null,R(D,k,X,le);case z:return k=k.get(X.key===null?L:X.key)||null,j(D,k,X,le);case w:var xe=X._init;return X=xe(X._payload),q(k,D,L,X,le)}if(at(X)||P(X))return k=k.get(L)||null,Q(D,k,X,le,null);if(typeof X.then=="function")return q(k,D,L,Gu(X),le);if(X.$$typeof===W)return q(k,D,L,Du(D,X),le);Fu(D,X)}return null}function Ee(k,D,L,X){for(var le=null,xe=null,ce=D,_e=D=0,Vt=null;ce!==null&&_e<L.length;_e++){ce.index>_e?(Vt=ce,ce=null):Vt=ce.sibling;var je=B(k,ce,L[_e],X);if(je===null){ce===null&&(ce=Vt);break}t&&ce&&je.alternate===null&&i(k,ce),D=f(je,D,_e),xe===null?le=je:xe.sibling=je,xe=je,ce=Vt}if(_e===L.length)return a(k,ce),Be&&bs(k,_e),le;if(ce===null){for(;_e<L.length;_e++)ce=Z(k,L[_e],X),ce!==null&&(D=f(ce,D,_e),xe===null?le=ce:xe.sibling=ce,xe=ce);return Be&&bs(k,_e),le}for(ce=o(ce);_e<L.length;_e++)Vt=q(ce,k,_e,L[_e],X),Vt!==null&&(t&&Vt.alternate!==null&&ce.delete(Vt.key===null?_e:Vt.key),D=f(Vt,D,_e),xe===null?le=Vt:xe.sibling=Vt,xe=Vt);return t&&ce.forEach(function(Ir){return i(k,Ir)}),Be&&bs(k,_e),le}function pe(k,D,L,X){if(L==null)throw Error(s(151));for(var le=null,xe=null,ce=D,_e=D=0,Vt=null,je=L.next();ce!==null&&!je.done;_e++,je=L.next()){ce.index>_e?(Vt=ce,ce=null):Vt=ce.sibling;var Ir=B(k,ce,je.value,X);if(Ir===null){ce===null&&(ce=Vt);break}t&&ce&&Ir.alternate===null&&i(k,ce),D=f(Ir,D,_e),xe===null?le=Ir:xe.sibling=Ir,xe=Ir,ce=Vt}if(je.done)return a(k,ce),Be&&bs(k,_e),le;if(ce===null){for(;!je.done;_e++,je=L.next())je=Z(k,je.value,X),je!==null&&(D=f(je,D,_e),xe===null?le=je:xe.sibling=je,xe=je);return Be&&bs(k,_e),le}for(ce=o(ce);!je.done;_e++,je=L.next())je=q(ce,k,_e,je.value,X),je!==null&&(t&&je.alternate!==null&&ce.delete(je.key===null?_e:je.key),D=f(je,D,_e),xe===null?le=je:xe.sibling=je,xe=je);return t&&ce.forEach(function(pb){return i(k,pb)}),Be&&bs(k,_e),le}function Ze(k,D,L,X){if(typeof L=="object"&&L!==null&&L.type===F&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case S:e:{for(var le=L.key;D!==null;){if(D.key===le){if(le=L.type,le===F){if(D.tag===7){a(k,D.sibling),X=h(D,L.props.children),X.return=k,k=X;break e}}else if(D.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===w&&Up(le)===D.type){a(k,D.sibling),X=h(D,L.props),$o(X,L),X.return=k,k=X;break e}a(k,D);break}else i(k,D);D=D.sibling}L.type===F?(X=Es(L.props.children,k.mode,X,L.key),X.return=k,k=X):(X=Iu(L.type,L.key,L.props,null,k.mode,X),$o(X,L),X.return=k,k=X)}return v(k);case z:e:{for(le=L.key;D!==null;){if(D.key===le)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){a(k,D.sibling),X=h(D,L.children||[]),X.return=k,k=X;break e}else{a(k,D);break}else i(k,D);D=D.sibling}X=Yh(L,k.mode,X),X.return=k,k=X}return v(k);case w:return le=L._init,L=le(L._payload),Ze(k,D,L,X)}if(at(L))return Ee(k,D,L,X);if(P(L)){if(le=P(L),typeof le!="function")throw Error(s(150));return L=le.call(L),pe(k,D,L,X)}if(typeof L.then=="function")return Ze(k,D,Gu(L),X);if(L.$$typeof===W)return Ze(k,D,Du(k,L),X);Fu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(a(k,D.sibling),X=h(D,L),X.return=k,k=X):(a(k,D),X=Xh(L,k.mode,X),X.return=k,k=X),v(k)):a(k,D)}return function(k,D,L,X){try{Zo=0;var le=Ze(k,D,L,X);return Sa=null,le}catch(ce){if(ce===Bo||ce===Vu)throw ce;var xe=hn(29,ce,null,k.mode);return xe.lanes=X,xe.return=k,xe}finally{}}}var wa=Lp(!0),jp=Lp(!1),Cn=J(null),ri=null;function fr(t){var i=t.alternate;ne(Rt,Rt.current&1),ne(Cn,t),ri===null&&(i===null||Ea.current!==null||i.memoizedState!==null)&&(ri=t)}function zp(t){if(t.tag===22){if(ne(Rt,Rt.current),ne(Cn,t),ri===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ri=t)}}else dr()}function dr(){ne(Rt,Rt.current),ne(Cn,Cn.current)}function Pi(t){se(Cn),ri===t&&(ri=null),se(Rt)}var Rt=J(0);function Ku(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||_d(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function xf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Nf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=gn(),h=ur(o);h.payload=i,a!=null&&(h.callback=a),i=cr(t,h,o),i!==null&&(pn(i,t,o),Ho(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=gn(),h=ur(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=cr(t,h,o),i!==null&&(pn(i,t,o),Ho(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=gn(),o=ur(a);o.tag=2,i!=null&&(o.callback=i),i=cr(t,o,a),i!==null&&(pn(i,t,a),Ho(i,t,a))}};function Bp(t,i,a,o,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!Vo(a,o)||!Vo(h,f):!0}function qp(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Nf.enqueueReplaceState(i,i.state,null)}function xs(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hp(t){Qu(t)}function Gp(t){console.error(t)}function Fp(t){Qu(t)}function Xu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Kp(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(t,i,a){return a=ur(a),a.tag=3,a.payload={element:null},a.callback=function(){Xu(t,i)},a}function Qp(t){return t=ur(t),t.tag=3,t}function Xp(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Kp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Kp(i,a,o),typeof h!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function pT(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Lo(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ri===null?td():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===af?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),id(t,o,h)),!1;case 22:return a.flags|=65536,o===af?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),id(t,o,h)),!1}throw Error(s(435,a.tag))}return id(t,o,h),td(),!1}if(Be)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Jh&&(t=Error(s(422),{cause:o}),Uo(Sn(t,a)))):(o!==Jh&&(i=Error(s(423),{cause:o}),Uo(Sn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Sn(o,a),h=Df(t.stateNode,o,h),uf(t,h),ut!==4&&(ut=2)),!1;var f=Error(s(520),{cause:o});if(f=Sn(f,a),rl===null?rl=[f]:rl.push(f),ut!==4&&(ut=2),i===null)return!0;o=Sn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Df(a.stateNode,o,t),uf(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(vr===null||!vr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Qp(h),Xp(h,t,a,o),uf(a,h),!1}a=a.return}while(a!==null);return!1}var Yp=Error(s(461)),Dt=!1;function jt(t,i,a,o){i.child=t===null?jp(i,null,a,o):wa(i,t.child,a,o)}function Zp(t,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return Rs(i),o=mf(t,i,a,v,f,h),E=gf(),t!==null&&!Dt?(pf(t,i,h),Ui(t,i,h)):(Be&&E&&Zh(i),i.flags|=1,jt(t,i,o,h),i.child)}function $p(t,i,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Jp(t,i,f,o,h)):(t=Iu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!jf(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Vo,a(v,o)&&t.ref===i.ref)return Ui(t,i,h)}return i.flags|=1,t=Ni(f,o),t.ref=i.ref,t.return=i,i.child=t}function Jp(t,i,a,o,h){if(t!==null){var f=t.memoizedProps;if(Vo(f,o)&&t.ref===i.ref)if(Dt=!1,i.pendingProps=o=f,jf(t,h))(t.flags&131072)!==0&&(Dt=!0);else return i.lanes=t.lanes,Ui(t,i,h)}return Of(t,i,a,o,h)}function Wp(t,i,a){var o=i.pendingProps,h=o.children,f=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,t!==null){for(h=i.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return ey(t,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(i,f!==null?f.cachePool:null),f!==null?Jg(i,f):hf(),zp(i);else return i.lanes=i.childLanes=536870912,ey(t,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(Ou(i,f.cachePool),Jg(i,f),dr(),i.memoizedState=null):(t!==null&&Ou(i,null),hf(),dr());return jt(t,i,h,a),i.child}function ey(t,i,a,o){var h=sf();return h=h===null?null:{parent:wt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Ou(i,null),hf(),zp(i),t!==null&&Lo(t,i,o,!0),null}function Yu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Of(t,i,a,o,h){return Rs(i),a=mf(t,i,a,o,void 0,h),o=gf(),t!==null&&!Dt?(pf(t,i,h),Ui(t,i,h)):(Be&&o&&Zh(i),i.flags|=1,jt(t,i,a,h),i.child)}function ty(t,i,a,o,h,f){return Rs(i),i.updateQueue=null,a=ep(i,o,a,h),Wg(t),o=gf(),t!==null&&!Dt?(pf(t,i,f),Ui(t,i,f)):(Be&&o&&Zh(i),i.flags|=1,jt(t,i,a,f),i.child)}function ny(t,i,a,o,h){if(Rs(i),i.stateNode===null){var f=ga,v=a.contextType;typeof v=="object"&&v!==null&&(f=Kt(v)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},of(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?Kt(v):ga,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(xf(i,a,v,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Nf.enqueueReplaceState(f,f.state,null),Fo(i,o,f,h),Go(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var E=i.memoizedProps,R=xs(a,E);f.props=R;var j=f.context,Q=a.contextType;v=ga,typeof Q=="object"&&Q!==null&&(v=Kt(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==v)&&qp(i,f,o,v),lr=!1;var B=i.memoizedState;f.state=B,Fo(i,o,f,h),Go(),j=i.memoizedState,E||B!==j||lr?(typeof Z=="function"&&(xf(i,a,Z,o),j=i.memoizedState),(R=lr||Bp(i,a,R,o,B,j,v))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),f.props=o,f.state=j,f.context=v,o=R):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,lf(t,i),v=i.memoizedProps,Q=xs(a,v),f.props=Q,Z=i.pendingProps,B=f.context,j=a.contextType,R=ga,typeof j=="object"&&j!==null&&(R=Kt(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||B!==R)&&qp(i,f,o,R),lr=!1,B=i.memoizedState,f.state=B,Fo(i,o,f,h),Go();var q=i.memoizedState;v!==Z||B!==q||lr||t!==null&&t.dependencies!==null&&Nu(t.dependencies)?(typeof E=="function"&&(xf(i,a,E,o),q=i.memoizedState),(Q=lr||Bp(i,a,Q,o,B,q,R)||t!==null&&t.dependencies!==null&&Nu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),f.props=o,f.state=q,f.context=R,o=Q):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,Yu(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=wa(i,t.child,null,h),i.child=wa(i,null,a,h)):jt(t,i,a,h),i.memoizedState=f.state,t=i.child):t=Ui(t,i,h),t}function iy(t,i,a,o){return Po(),i.flags|=256,jt(t,i,a,o),i.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(t){return{baseLanes:t,cachePool:Gg()}}function kf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=xn),t}function ry(t,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?fr(i):dr(),Be){var E=lt,R;if(R=E){e:{for(R=E,E=ii;R.nodeType!==8;){if(!E){E=null;break e}if(R=zn(R.nextSibling),R===null){E=null;break e}}E=R}E!==null?(i.memoizedState={dehydrated:E,treeContext:Ts!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},R=hn(18,null,null,0),R.stateNode=E,R.return=i,i.child=R,tn=i,lt=null,R=!0):R=!1}R||Ss(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return _d(E)?i.lanes=32:i.lanes=536870912,null;Pi(i)}return E=o.children,o=o.fallback,h?(dr(),h=i.mode,E=Zu({mode:"hidden",children:E},h),o=Es(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=Mf(a),h.childLanes=kf(t,v,a),i.memoizedState=Vf,o):(fr(i),Pf(i,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)i.flags&256?(fr(i),i.flags&=-257,i=Uf(t,i,a)):i.memoizedState!==null?(dr(),i.child=t.child,i.flags|=128,i=null):(dr(),h=o.fallback,E=i.mode,o=Zu({mode:"visible",children:o.children},E),h=Es(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,wa(i,t.child,null,a),o=i.child,o.memoizedState=Mf(a),o.childLanes=kf(t,v,a),i.memoizedState=Vf,i=h);else if(fr(i),_d(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var j=v.dgst;v=j,o=Error(s(419)),o.stack="",o.digest=v,Uo({value:o,source:null,stack:null}),i=Uf(t,i,a)}else if(Dt||Lo(t,i,a,!1),v=(a&t.childLanes)!==0,Dt||v){if(v=We,v!==null&&(o=a&-a,o=(o&42)!==0?1:er(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==R.retryLane))throw R.retryLane=o,ma(t,o),pn(v,t,o),Yp;E.data==="$?"||td(),i=Uf(t,i,a)}else E.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,lt=zn(E.nextSibling),tn=i,Be=!0,As=null,ii=!1,t!==null&&(Rn[In++]=Di,Rn[In++]=Oi,Rn[In++]=Ts,Di=t.id,Oi=t.overflow,Ts=i),i=Pf(i,o.children),i.flags|=4096);return i}return h?(dr(),h=o.fallback,E=i.mode,R=t.child,j=R.sibling,o=Ni(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,j!==null?h=Ni(j,h):(h=Es(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=t.child.memoizedState,E===null?E=Mf(a):(R=E.cachePool,R!==null?(j=wt._currentValue,R=R.parent!==j?{parent:j,pool:j}:R):R=Gg(),E={baseLanes:E.baseLanes|a,cachePool:R}),h.memoizedState=E,h.childLanes=kf(t,v,a),i.memoizedState=Vf,o):(fr(i),a=t.child,t=a.sibling,a=Ni(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Pf(t,i){return i=Zu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Zu(t,i){return t=hn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Uf(t,i,a){return wa(i,t.child,null,a),t=Pf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function sy(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),ef(t.return,i,a)}function Lf(t,i,a,o,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function ay(t,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(jt(t,i,o.children,a),o=Rt.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sy(t,a,i);else if(t.tag===19)sy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(ne(Rt,o),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Ku(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Lf(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Ku(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Lf(i,!0,a,null,f);break;case"together":Lf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ui(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),_r|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Lo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ni(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ni(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function jf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Nu(t)))}function yT(t,i,a){switch(i.tag){case 3:Je(i,i.stateNode.containerInfo),or(i,wt,t.memoizedState.cache),Po();break;case 27:case 5:Wi(i);break;case 4:Je(i,i.stateNode.containerInfo);break;case 10:or(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(fr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ry(t,i,a):(fr(i),t=Ui(t,i,a),t!==null?t.sibling:null);fr(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Lo(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return ay(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(Rt,Rt.current),o)break;return null;case 22:case 23:return i.lanes=0,Wp(t,i,a);case 24:or(i,wt,t.memoizedState.cache)}return Ui(t,i,a)}function oy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Dt=!0;else{if(!jf(t,a)&&(i.flags&128)===0)return Dt=!1,yT(t,i,a);Dt=(t.flags&131072)!==0}else Dt=!1,Be&&(i.flags&1048576)!==0&&Ug(i,xu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Qh(o)?(t=xs(o,t),i.tag=1,i=ny(null,i,o,t,a)):(i.tag=0,i=Of(null,i,o,t,a));else{if(o!=null){if(h=o.$$typeof,h===ye){i.tag=11,i=Zp(null,i,o,t,a);break e}else if(h===M){i.tag=14,i=$p(null,i,o,t,a);break e}}throw i=Pt(o)||o,Error(s(306,i,""))}}return i;case 0:return Of(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=xs(o,i.pendingProps),ny(t,i,o,h,a);case 3:e:{if(Je(i,i.stateNode.containerInfo),t===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,lf(t,i),Fo(i,o,null,a);var v=i.memoizedState;if(o=v.cache,or(i,wt,o),o!==f.cache&&tf(i,[wt],a,!0),Go(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=iy(t,i,o,a);break e}else if(o!==h){h=Sn(Error(s(424)),i),Uo(h),i=iy(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=zn(t.firstChild),tn=i,Be=!0,As=null,ii=!0,a=jp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Po(),o===h){i=Ui(t,i,a);break e}jt(t,i,o,a)}i=i.child}return i;case 26:return Yu(t,i),t===null?(a=h0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,o=cc(be.current).createElement(a),o[bt]=i,o[gt]=t,Bt(o,a,t),ct(o),i.stateNode=o):i.memoizedState=h0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Wi(i),t===null&&Be&&(o=i.stateNode=l0(i.type,i.pendingProps,be.current),tn=i,ii=!0,h=lt,br(i.type)?(vd=h,lt=zn(o.firstChild)):lt=h),jt(t,i,i.pendingProps.children,a),Yu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=o=lt)&&(o=FT(o,i.type,i.pendingProps,ii),o!==null?(i.stateNode=o,tn=i,lt=zn(o.firstChild),ii=!1,h=!0):h=!1),h||Ss(i)),Wi(i),h=i.type,f=i.pendingProps,v=t!==null?t.memoizedProps:null,o=f.children,gd(h,f)?o=null:v!==null&&gd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=mf(t,i,uT,null,null,a),dl._currentValue=h),Yu(t,i),jt(t,i,o,a),i.child;case 6:return t===null&&Be&&((t=a=lt)&&(a=KT(a,i.pendingProps,ii),a!==null?(i.stateNode=a,tn=i,lt=null,t=!0):t=!1),t||Ss(i)),null;case 13:return ry(t,i,a);case 4:return Je(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=wa(i,null,o,a):jt(t,i,o,a),i.child;case 11:return Zp(t,i,i.type,i.pendingProps,a);case 7:return jt(t,i,i.pendingProps,a),i.child;case 8:return jt(t,i,i.pendingProps.children,a),i.child;case 12:return jt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,or(i,i.type,o.value),jt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Rs(i),h=Kt(h),o=o(h),i.flags|=1,jt(t,i,o,a),i.child;case 14:return $p(t,i,i.type,i.pendingProps,a);case 15:return Jp(t,i,i.type,i.pendingProps,a);case 19:return ay(t,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},t===null?(a=Zu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ni(t.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Wp(t,i,a);case 24:return Rs(i),o=Kt(wt),t===null?(h=sf(),h===null&&(h=We,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},of(i),or(i,wt,h)):((t.lanes&a)!==0&&(lf(t,i),Fo(i,null,null,a),Go()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),or(i,wt,o)):(o=f.cache,or(i,wt,o),o!==h.cache&&tf(i,[wt],a,!0))),jt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Li(t){t.flags|=4}function ly(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!p0(i)){if(i=Cn.current,i!==null&&((Ue&4194048)===Ue?ri!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==ri))throw qo=af,Fg;t.flags|=8192}}function $u(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?go():536870912,t.lanes|=i,xa|=i)}function Jo(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function _T(t,i,a){var o=i.pendingProps;switch($h(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Mi(wt),Fn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ko(i)?Li(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zg())),rt(i),null;case 26:return a=i.memoizedState,t===null?(Li(i),a!==null?(rt(i),ly(i,a)):(rt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Li(i),rt(i),ly(i,a)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==o&&Li(i),rt(i),i.flags&=-16777217),null;case 27:yi(i),a=be.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Li(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=ge.current,ko(i)?Lg(i):(t=l0(h,o,a),i.stateNode=t,Li(i))}return rt(i),null;case 5:if(yi(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Li(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(t=ge.current,ko(i))Lg(i);else{switch(h=cc(be.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}t[bt]=i,t[gt]=o;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Bt(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Li(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Li(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=be.current,ko(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||t0(t.nodeValue,a)),t||Ss(i)}else t=cc(t).createTextNode(o),t[bt]=i,i.stateNode=t}return rt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ko(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=i}else Po(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=zg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Pi(i),i):(Pi(i),null)}if(Pi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),$u(i,i.updateQueue),rt(i),null;case 4:return Fn(),t===null&&cd(i.stateNode.containerInfo),rt(i),null;case 10:return Mi(i.type),rt(i),null;case 19:if(se(Rt),h=i.memoizedState,h===null)return rt(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)Jo(h,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Ku(t),f!==null){for(i.flags|=128,Jo(h,!1),t=f.updateQueue,i.updateQueue=t,$u(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Pg(a,t),a=a.sibling;return ne(Rt,Rt.current&1|2),i.child}t=t.sibling}h.tail!==null&&_n()>ec&&(i.flags|=128,o=!0,Jo(h,!1),i.lanes=4194304)}else{if(!o)if(t=Ku(f),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,$u(i,t),Jo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Be)return rt(i),null}else 2*_n()-h.renderingStartTime>ec&&a!==536870912&&(i.flags|=128,o=!0,Jo(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(t=h.last,t!==null?t.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=_n(),i.sibling=null,t=Rt.current,ne(Rt,o?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return Pi(i),ff(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&$u(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&se(Is),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Mi(wt),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function vT(t,i){switch($h(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Mi(wt),Fn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return yi(i),null;case 13:if(Pi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Po()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return se(Rt),null;case 4:return Fn(),null;case 10:return Mi(i.type),null;case 22:case 23:return Pi(i),ff(),t!==null&&se(Is),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Mi(wt),null;case 25:return null;default:return null}}function uy(t,i){switch($h(i),i.tag){case 3:Mi(wt),Fn();break;case 26:case 27:case 5:yi(i);break;case 4:Fn();break;case 13:Pi(i);break;case 19:se(Rt);break;case 10:Mi(i.type);break;case 22:case 23:Pi(i),ff(),t!==null&&se(Is);break;case 24:Mi(wt)}}function Wo(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){$e(i,i.return,E)}}function mr(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var R=a,j=E;try{j()}catch(Q){$e(h,R,Q)}}}o=o.next}while(o!==f)}}catch(Q){$e(i,i.return,Q)}}function cy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{$g(i,a)}catch(o){$e(t,t.return,o)}}}function hy(t,i,a){a.props=xs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){$e(t,i,o)}}function el(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){$e(t,i,h)}}function si(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function fy(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function zf(t,i,a){try{var o=t.stateNode;zT(o,t.type,a,i),o[gt]=i}catch(h){$e(t,t.return,h)}}function dy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&br(t.type)||t.tag===4}function Bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&br(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=uc));else if(o!==4&&(o===27&&br(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(qf(t,i,a),t=t.sibling;t!==null;)qf(t,i,a),t=t.sibling}function Ju(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&br(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ju(t,i,a),t=t.sibling;t!==null;)Ju(t,i,a),t=t.sibling}function my(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Bt(i,o,a),i[bt]=t,i[gt]=a}catch(f){$e(t,t.return,f)}}var ji=!1,ft=!1,Hf=!1,gy=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function ET(t,i){if(t=t.containerInfo,dd=pc,t=Rg(t),zh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,E=-1,R=-1,j=0,Q=0,Z=t,B=null;t:for(;;){for(var q;Z!==a||h!==0&&Z.nodeType!==3||(E=v+h),Z!==f||o!==0&&Z.nodeType!==3||(R=v+o),Z.nodeType===3&&(v+=Z.nodeValue.length),(q=Z.firstChild)!==null;)B=Z,Z=q;for(;;){if(Z===t)break t;if(B===a&&++j===h&&(E=v),B===f&&++Q===o&&(R=v),(q=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(md={focusedElem:t,selectionRange:a},pc=!1,Ot=i;Ot!==null;)if(i=Ot,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Ot=t;else for(;Ot!==null;){switch(i=Ot,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var Ee=xs(a.type,h,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(Ee,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(pe){$e(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)yd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ot=t;break}Ot=i.return}}function py(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:gr(t,a),o&4&&Wo(5,a);break;case 1:if(gr(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){$e(a,a.return,v)}else{var h=xs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){$e(a,a.return,v)}}o&64&&cy(a),o&512&&el(a,a.return);break;case 3:if(gr(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{$g(t,i)}catch(v){$e(a,a.return,v)}}break;case 27:i===null&&o&4&&my(a);case 26:case 5:gr(t,a),i===null&&o&4&&fy(a),o&512&&el(a,a.return);break;case 12:gr(t,a);break;case 13:gr(t,a),o&4&&vy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=xT.bind(null,a),QT(t,a))));break;case 22:if(o=a.memoizedState!==null||ji,!o){i=i!==null&&i.memoizedState!==null||ft,h=ji;var f=ft;ji=o,(ft=i)&&!f?pr(t,a,(a.subtreeFlags&8772)!==0):gr(t,a),ji=h,ft=f}break;case 30:break;default:gr(t,a)}}function yy(t){var i=t.alternate;i!==null&&(t.alternate=null,yy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ir(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,rn=!1;function zi(t,i,a){for(a=a.child;a!==null;)_y(t,i,a),a=a.sibling}function _y(t,i,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ot,a)}catch{}switch(a.tag){case 26:ft||si(a,i),zi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||si(a,i);var o=it,h=rn;br(a.type)&&(it=a.stateNode,rn=!1),zi(t,i,a),ul(a.stateNode),it=o,rn=h;break;case 5:ft||si(a,i);case 6:if(o=it,h=rn,it=null,zi(t,i,a),it=o,rn=h,it!==null)if(rn)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(f){$e(a,i,f)}else try{it.removeChild(a.stateNode)}catch(f){$e(a,i,f)}break;case 18:it!==null&&(rn?(t=it,a0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),yl(t)):a0(it,a.stateNode));break;case 4:o=it,h=rn,it=a.stateNode.containerInfo,rn=!0,zi(t,i,a),it=o,rn=h;break;case 0:case 11:case 14:case 15:ft||mr(2,a,i),ft||mr(4,a,i),zi(t,i,a);break;case 1:ft||(si(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&hy(a,i,o)),zi(t,i,a);break;case 21:zi(t,i,a);break;case 22:ft=(o=ft)||a.memoizedState!==null,zi(t,i,a),ft=o;break;default:zi(t,i,a)}}function vy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yl(t)}catch(a){$e(i,i.return,a)}}function TT(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new gy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new gy),i;default:throw Error(s(435,t.tag))}}function Gf(t,i){var a=TT(t);i.forEach(function(o){var h=NT.bind(null,t,o);a.has(o)||(a.add(o),o.then(h,h))})}function fn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,v=i,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(br(E.type)){it=E.stateNode,rn=!1;break e}break;case 5:it=E.stateNode,rn=!1;break e;case 3:case 4:it=E.stateNode.containerInfo,rn=!0;break e}E=E.return}if(it===null)throw Error(s(160));_y(f,v,h),it=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ey(i,t),i=i.sibling}var jn=null;function Ey(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),dn(t),o&4&&(mr(3,t,t.return),Wo(3,t),mr(5,t,t.return));break;case 1:fn(i,t),dn(t),o&512&&(ft||a===null||si(a,a.return)),o&64&&ji&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=jn;if(fn(i,t),dn(t),o&512&&(ft||a===null||si(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[rs]||f[bt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Bt(f,o,a),f[bt]=t,ct(f),o=f;break e;case"link":var v=m0("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break t}}f=h.createElement(o),Bt(f,o,a),h.head.appendChild(f);break;case"meta":if(v=m0("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break t}}f=h.createElement(o),Bt(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[bt]=t,ct(f),o=f}t.stateNode=o}else g0(h,t.type,t.stateNode);else t.stateNode=d0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?g0(h,t.type,t.stateNode):d0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&zf(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(i,t),dn(t),o&512&&(ft||a===null||si(a,a.return)),a!==null&&o&4&&zf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,t),dn(t),o&512&&(ft||a===null||si(a,a.return)),t.flags&32){h=t.stateNode;try{En(h,"")}catch(q){$e(t,t.return,q)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,zf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Hf=!0);break;case 6:if(fn(i,t),dn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(q){$e(t,t.return,q)}}break;case 3:if(dc=null,h=jn,jn=hc(i.containerInfo),fn(i,t),jn=h,dn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{yl(i.containerInfo)}catch(q){$e(t,t.return,q)}Hf&&(Hf=!1,Ty(t));break;case 4:o=jn,jn=hc(t.stateNode.containerInfo),fn(i,t),dn(t),jn=o;break;case 12:fn(i,t),dn(t);break;case 13:fn(i,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zf=_n()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Gf(t,o)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,j=ji,Q=ft;if(ji=j||h,ft=Q||R,fn(i,t),ft=Q,ji=j,dn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||ji||ft||Ns(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(f=R.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=R.stateNode;var Z=R.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){$e(R,R.return,q)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(q){$e(R,R.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Gf(t,a))));break;case 19:fn(i,t),dn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Gf(t,o)));break;case 30:break;case 21:break;default:fn(i,t),dn(t)}}function dn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(dy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Bf(t);Ju(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(En(v,""),a.flags&=-33);var E=Bf(t);Ju(t,E,v);break;case 3:case 4:var R=a.stateNode.containerInfo,j=Bf(t);qf(t,j,R);break;default:throw Error(s(161))}}catch(Q){$e(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ty(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ty(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function gr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)py(t,i.alternate,i),i=i.sibling}function Ns(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:mr(4,i,i.return),Ns(i);break;case 1:si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&hy(i,i.return,a),Ns(i);break;case 27:ul(i.stateNode);case 26:case 5:si(i,i.return),Ns(i);break;case 22:i.memoizedState===null&&Ns(i);break;case 30:Ns(i);break;default:Ns(i)}t=t.sibling}}function pr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:pr(h,f,a),Wo(4,f);break;case 1:if(pr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){$e(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Zg(R[h],E)}catch(j){$e(o,o.return,j)}}a&&v&64&&cy(f),el(f,f.return);break;case 27:my(f);case 26:case 5:pr(h,f,a),a&&o===null&&v&4&&fy(f),el(f,f.return);break;case 12:pr(h,f,a);break;case 13:pr(h,f,a),a&&v&4&&vy(h,f);break;case 22:f.memoizedState===null&&pr(h,f,a),el(f,f.return);break;case 30:break;default:pr(h,f,a)}i=i.sibling}}function Ff(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&jo(a))}function Kf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&jo(t))}function ai(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)by(t,i,a,o),i=i.sibling}function by(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ai(t,i,a,o),h&2048&&Wo(9,i);break;case 1:ai(t,i,a,o);break;case 3:ai(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&jo(t)));break;case 12:if(h&2048){ai(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){$e(i,i.return,R)}}else ai(t,i,a,o);break;case 13:ai(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?ai(t,i,a,o):tl(t,i):f._visibility&2?ai(t,i,a,o):(f._visibility|=2,Ra(t,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Ff(v,i);break;case 24:ai(t,i,a,o),h&2048&&Kf(i.alternate,i);break;default:ai(t,i,a,o)}}function Ra(t,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,v=i,E=a,R=o,j=v.flags;switch(v.tag){case 0:case 11:case 15:Ra(f,v,E,R,h),Wo(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?Ra(f,v,E,R,h):tl(f,v):(Q._visibility|=2,Ra(f,v,E,R,h)),h&&j&2048&&Ff(v.alternate,v);break;case 24:Ra(f,v,E,R,h),h&&j&2048&&Kf(v.alternate,v);break;default:Ra(f,v,E,R,h)}i=i.sibling}}function tl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:tl(a,o),h&2048&&Ff(o.alternate,o);break;case 24:tl(a,o),h&2048&&Kf(o.alternate,o);break;default:tl(a,o)}i=i.sibling}}var nl=8192;function Ia(t){if(t.subtreeFlags&nl)for(t=t.child;t!==null;)Ay(t),t=t.sibling}function Ay(t){switch(t.tag){case 26:Ia(t),t.flags&nl&&t.memoizedState!==null&&ab(jn,t.memoizedState,t.memoizedProps);break;case 5:Ia(t);break;case 3:case 4:var i=jn;jn=hc(t.stateNode.containerInfo),Ia(t),jn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=nl,nl=16777216,Ia(t),nl=i):Ia(t));break;default:Ia(t)}}function Sy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function il(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ot=o,Ry(o,t)}Sy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wy(t),t=t.sibling}function wy(t){switch(t.tag){case 0:case 11:case 15:il(t),t.flags&2048&&mr(9,t,t.return);break;case 3:il(t);break;case 12:il(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Wu(t)):il(t);break;default:il(t)}}function Wu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ot=o,Ry(o,t)}Sy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:mr(8,i,i.return),Wu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Wu(i));break;default:Wu(i)}t=t.sibling}}function Ry(t,i){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:jo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ot=o;else e:for(a=t;Ot!==null;){o=Ot;var h=o.sibling,f=o.return;if(yy(o),o===a){Ot=null;break e}if(h!==null){h.return=f,Ot=h;break e}Ot=f}}}var bT={getCacheForType:function(t){var i=Kt(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},AT=typeof WeakMap=="function"?WeakMap:Map,Fe=0,We=null,Ne=null,Ue=0,Ke=0,mn=null,yr=!1,Ca=!1,Qf=!1,Bi=0,ut=0,_r=0,Ds=0,Xf=0,xn=0,xa=0,rl=null,sn=null,Yf=!1,Zf=0,ec=1/0,tc=null,vr=null,zt=0,Er=null,Na=null,Da=0,$f=0,Jf=null,Iy=null,sl=0,Wf=null;function gn(){if((Fe&2)!==0&&Ue!==0)return Ue&-Ue;if(K.T!==null){var t=_a;return t!==0?t:ad()}return tr()}function Cy(){xn===0&&(xn=(Ue&536870912)===0||Be?mo():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),xn}function pn(t,i,a){(t===We&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Oa(t,0),Tr(t,Ue,xn,!1)),vi(t,a),((Fe&2)===0||t!==We)&&(t===We&&((Fe&2)===0&&(Ds|=a),ut===4&&Tr(t,Ue,xn,!1)),oi(t))}function xy(t,i,a){if((Fe&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&t.expiredLanes)===0||is(t,i),h=o?RT(t,i):nd(t,i,!0),f=o;do{if(h===0){Ca&&!o&&Tr(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!ST(a)){h=nd(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var E=t;h=rl;var R=E.current.memoizedState.isDehydrated;if(R&&(Oa(E,v).flags|=256),v=nd(E,v,!1),v!==2){if(Qf&&!R){E.errorRecoveryDisabledLanes|=f,Ds|=f,h=4;break e}f=sn,sn=h,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Oa(t,0),Tr(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Tr(o,i,xn,!yr);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Zf+300-_n(),10<h)){if(Tr(o,i,xn,!yr),Ys(o,0,!0)!==0)break e;o.timeoutHandle=r0(Ny.bind(null,o,a,sn,tc,Yf,i,xn,Ds,xa,yr,f,2,-0,0),h);break e}Ny(o,a,sn,tc,Yf,i,xn,Ds,xa,yr,f,0,-0,0)}}break}while(!0);oi(t)}function Ny(t,i,a,o,h,f,v,E,R,j,Q,Z,B,q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(fl={stylesheets:null,count:0,unsuspend:sb},Ay(i),Z=ob(),Z!==null)){t.cancelPendingCommit=Z(Uy.bind(null,t,i,f,a,o,h,v,E,R,Q,1,B,q)),Tr(t,f,v,!j);return}Uy(t,i,f,a,o,h,v,E,R)}function ST(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!cn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Tr(t,i,a,o){i&=~Xf,i&=~Ds,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-Ft(h),v=1<<f;o[f]=-1,h&=~v}a!==0&&Kn(t,a,i)}function nc(){return(Fe&6)===0?(al(0),!1):!0}function ed(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,Vi=ws=null,yf(t),Sa=null,Zo=0,t=Ne;for(;t!==null;)uy(t.alternate,t),t=t.return;Ne=null}}function Oa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,qT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ed(),We=t,Ne=a=Ni(t.current,null),Ue=i,Ke=0,mn=null,yr=!1,Ca=is(t,i),Qf=!1,xa=xn=Xf=Ds=_r=ut=0,sn=rl=null,Yf=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-Ft(o),f=1<<h;i|=t[h],o&=~f}return Bi=i,Su(),a}function Dy(t,i){Ie=null,K.H=Hu,i===Bo||i===Vu?(i=Xg(),Ke=3):i===Fg?(i=Xg(),Ke=4):Ke=i===Yp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,Ne===null&&(ut=1,Xu(t,Sn(i,t.current)))}function Oy(){var t=K.H;return K.H=Hu,t===null?Hu:t}function Vy(){var t=K.A;return K.A=bT,t}function td(){ut=4,yr||(Ue&4194048)!==Ue&&Cn.current!==null||(Ca=!0),(_r&134217727)===0&&(Ds&134217727)===0||We===null||Tr(We,Ue,xn,!1)}function nd(t,i,a){var o=Fe;Fe|=2;var h=Oy(),f=Vy();(We!==t||Ue!==i)&&(tc=null,Oa(t,i)),i=!1;var v=ut;e:do try{if(Ke!==0&&Ne!==null){var E=Ne,R=mn;switch(Ke){case 8:ed(),v=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var j=Ke;if(Ke=0,mn=null,Va(t,E,R,j),a&&Ca){v=0;break e}break;default:j=Ke,Ke=0,mn=null,Va(t,E,R,j)}}wT(),v=ut;break}catch(Q){Dy(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Vi=ws=null,Fe=o,K.H=h,K.A=f,Ne===null&&(We=null,Ue=0,Su()),v}function wT(){for(;Ne!==null;)My(Ne)}function RT(t,i){var a=Fe;Fe|=2;var o=Oy(),h=Vy();We!==t||Ue!==i?(tc=null,ec=_n()+500,Oa(t,i)):Ca=is(t,i);e:do try{if(Ke!==0&&Ne!==null){i=Ne;var f=mn;t:switch(Ke){case 1:Ke=0,mn=null,Va(t,i,f,1);break;case 2:case 9:if(Kg(f)){Ke=0,mn=null,ky(i);break}i=function(){Ke!==2&&Ke!==9||We!==t||(Ke=7),oi(t)},f.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Kg(f)?(Ke=0,mn=null,ky(i)):(Ke=0,mn=null,Va(t,i,f,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var E=Ne;if(!v||p0(v)){Ke=0,mn=null;var R=E.sibling;if(R!==null)Ne=R;else{var j=E.return;j!==null?(Ne=j,ic(j)):Ne=null}break t}}Ke=0,mn=null,Va(t,i,f,5);break;case 6:Ke=0,mn=null,Va(t,i,f,6);break;case 8:ed(),ut=6;break e;default:throw Error(s(462))}}IT();break}catch(Q){Dy(t,Q)}while(!0);return Vi=ws=null,K.H=o,K.A=h,Fe=a,Ne!==null?0:(We=null,Ue=0,Su(),ut)}function IT(){for(;Ne!==null&&!uo();)My(Ne)}function My(t){var i=oy(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,i===null?ic(t):Ne=i}function ky(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=ty(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=ty(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:yf(i);default:uy(a,i),i=Ne=Pg(i,Bi),i=oy(a,i,Bi)}t.memoizedProps=t.pendingProps,i===null?ic(t):Ne=i}function Va(t,i,a,o){Vi=ws=null,yf(i),Sa=null,Zo=0;var h=i.return;try{if(pT(t,h,i,a,Ue)){ut=1,Xu(t,Sn(a,t.current)),Ne=null;return}}catch(f){if(h!==null)throw Ne=h,f;ut=1,Xu(t,Sn(a,t.current)),Ne=null;return}i.flags&32768?(Be||o===1?t=!0:Ca||(Ue&536870912)!==0?t=!1:(yr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Py(i,t)):ic(i)}function ic(t){var i=t;do{if((i.flags&32768)!==0){Py(i,yr);return}t=i.return;var a=_T(i.alternate,i,Bi);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ut===0&&(ut=5)}function Py(t,i){do{var a=vT(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ut=6,Ne=null}function Uy(t,i,a,o,h,f,v,E,R){t.cancelPendingCommit=null;do rc();while(zt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Fh,po(t,a,f,v,E,R),t===We&&(Ne=We=null,Ue=0),Na=i,Er=t,Da=a,$f=f,Jf=h,Iy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,DT(Wr,function(){return qy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=re.p,re.p=2,v=Fe,Fe|=4;try{ET(t,i,a)}finally{Fe=v,re.p=h,K.T=o}}zt=1,Ly(),jy(),zy()}}function Ly(){if(zt===1){zt=0;var t=Er,i=Na,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var o=re.p;re.p=2;var h=Fe;Fe|=4;try{Ey(i,t);var f=md,v=Rg(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&wg(E.ownerDocument.documentElement,E)){if(R!==null&&zh(E)){var j=R.start,Q=R.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var Z=E.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var q=B.getSelection(),Ee=E.textContent.length,pe=Math.min(R.start,Ee),Ze=R.end===void 0?pe:Math.min(R.end,Ee);!q.extend&&pe>Ze&&(v=Ze,Ze=pe,pe=v);var k=Sg(E,pe),D=Sg(E,Ze);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var L=Z.createRange();L.setStart(k.node,k.offset),q.removeAllRanges(),pe>Ze?(q.addRange(L),q.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),q.addRange(L))}}}}for(Z=[],q=E;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var X=Z[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}pc=!!dd,md=dd=null}finally{Fe=h,re.p=o,K.T=a}}t.current=i,zt=2}}function jy(){if(zt===2){zt=0;var t=Er,i=Na,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var o=re.p;re.p=2;var h=Fe;Fe|=4;try{py(t,i.alternate,i)}finally{Fe=h,re.p=o,K.T=a}}zt=3}}function zy(){if(zt===4||zt===3){zt=0,Wl();var t=Er,i=Na,a=Da,o=Iy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zt=5:(zt=0,Na=Er=null,By(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(vr=null),Zs(a),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ot,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=K.T,h=re.p,re.p=2,K.T=null;try{for(var f=t.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{K.T=i,re.p=h}}(Da&3)!==0&&rc(),oi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Wf?sl++:(sl=0,Wf=t):sl=0,al(0)}}function By(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,jo(i)))}function rc(t){return Ly(),jy(),zy(),qy()}function qy(){if(zt!==5)return!1;var t=Er,i=$f;$f=0;var a=Zs(Da),o=K.T,h=re.p;try{re.p=32>a?32:a,K.T=null,a=Jf,Jf=null;var f=Er,v=Da;if(zt=0,Na=Er=null,Da=0,(Fe&6)!==0)throw Error(s(331));var E=Fe;if(Fe|=4,wy(f.current),by(f,f.current,v,a),Fe=E,al(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ot,f)}catch{}return!0}finally{re.p=h,K.T=o,By(t,i)}}function Hy(t,i,a){i=Sn(a,i),i=Df(t.stateNode,i,2),t=cr(t,i,2),t!==null&&(vi(t,2),oi(t))}function $e(t,i,a){if(t.tag===3)Hy(t,t,a);else for(;i!==null;){if(i.tag===3){Hy(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(vr===null||!vr.has(o))){t=Sn(a,t),a=Qp(2),o=cr(i,a,2),o!==null&&(Xp(a,o,i,t),vi(o,2),oi(o));break}}i=i.return}}function id(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new AT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Qf=!0,h.add(a),t=CT.bind(null,t,i,a),i.then(t,t))}function CT(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(Ue&a)===a&&(ut===4||ut===3&&(Ue&62914560)===Ue&&300>_n()-Zf?(Fe&2)===0&&Oa(t,0):Xf|=a,xa===Ue&&(xa=0)),oi(t)}function Gy(t,i){i===0&&(i=go()),t=ma(t,i),t!==null&&(vi(t,i),oi(t))}function xT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Gy(t,a)}function NT(t,i){var a=0;switch(t.tag){case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Gy(t,a)}function DT(t,i){return $r(t,i)}var sc=null,Ma=null,rd=!1,ac=!1,sd=!1,Os=0;function oi(t){t!==Ma&&t.next===null&&(Ma===null?sc=Ma=t:Ma=Ma.next=t),ac=!0,rd||(rd=!0,VT())}function al(t,i){if(!sd&&ac){sd=!0;do for(var a=!1,o=sc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ft(42|t)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Xy(o,f))}else f=Ue,f=Ys(o,o===We?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||is(o,f)||(a=!0,Xy(o,f));o=o.next}while(a);sd=!1}}function OT(){Fy()}function Fy(){ac=rd=!1;var t=0;Os!==0&&(BT()&&(t=Os),Os=0);for(var i=_n(),a=null,o=sc;o!==null;){var h=o.next,f=Ky(o,i);f===0?(o.next=null,a===null?sc=h:a.next=h,h===null&&(Ma=a)):(a=o,(t!==0||(f&3)!==0)&&(ac=!0)),o=h}al(t)}function Ky(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Ft(f),E=1<<v,R=h[v];R===-1?((E&a)===0||(E&o)!==0)&&(h[v]=fo(E,i)):R<=i&&(t.expiredLanes|=E),f&=~E}if(i=We,a=Ue,a=Ys(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Jr(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||is(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&Jr(o),Zs(a)){case 2:case 8:a=Qs;break;case 32:a=Wr;break;case 268435456:a=Xs;break;default:a=Wr}return o=Qy.bind(null,t),a=$r(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&Jr(o),t.callbackPriority=2,t.callbackNode=null,2}function Qy(t,i){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(rc()&&t.callbackNode!==a)return null;var o=Ue;return o=Ys(t,t===We?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(xy(t,o,i),Ky(t,_n()),t.callbackNode!=null&&t.callbackNode===a?Qy.bind(null,t):null)}function Xy(t,i){if(rc())return null;xy(t,i,!0)}function VT(){HT(function(){(Fe&6)!==0?$r(co,OT):Fy()})}function ad(){return Os===0&&(Os=mo()),Os}function Yy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:na(""+t)}function Zy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function MT(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=Yy((h[gt]||null).action),v=o.submitter;v&&(i=(i=v[gt]||null)?Yy(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var E=new ia("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Os!==0){var R=v?Zy(h,v):new FormData(h);Rf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=v?Zy(h,v):new FormData(h),Rf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var od=0;od<Gh.length;od++){var ld=Gh[od],kT=ld.toLowerCase(),PT=ld[0].toUpperCase()+ld.slice(1);Ln(kT,"on"+PT)}Ln(xg,"onAnimationEnd"),Ln(Ng,"onAnimationIteration"),Ln(Dg,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(WE,"onTransitionRun"),Ln(eT,"onTransitionStart"),Ln(tT,"onTransitionCancel"),Ln(Og,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function $y(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],R=E.instance,j=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Qu(Q)}h.currentTarget=null,f=R}else for(v=0;v<o.length;v++){if(E=o[v],R=E.instance,j=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Qu(Q)}h.currentTarget=null,f=R}}}}function De(t,i){var a=i[_o];a===void 0&&(a=i[_o]=new Set);var o=t+"__bubble";a.has(o)||(Jy(i,t,2,!1),a.add(o))}function ud(t,i,a){var o=0;i&&(o|=4),Jy(a,t,o,i)}var oc="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[oc]){t[oc]=!0,vo.forEach(function(a){a!=="selectionchange"&&(UT.has(a)||ud(a,!1,t),ud(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[oc]||(i[oc]=!0,ud("selectionchange",!1,i))}}function Jy(t,i,a,o){switch(b0(i)){case 2:var h=cb;break;case 8:h=hb;break;default:h=Sd}a=h.bind(null,i,a,t),h=void 0,!bn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function hd(t,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Ei(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){o=f=v;continue e}E=E.parentNode}}o=o.return}uu(function(){var j=f,Q=Tn(a),Z=[];e:{var B=Vg.get(t);if(B!==void 0){var q=ia,Ee=t;switch(t){case"keypress":if(Jn(a)===0)break e;case"keydown":case"keyup":q=ua;break;case"focusin":Ee="focus",q=aa;break;case"focusout":Ee="blur",q=aa;break;case"beforeblur":case"afterblur":q=aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ph;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=yu;break;case xg:case Ng:case Dg:q=oa;break;case Og:q=vu;break;case"scroll":case"scrollend":q=cu;break;case"wheel":q=ca;break;case"copy":case"cut":case"paste":q=la;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Do;break;case"toggle":case"beforetoggle":q=Tu}var pe=(i&4)!==0,Ze=!pe&&(t==="scroll"||t==="scrollend"),k=pe?B!==null?B+"Capture":null:B;pe=[];for(var D=j,L;D!==null;){var X=D;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||k===null||(X=hs(D,k),X!=null&&pe.push(ll(D,X,L))),Ze)break;D=D.return}0<pe.length&&(B=new q(B,Ee,null,a,Q),Z.push({event:B,listeners:pe}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&a!==Si&&(Ee=a.relatedTarget||a.fromElement)&&(Ei(Ee)||Ee[vn]))break e;if((q||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,q?(Ee=a.relatedTarget||a.toElement,q=j,Ee=Ee?Ei(Ee):null,Ee!==null&&(Ze=c(Ee),pe=Ee.tag,Ee!==Ze||pe!==5&&pe!==27&&pe!==6)&&(Ee=null)):(q=null,Ee=j),q!==Ee)){if(pe=An,X="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Do,X="onPointerLeave",k="onPointerEnter",D="pointer"),Ze=q==null?B:Xn(q),L=Ee==null?B:Xn(Ee),B=new pe(X,D+"leave",q,a,Q),B.target=Ze,B.relatedTarget=L,X=null,Ei(Q)===j&&(pe=new pe(k,D+"enter",Ee,a,Q),pe.target=L,pe.relatedTarget=Ze,X=pe),Ze=X,q&&Ee)t:{for(pe=q,k=Ee,D=0,L=pe;L;L=ka(L))D++;for(L=0,X=k;X;X=ka(X))L++;for(;0<D-L;)pe=ka(pe),D--;for(;0<L-D;)k=ka(k),L--;for(;D--;){if(pe===k||k!==null&&pe===k.alternate)break t;pe=ka(pe),k=ka(k)}pe=null}else pe=null;q!==null&&Wy(Z,B,q,pe,!1),Ee!==null&&Ze!==null&&Wy(Z,Ze,Ee,pe,!0)}}e:{if(B=j?Xn(j):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var le=_g;else if(St(B))if(vg)le=ZE;else{le=XE;var xe=QE}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&So(j.elementType)&&(le=_g):le=YE;if(le&&(le=le(t,j))){xi(Z,le,a,Q);break e}xe&&xe(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&sr(B,"number",B.value)}switch(xe=j?Xn(j):window,t){case"focusin":(St(xe)||xe.contentEditable==="true")&&(ha=xe,Bh=j,Mo=null);break;case"focusout":Mo=Bh=ha=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Ig(Z,a,Q);break;case"selectionchange":if(JE)break;case"keydown":case"keyup":Ig(Z,a,Q)}var ce;if(ti)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ke?H(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(ke||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ke&&(ce=Ro()):($n=Q,ar="value"in $n?$n.value:$n.textContent,ke=!0)),xe=lc(j,_e),0<xe.length&&(_e=new xo(_e,t,null,a,Q),Z.push({event:_e,listeners:xe}),ce?_e.data=ce:(ce=ie(a),ce!==null&&(_e.data=ce)))),(ce=m?At(t,a):Pe(t,a))&&(_e=lc(j,"onBeforeInput"),0<_e.length&&(xe=new xo("onBeforeInput","beforeinput",null,a,Q),Z.push({event:xe,listeners:_e}),xe.data=ce)),MT(Z,t,j,a,Q)}$y(Z,i)})}function ll(t,i,a){return{instance:t,listener:i,currentTarget:a}}function lc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=hs(t,a),h!=null&&o.unshift(ll(t,h,f)),h=hs(t,i),h!=null&&o.push(ll(t,h,f))),t.tag===3)return o;t=t.return}return[]}function ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wy(t,i,a,o,h){for(var f=i._reactName,v=[];a!==null&&a!==o;){var E=a,R=E.alternate,j=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||j===null||(R=j,h?(j=hs(a,f),j!=null&&v.unshift(ll(a,j,R))):h||(j=hs(a,f),j!=null&&v.push(ll(a,j,R)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var LT=/\r\n?/g,jT=/\u0000|\uFFFD/g;function e0(t){return(typeof t=="string"?t:""+t).replace(LT,`
`).replace(jT,"")}function t0(t,i){return i=e0(i),e0(t)===i}function uc(){}function Ye(t,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||En(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&En(t,""+o);break;case"className":Yn(t,"class",o);break;case"tabIndex":Yn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(t,a,o);break;case"style":Ao(t,o,f);break;case"data":if(i!=="object"){Yn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=na(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Ye(t,i,"name",h.name,h,null),Ye(t,i,"formEncType",h.formEncType,h,null),Ye(t,i,"formMethod",h.formMethod,h,null),Ye(t,i,"formTarget",h.formTarget,h,null)):(Ye(t,i,"encType",h.encType,h,null),Ye(t,i,"method",h.method,h,null),Ye(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=na(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=uc);break;case"onScroll":o!=null&&De("scroll",t);break;case"onScrollEnd":o!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=na(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":De("beforetoggle",t),De("toggle",t),rr(t,"popover",o);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":rr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mh.get(a)||a,rr(t,a,o))}}function fd(t,i,a,o,h,f){switch(a){case"style":Ao(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?En(t,o):(typeof o=="number"||typeof o=="bigint")&&En(t,""+o);break;case"onScroll":o!=null&&De("scroll",t);break;case"onScrollEnd":o!=null&&De("scrollend",t);break;case"onClick":o!=null&&(t.onclick=uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$s.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[gt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):rr(t,a,o)}}}function Bt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,f,v,a,null)}}h&&Ye(t,i,"srcSet",a.srcSet,a,null),o&&Ye(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var E=f=v=h=null,R=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":v=Q;break;case"checked":R=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Ye(t,i,o,Q,a,null)}}ls(t,f,E,R,j,v,h,!1),ta(t);return;case"select":De("invalid",t),o=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Ye(t,i,h,E,a,null)}i=f,a=v,t.multiple=!!o,i!=null?Ai(t,!!o,i,!1):a!=null&&Ai(t,!!o,a,!0);return;case"textarea":De("invalid",t),f=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Ye(t,i,v,E,a,null)}us(t,o,h,f),ta(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ye(t,i,R,o,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(o=0;o<ol.length;o++)De(ol[o],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,j,o,a,null)}return;default:if(So(i)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&fd(t,i,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Ye(t,i,E,o,a,null))}function zT(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,R=null,j=null,Q=null;for(q in a){var Z=a[q];if(a.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Z;default:o.hasOwnProperty(q)||Ye(t,i,q,null,o,Z)}}for(var B in o){var q=o[B];if(Z=a[B],o.hasOwnProperty(B)&&(q!=null||Z!=null))switch(B){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":Q=q;break;case"value":v=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==Z&&Ye(t,i,B,q,o,Z)}}un(t,v,E,R,j,Q,f,h);return;case"select":q=v=E=B=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Ye(t,i,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==R&&Ye(t,i,h,f,o,R)}i=E,a=v,o=q,B!=null?Ai(t,!!a,B,!1):!!o!=!!a&&(i!=null?Ai(t,!!a,i,!0):Ai(t,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ye(t,i,E,null,o,h)}for(v in o)if(h=o[v],f=a[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Ye(t,i,v,h,o,f)}Qe(t,B,q);return;case"option":for(var Ee in a)if(B=a[Ee],a.hasOwnProperty(Ee)&&B!=null&&!o.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:Ye(t,i,Ee,null,o,B)}for(R in o)if(B=o[R],q=a[R],o.hasOwnProperty(R)&&B!==q&&(B!=null||q!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ye(t,i,R,B,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)B=a[pe],a.hasOwnProperty(pe)&&B!=null&&!o.hasOwnProperty(pe)&&Ye(t,i,pe,null,o,B);for(j in o)if(B=o[j],q=a[j],o.hasOwnProperty(j)&&B!==q&&(B!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Ye(t,i,j,B,o,q)}return;default:if(So(i)){for(var Ze in a)B=a[Ze],a.hasOwnProperty(Ze)&&B!==void 0&&!o.hasOwnProperty(Ze)&&fd(t,i,Ze,void 0,o,B);for(Q in o)B=o[Q],q=a[Q],!o.hasOwnProperty(Q)||B===q||B===void 0&&q===void 0||fd(t,i,Q,B,o,q);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&Ye(t,i,k,null,o,B);for(Z in o)B=o[Z],q=a[Z],!o.hasOwnProperty(Z)||B===q||B==null&&q==null||Ye(t,i,Z,B,o,q)}var dd=null,md=null;function cc(t){return t.nodeType===9?t:t.ownerDocument}function n0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function gd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var pd=null;function BT(){var t=window.event;return t&&t.type==="popstate"?t===pd?!1:(pd=t,!0):(pd=null,!1)}var r0=typeof setTimeout=="function"?setTimeout:void 0,qT=typeof clearTimeout=="function"?clearTimeout:void 0,s0=typeof Promise=="function"?Promise:void 0,HT=typeof queueMicrotask=="function"?queueMicrotask:typeof s0<"u"?function(t){return s0.resolve(null).then(t).catch(GT)}:r0;function GT(t){setTimeout(function(){throw t})}function br(t){return t==="head"}function a0(t,i){var a=i,o=0,h=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var v=t.ownerDocument;if(a&1&&ul(v.documentElement),a&2&&ul(v.body),a&4)for(a=v.head,ul(a),v=a.firstChild;v;){var E=v.nextSibling,R=v.nodeName;v[rs]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){t.removeChild(f),yl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);yl(i)}function yd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yd(a),ir(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function FT(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[rs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function KT(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function _d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function QT(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var vd=null;function o0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function l0(t,i,a){switch(i=cc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ul(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ir(t)}var Nn=new Map,u0=new Set;function hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=re.d;re.d={f:XT,r:YT,D:ZT,C:$T,L:JT,m:WT,X:tb,S:eb,M:nb};function XT(){var t=qi.f(),i=nc();return t||i}function YT(t){var i=Qn(t);i!==null&&i.tag===5&&i.type==="form"?xp(i):qi.r(t)}var Pa=typeof document>"u"?null:document;function c0(t,i,a){var o=Pa;if(o&&typeof i=="string"&&i){var h=pt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),u0.has(h)||(u0.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Bt(i,"link",t),ct(i),o.head.appendChild(i)))}}function ZT(t){qi.D(t),c0("dns-prefetch",t,null)}function $T(t,i){qi.C(t,i),c0("preconnect",t,i)}function JT(t,i,a){qi.L(t,i,a);var o=Pa;if(o&&t&&i){var h='link[rel="preload"][as="'+pt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pt(a.imageSizes)+'"]')):h+='[href="'+pt(t)+'"]';var f=h;switch(i){case"style":f=Ua(t);break;case"script":f=La(t)}Nn.has(f)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Nn.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(cl(f))||i==="script"&&o.querySelector(hl(f))||(i=o.createElement("link"),Bt(i,"link",t),ct(i),o.head.appendChild(i)))}}function WT(t,i){qi.m(t,i);var a=Pa;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pt(o)+'"][href="'+pt(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(t)}if(!Nn.has(f)&&(t=T({rel:"modulepreload",href:t},i),Nn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hl(f)))return}o=a.createElement("link"),Bt(o,"link",t),ct(o),a.head.appendChild(o)}}}function eb(t,i,a){qi.S(t,i,a);var o=Pa;if(o&&t){var h=Jt(o).hoistableStyles,f=Ua(t);i=i||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(cl(f)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Nn.get(f))&&Ed(t,a);var R=v=o.createElement("link");ct(R),Bt(R,"link",t),R._p=new Promise(function(j,Q){R.onload=j,R.onerror=Q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function tb(t,i){qi.X(t,i);var a=Pa;if(a&&t){var o=Jt(a).hoistableScripts,h=La(t),f=o.get(h);f||(f=a.querySelector(hl(h)),f||(t=T({src:t,async:!0},i),(i=Nn.get(h))&&Td(t,i),f=a.createElement("script"),ct(f),Bt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function nb(t,i){qi.M(t,i);var a=Pa;if(a&&t){var o=Jt(a).hoistableScripts,h=La(t),f=o.get(h);f||(f=a.querySelector(hl(h)),f||(t=T({src:t,async:!0,type:"module"},i),(i=Nn.get(h))&&Td(t,i),f=a.createElement("script"),ct(f),Bt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function h0(t,i,a,o){var h=(h=be.current)?hc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ua(a.href),a=Jt(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ua(a.href);var f=Jt(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(cl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Nn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(t,a),f||ib(h,t,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=La(a),a=Jt(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ua(t){return'href="'+pt(t)+'"'}function cl(t){return'link[rel="stylesheet"]['+t+"]"}function f0(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function ib(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Bt(i,"link",a),ct(i),t.head.appendChild(i))}function La(t){return'[src="'+pt(t)+'"]'}function hl(t){return"script[async]"+t}function d0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+pt(a.href)+'"]');if(o)return i.instance=o,ct(o),o;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),ct(o),Bt(o,"style",h),fc(o,a.precedence,t),i.instance=o;case"stylesheet":h=Ua(a.href);var f=t.querySelector(cl(h));if(f)return i.state.loading|=4,i.instance=f,ct(f),f;o=f0(a),(h=Nn.get(h))&&Ed(o,h),f=(t.ownerDocument||t).createElement("link"),ct(f);var v=f;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Bt(f,"link",o),i.state.loading|=4,fc(f,a.precedence,t),i.instance=f;case"script":return f=La(a.src),(h=t.querySelector(hl(f)))?(i.instance=h,ct(h),h):(o=a,(h=Nn.get(f))&&(o=T({},a),Td(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),ct(h),Bt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,fc(o,a.precedence,t));return i.instance}function fc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Ed(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Td(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var dc=null;function m0(t,i,a){if(dc===null){var o=new Map,h=dc=new Map;h.set(a,o)}else h=dc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[rs]||f[bt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=t+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function g0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function rb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function p0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var fl=null;function sb(){}function ab(t,i,a){if(fl===null)throw Error(s(475));var o=fl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ua(a.href),f=t.querySelector(cl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=mc.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=f,ct(f);return}f=t.ownerDocument||t,a=f0(a),(h=Nn.get(h))&&Ed(a,h),f=f.createElement("link"),ct(f);var v=f;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Bt(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=mc.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function ob(){if(fl===null)throw Error(s(475));var t=fl;return t.stylesheets&&t.count===0&&bd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&bd(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function mc(){if(this.count--,this.count===0){if(this.stylesheets)bd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gc=null;function bd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gc=new Map,i.forEach(lb,t),gc=null,mc.call(t))}function lb(t,i){if(!(i.state.loading&4)){var a=gc.get(t);if(a)var o=a.get(null);else{a=new Map,gc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,h),a.set(v,h),this.count++,o=mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var dl={$$typeof:W,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function ub(t,i,a,o,h,f,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function y0(t,i,a,o,h,f,v,E,R,j,Q,Z){return t=new ub(t,i,a,v,E,R,j,Z),i=1,f===!0&&(i|=24),f=hn(3,null,null,i),t.current=f,f.stateNode=t,i=nf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},of(f),t}function _0(t){return t?(t=ga,t):ga}function v0(t,i,a,o,h,f){h=_0(h),o.context===null?o.context=h:o.pendingContext=h,o=ur(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=cr(t,o,i),a!==null&&(pn(a,t,i),Ho(a,t,i))}function E0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Ad(t,i){E0(t,i),(t=t.alternate)&&E0(t,i)}function T0(t){if(t.tag===13){var i=ma(t,67108864);i!==null&&pn(i,t,67108864),Ad(t,67108864)}}var pc=!0;function cb(t,i,a,o){var h=K.T;K.T=null;var f=re.p;try{re.p=2,Sd(t,i,a,o)}finally{re.p=f,K.T=h}}function hb(t,i,a,o){var h=K.T;K.T=null;var f=re.p;try{re.p=8,Sd(t,i,a,o)}finally{re.p=f,K.T=h}}function Sd(t,i,a,o){if(pc){var h=wd(o);if(h===null)hd(t,i,o,yc,a),A0(t,o);else if(db(h,t,i,a,o))o.stopPropagation();else if(A0(t,o),i&4&&-1<fb.indexOf(t)){for(;h!==null;){var f=Qn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=kn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-Ft(v);E.entanglements[1]|=R,v&=~R}oi(f),(Fe&6)===0&&(ec=_n()+500,al(0))}}break;case 13:E=ma(f,2),E!==null&&pn(E,f,2),nc(),Ad(f,2)}if(f=wd(o),f===null&&hd(t,i,o,yc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(t,i,o,null,a)}}function wd(t){return t=Tn(t),Rd(t)}var yc=null;function Rd(t){if(yc=null,t=Ei(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return yc=t,null}function b0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ch()){case co:return 2;case Qs:return 8;case Wr:case xh:return 32;case Xs:return 268435456;default:return 32}default:return 32}}var Id=!1,Ar=null,Sr=null,wr=null,ml=new Map,gl=new Map,Rr=[],fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A0(t,i){switch(t){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":ml.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(i.pointerId)}}function pl(t,i,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Qn(i),i!==null&&T0(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function db(t,i,a,o,h){switch(i){case"focusin":return Ar=pl(Ar,t,i,a,o,h),!0;case"dragenter":return Sr=pl(Sr,t,i,a,o,h),!0;case"mouseover":return wr=pl(wr,t,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return ml.set(f,pl(ml.get(f)||null,t,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,gl.set(f,pl(gl.get(f)||null,t,i,a,o,h)),!0}return!1}function S0(t){var i=Ei(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,nu(t.priority,function(){if(a.tag===13){var o=gn();o=er(o);var h=ma(a,o);h!==null&&pn(h,a,o),Ad(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _c(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=wd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Si=o,a.target.dispatchEvent(o),Si=null}else return i=Qn(a),i!==null&&T0(i),t.blockedOn=a,!1;i.shift()}return!0}function w0(t,i,a){_c(t)&&a.delete(i)}function mb(){Id=!1,Ar!==null&&_c(Ar)&&(Ar=null),Sr!==null&&_c(Sr)&&(Sr=null),wr!==null&&_c(wr)&&(wr=null),ml.forEach(w0),gl.forEach(w0)}function vc(t,i){t.blockedOn===i&&(t.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mb)))}var Ec=null;function R0(t){Ec!==t&&(Ec=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ec===t&&(Ec=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(Rd(o||a)===null)continue;break}var f=Qn(a);f!==null&&(t.splice(i,3),i-=3,Rf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function yl(t){function i(R){return vc(R,t)}Ar!==null&&vc(Ar,t),Sr!==null&&vc(Sr,t),wr!==null&&vc(wr,t),ml.forEach(i),gl.forEach(i);for(var a=0;a<Rr.length;a++){var o=Rr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Rr.length&&(a=Rr[0],a.blockedOn===null);)S0(a),a.blockedOn===null&&Rr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],v=h[gt]||null;if(typeof f=="function")v||R0(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[gt]||null)E=v.formAction;else if(Rd(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),R0(a)}}}function Cd(t){this._internalRoot=t}Tc.prototype.render=Cd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=gn();v0(a,o,t,i,null,null)},Tc.prototype.unmount=Cd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;v0(t.current,2,null,t,null,null),nc(),i[vn]=null}};function Tc(t){this._internalRoot=t}Tc.prototype.unstable_scheduleHydration=function(t){if(t){var i=tr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Rr.length&&i!==0&&i<Rr[a].priority;a++);Rr.splice(a,0,t),a===0&&S0(t)}};var I0=e.version;if(I0!=="19.1.1")throw Error(s(527,I0,"19.1.1"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var gb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{ot=bc.inject(gb),Ge=bc}catch{}}return vl.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",h=Hp,f=Gp,v=Fp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=y0(t,1,!1,null,null,a,o,h,f,v,E,null),t[vn]=i.current,cd(t),new Cd(i)},vl.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,h="",f=Hp,v=Gp,E=Fp,R=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=y0(t,1,!0,i,a??null,o,h,f,v,E,R,j),i.context=_0(null),a=i.current,o=gn(),o=er(o),h=ur(o),h.callback=null,cr(a,h,o),a=o,i.current.lanes=a,vi(i,a),oi(i),t[vn]=i.current,cd(t),new Tc(i)},vl.version="19.1.1",vl}var U0;function Ib(){if(U0)return Dd.exports;U0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Dd.exports=Rb(),Dd.exports}var Cb=Ib();const xb=()=>{};var L0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Nb=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],d=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,y=p?r[l+2]:0,T=c>>2,I=(c&3)<<4|g>>4;let S=(g&15)<<2|y>>6,z=y&63;p||(z=64,d||(S=64)),s.push(n[T],n[I],n[S],n[z])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(vv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Nb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const I=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||y==null||I==null)throw new Db;const S=c<<2|g>>4;if(s.push(S),y!==64){const z=g<<4&240|y>>2;if(s.push(z),I!==64){const F=y<<6&192|I;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Db extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ob=function(r){const e=vv(r);return Ev.encodeByteArray(e,!0)},zc=function(r){return Ob(r).replace(/\./g,"")},Tv=function(r){try{return Ev.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=()=>Vb().__FIREBASE_DEFAULTS__,kb=()=>{if(typeof process>"u"||typeof L0>"u")return;const r=L0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Pb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Tv(r[1]);return e&&JSON.parse(e)},ah=()=>{try{return xb()||Mb()||kb()||Pb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},bv=r=>ah()?.emulatorHosts?.[r],Ub=r=>{const e=bv(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Av=()=>ah()?.config,Sv=r=>ah()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[zc(JSON.stringify(n)),zc(JSON.stringify(d)),""].join(".")}const wl={};function zb(){const r={prod:[],emulator:[]};for(const e of Object.keys(wl))wl[e]?r.emulator.push(e):r.prod.push(e);return r}function Bb(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let j0=!1;function Rv(r,e){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||wl[r]===e||wl[r]||j0)return;wl[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",c=zb().prod.length>0;function d(){const S=document.getElementById(s);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,z){S.setAttribute("width","24"),S.setAttribute("id",z),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{j0=!0,d()},S}function T(S,z){S.setAttribute("id",z),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function I(){const S=Bb(s),z=n("text"),F=document.getElementById(z)||document.createElement("span"),te=n("learnmore"),G=document.getElementById(te)||document.createElement("a"),ue=n("preprendIcon"),fe=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const W=S.element;g(W),T(G,te);const ye=y();p(fe,ue),W.append(fe,F,G,ye),document.body.appendChild(W)}c?(F.innerText="Preview backend disconnected.",fe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(fe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function Hb(){const r=ah()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Gb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Kb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qb(){const r=$t();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Xb(){return!Hb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yb(){try{return typeof indexedDB=="object"}catch{return!1}}function Zb(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="FirebaseError";class Ji extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=$b,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?Jb(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Ji(l,g,s)}}function Jb(r,e){return r.replace(Wb,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const Wb=/\{\$([^}]+)}/g;function eA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ls(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const c=r[l],d=e[l];if(z0(c)&&z0(d)){if(!Ls(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function z0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function tA(r,e){const n=new nA(r,e);return n.subscribe.bind(n)}class nA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");iA(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=kd),l.error===void 0&&(l.error=kd),l.complete===void 0&&(l.complete=kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iA(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function kd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(r){return r&&r._delegate?r._delegate:r}class js{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Lb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aA(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sA(r){return r===Ms?void 0:r}function aA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const lA={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},uA=Oe.INFO,cA={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},hA=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=cA[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wm{constructor(e){this.name=e,this._logLevel=uA,this._logHandler=hA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const fA=(r,e)=>e.some(n=>r instanceof n);let B0,q0;function dA(){return B0||(B0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mA(){return q0||(q0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Iv=new WeakMap,Yd=new WeakMap,Cv=new WeakMap,Pd=new WeakMap,Rm=new WeakMap;function gA(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(Mr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&Iv.set(n,r)}).catch(()=>{}),Rm.set(e,r),e}function pA(r){if(Yd.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Yd.set(r,e)}let Zd={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Yd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Cv.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function yA(r){Zd=r(Zd)}function _A(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Ud(this),e,...n);return Cv.set(s,e.sort?e.sort():[e]),Mr(s)}:mA().includes(r)?function(...e){return r.apply(Ud(this),e),Mr(Iv.get(this))}:function(...e){return Mr(r.apply(Ud(this),e))}}function vA(r){return typeof r=="function"?_A(r):(r instanceof IDBTransaction&&pA(r),fA(r,dA())?new Proxy(r,Zd):r)}function Mr(r){if(r instanceof IDBRequest)return gA(r);if(Pd.has(r))return Pd.get(r);const e=vA(r);return e!==r&&(Pd.set(r,e),Rm.set(e,r)),e}const Ud=r=>Rm.get(r);function EA(r,e,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),g=Mr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Mr(d.result),p.oldVersion,p.newVersion,Mr(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const TA=["get","getKey","getAll","getAllKeys","count"],bA=["put","add","delete","clear"],Ld=new Map;function H0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=bA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||TA.includes(n)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),l&&p.done]))[0]};return Ld.set(e,c),c}yA(r=>({...r,get:(e,n,s)=>H0(e,n)||r.get(e,n,s),has:(e,n)=>!!H0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function SA(r){return r.getComponent()?.type==="VERSION"}const $d="@firebase/app",G0="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new wm("@firebase/app"),wA="@firebase/app-compat",RA="@firebase/analytics-compat",IA="@firebase/analytics",CA="@firebase/app-check-compat",xA="@firebase/app-check",NA="@firebase/auth",DA="@firebase/auth-compat",OA="@firebase/database",VA="@firebase/data-connect",MA="@firebase/database-compat",kA="@firebase/functions",PA="@firebase/functions-compat",UA="@firebase/installations",LA="@firebase/installations-compat",jA="@firebase/messaging",zA="@firebase/messaging-compat",BA="@firebase/performance",qA="@firebase/performance-compat",HA="@firebase/remote-config",GA="@firebase/remote-config-compat",FA="@firebase/storage",KA="@firebase/storage-compat",QA="@firebase/firestore",XA="@firebase/ai",YA="@firebase/firestore-compat",ZA="firebase",$A="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="[DEFAULT]",JA={[$d]:"fire-core",[wA]:"fire-core-compat",[IA]:"fire-analytics",[RA]:"fire-analytics-compat",[xA]:"fire-app-check",[CA]:"fire-app-check-compat",[NA]:"fire-auth",[DA]:"fire-auth-compat",[OA]:"fire-rtdb",[VA]:"fire-data-connect",[MA]:"fire-rtdb-compat",[kA]:"fire-fn",[PA]:"fire-fn-compat",[UA]:"fire-iid",[LA]:"fire-iid-compat",[jA]:"fire-fcm",[zA]:"fire-fcm-compat",[BA]:"fire-perf",[qA]:"fire-perf-compat",[HA]:"fire-rc",[GA]:"fire-rc-compat",[FA]:"fire-gcs",[KA]:"fire-gcs-compat",[QA]:"fire-fst",[YA]:"fire-fst-compat",[XA]:"fire-vertex","fire-js":"fire-js",[ZA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new Map,WA=new Map,Wd=new Map;function F0(r,e){try{r.container.addComponent(e)}catch(n){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ya(r){const e=r.name;if(Wd.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;Wd.set(e,r);for(const n of Bc.values())F0(n,r);for(const n of WA.values())F0(n,r);return!0}function Im(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Dn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new jl("app","Firebase",eS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=$A;function xv(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Jd,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw kr.create("bad-app-name",{appName:String(l)});if(n||(n=Av()),!n)throw kr.create("no-options");const c=Bc.get(l);if(c){if(Ls(n,c.options)&&Ls(s,c.config))return c;throw kr.create("duplicate-app",{appName:l})}const d=new oA(l);for(const p of Wd.values())d.addComponent(p);const g=new tS(n,s,d);return Bc.set(l,g),g}function Nv(r=Jd){const e=Bc.get(r);if(!e&&r===Jd&&Av())return xv();if(!e)throw kr.create("no-app",{appName:r});return e}function Pr(r,e,n){let s=JA[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(d.join(" "));return}Ya(new js(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="firebase-heartbeat-database",iS=1,Dl="firebase-heartbeat-store";let jd=null;function Dv(){return jd||(jd=EA(nS,iS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Dl)}catch(n){console.warn(n)}}}}).catch(r=>{throw kr.create("idb-open",{originalErrorMessage:r.message})})),jd}async function rS(r){try{const n=(await Dv()).transaction(Dl),s=await n.objectStore(Dl).get(Ov(r));return await n.done,s}catch(e){if(e instanceof Ji)Ki.warn(e.message);else{const n=kr.create("idb-get",{originalErrorMessage:e?.message});Ki.warn(n.message)}}}async function K0(r,e){try{const s=(await Dv()).transaction(Dl,"readwrite");await s.objectStore(Dl).put(e,Ov(r)),await s.done}catch(n){if(n instanceof Ji)Ki.warn(n.message);else{const s=kr.create("idb-set",{originalErrorMessage:n?.message});Ki.warn(s.message)}}}function Ov(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=1024,aS=30;class oS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Q0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>aS){const l=cS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ki.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Q0(),{heartbeatsToSend:n,unsentEntries:s}=lS(this._heartbeatsCache.heartbeats),l=zc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ki.warn(e),""}}}function Q0(){return new Date().toISOString().substring(0,10)}function lS(r,e=sS){const n=[];let s=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),X0(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),X0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class uS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yb()?Zb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return K0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return K0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function X0(r){return zc(JSON.stringify({version:2,heartbeats:r})).length}function cS(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(r){Ya(new js("platform-logger",e=>new AA(e),"PRIVATE")),Ya(new js("heartbeat",e=>new oS(e),"PRIVATE")),Pr($d,G0,r),Pr($d,G0,"esm2020"),Pr("fire-js","")}hS("");var fS="firebase",dS="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(fS,dS,"app");function Vv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mS=Vv,Mv=new jl("auth","Firebase",Vv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new wm("@firebase/auth");function gS(r,...e){qc.logLevel<=Oe.WARN&&qc.warn(`Auth (${io}): ${r}`,...e)}function xc(r,...e){qc.logLevel<=Oe.ERROR&&qc.error(`Auth (${io}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(r,...e){throw Cm(r,...e)}function ui(r,...e){return Cm(r,...e)}function kv(r,e,n){const s={...mS(),[e]:n};return new jl("auth","Firebase",s).create(e,{appName:r.name})}function Fi(r){return kv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Mv.create(r,...e)}function Te(r,e,...n){if(!r)throw Cm(e,...n)}function Hi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw xc(e),new Error(e)}function Xi(r,e){r||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){return typeof self<"u"&&self.location?.href||""}function pS(){return Y0()==="http:"||Y0()==="https:"}function Y0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pS()||Fb()||"connection"in navigator)?navigator.onLine:!0}function _S(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=qb()||Kb()}get(){return yS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(r,e){Xi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TS=new Bl(3e4,6e4);function ql(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ro(r,e,n,s,l={}){return Uv(r,l,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const g=zl({key:r.config.apiKey,...d}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...c};return Gb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&no(r.emulatorConfig.host)&&(y.credentials="include"),Pv.fetch()(await Lv(r,r.config.apiHost,n,g),y)})}async function Uv(r,e,n){r._canInitEmulator=!1;const s={...vS,...e};try{const l=new bS(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ac(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Ac(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw Ac(r,"user-disabled",d);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw kv(r,T,y);Qi(r,T)}}catch(l){if(l instanceof Ji)throw l;Qi(r,"network-request-failed",{message:String(l)})}}async function Nm(r,e,n,s,l={}){const c=await ro(r,e,n,s,l);return"mfaPendingCredential"in c&&Qi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Lv(r,e,n,s){const l=`${e}${n}?${s}`,c=r,d=c.config.emulator?xm(r.config,l):`${r.config.apiScheme}://${l}`;return ES.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class bS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ui(this.auth,"network-request-failed")),TS.get())})}}function Ac(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=ui(r,e,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AS(r,e){return ro(r,"POST","/v1/accounts:delete",e)}async function Hc(r,e){return ro(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SS(r,e=!1){const n=kt(r),s=await n.getIdToken(e),l=Dm(s);Te(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Rl(zd(l.auth_time)),issuedAtTime:Rl(zd(l.iat)),expirationTime:Rl(zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function zd(r){return Number(r)*1e3}function Dm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Tv(n);return l?JSON.parse(l):(xc("Failed to decode base64 JWT payload"),null)}catch(l){return xc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Z0(r){const e=Dm(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ji&&wS(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function wS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(r){const e=r.auth,n=await r.getIdToken(),s=await Ol(r,Hc(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?jv(l.providerUserInfo):[],d=CS(r.providerData,c),g=r.isAnonymous,p=!(r.email&&l.passwordHash)&&!d?.length,y=g?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function IS(r){const e=kt(r);await Gc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CS(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function jv(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(r,e){const n=await Uv(r,{},async()=>{const s=zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Lv(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&no(r.emulatorConfig.host)&&(p.credentials="include"),Pv.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NS(r,e){return ro(r,"POST","/v2/accounts:revokeToken",ql(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Z0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await xS(e,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new Fa;return s&&(Te(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(Te(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Bn{constructor({uid:e,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new RS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SS(this,e)}reload(){return IS(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Gc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Fi(this.auth));const e=await this.getIdToken();return await Ol(this,AS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:I,emailVerified:S,isAnonymous:z,providerData:F,stsTokenManager:te}=n;Te(I&&te,e,"internal-error");const G=Fa.fromJSON(this.name,te);Te(typeof I=="string",e,"internal-error"),Cr(s,e.name),Cr(l,e.name),Te(typeof S=="boolean",e,"internal-error"),Te(typeof z=="boolean",e,"internal-error"),Cr(c,e.name),Cr(d,e.name),Cr(g,e.name),Cr(p,e.name),Cr(y,e.name),Cr(T,e.name);const ue=new Bn({uid:I,auth:e,email:l,emailVerified:S,displayName:s,isAnonymous:z,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:G,createdAt:y,lastLoginAt:T});return F&&Array.isArray(F)&&(ue.providerData=F.map(fe=>({...fe}))),p&&(ue._redirectEventId=p),ue}static async _fromIdTokenResponse(e,n,s=!1){const l=new Fa;l.updateFromServerResponse(n);const c=new Bn({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Gc(c),c}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];Te(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?jv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Fa;g.updateFromIdToken(s);const p=new Bn({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new Map;function Gi(r){Xi(r instanceof Function,"Expected a class definition");let e=$0.get(r);return e?(Xi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,$0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zv.type="NONE";const J0=zv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ka{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Nc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Nc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Hc(this.auth,{idToken:e}).catch(()=>{});return n?Bn._fromGetAccountInfoResponse(this.auth,n,e):null}return Bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ka(Gi(J0),e,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Gi(J0);const d=Nc(s,e.config.apiKey,e.name);let g=null;for(const y of n)try{const T=await y._get(d);if(T){let I;if(typeof T=="string"){const S=await Hc(e,{idToken:T}).catch(()=>{});if(!S)break;I=await Bn._fromGetAccountInfoResponse(e,S,T)}else I=Bn._fromJSON(e,T);y!==c&&(g=I),c=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Ka(c,e,s):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ka(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Bv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kv(e))return"Blackberry";if(Qv(e))return"Webos";if(qv(e))return"Safari";if((e.includes("chrome/")||Hv(e))&&!e.includes("edge/"))return"Chrome";if(Fv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function Bv(r=$t()){return/firefox\//i.test(r)}function qv(r=$t()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hv(r=$t()){return/crios\//i.test(r)}function Gv(r=$t()){return/iemobile/i.test(r)}function Fv(r=$t()){return/android/i.test(r)}function Kv(r=$t()){return/blackberry/i.test(r)}function Qv(r=$t()){return/webos/i.test(r)}function Om(r=$t()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function DS(r=$t()){return Om(r)&&!!window.navigator?.standalone}function OS(){return Qb()&&document.documentMode===10}function Xv(r=$t()){return Om(r)||Fv(r)||Qv(r)||Kv(r)||/windows phone/i.test(r)||Gv(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(r,e=[]){let n;switch(r){case"Browser":n=W0($t());break;case"Worker":n=`${W0($t())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((d,g)=>{try{const p=e(c);d(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MS(r,e={}){return ro(r,"GET","/v2/passwordPolicy",ql(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=6;class PS{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??kS,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e_(this),this.idTokenSubscription=new e_(this),this.beforeStateQueue=new VS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hc(this,{idToken:e}),s=await Bn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Dn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_S()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(Fi(this));const n=e?kt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(Fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MS(this),n=new PS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await NS(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gi(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,l);return()=>{d=!0,p()}}else{const p=e.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&gS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hl(r){return kt(r)}class e_{constructor(e){this.auth=e,this.observer=null,this.addObserver=tA(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LS(r){Vm=r}function jS(r){return Vm.loadJS(r)}function zS(){return Vm.gapiScript}function BS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(r,e){const n=Im(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Ls(c,e??{}))return l;Qi(l,"already-initialized")}return n.initialize({options:e})}function HS(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Gi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function GS(r,e,n){const s=Hl(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=Zv(e),{host:d,port:g}=FS(e),p=g===null?"":`:${g}`,y={url:`${c}//${d}${p}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Ls(y,s.config.emulator)&&Ls(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,no(d)?(wv(`${c}//${d}${p}`),Rv("Auth",!0)):KS()}function Zv(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function FS(r){const e=Zv(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:t_(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:t_(d)}}}function t_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function KS(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,n){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(r,e){return Nm(r,"POST","/v1/accounts:signInWithIdp",ql(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="http://localhost";class zs extends $v{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=n;if(!s||!l)return null;const d=new zs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Qa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Qa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qa(e,n)}buildRequest(){const e={requestUri:QS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends Jv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Gl{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Nr.credential(n,s)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Gl{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.GITHUB_SIGN_IN_METHOD="github.com";Dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Gl{constructor(){super("twitter.com")}static credential(e,n){return zs._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Or.credential(n,s)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(r,e){return Nm(r,"POST","/v1/accounts:signUp",ql(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const c=await Bn._fromIdTokenResponse(e,s,l),d=n_(s);return new Yi({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=n_(s);return new Yi({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function n_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i_(r){if(Dn(r.app))return Promise.reject(Fi(r));const e=Hl(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Yi({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await XS(e,{returnSecureToken:!0}),s=await Yi._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends Ji{constructor(e,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Fc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new Fc(e,n,s,l)}}function Wv(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Fc._fromErrorAndOperation(r,c,e,s):c})}async function YS(r,e,n=!1){const s=await Ol(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Yi._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(r,e,n=!1){const{auth:s}=r;if(Dn(s.app))return Promise.reject(Fi(s));const l="reauthenticate";try{const c=await Ol(r,Wv(s,l,e,r),n);Te(c.idToken,s,"internal-error");const d=Dm(c.idToken);Te(d,s,"internal-error");const{sub:g}=d;return Te(r.uid===g,s,"user-mismatch"),Yi._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Qi(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S(r,e,n=!1){if(Dn(r.app))return Promise.reject(Fi(r));const s="signIn",l=await Wv(r,s,e),c=await Yi._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JS(r,e){return Nm(r,"POST","/v1/accounts:signInWithCustomToken",ql(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(r,e){if(Dn(r.app))return Promise.reject(Fi(r));const n=Hl(r),s=await JS(n,{token:e,returnSecureToken:!0}),l=await Yi._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(l.user),l}function ew(r,e,n,s){return kt(r).onIdTokenChanged(e,n,s)}function tw(r,e,n){return kt(r).beforeAuthStateChanged(e,n)}function nw(r,e,n,s){return kt(r).onAuthStateChanged(e,n,s)}function iw(r){return kt(r).signOut()}const Kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=1e3,sw=10;class t1 extends e1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);OS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,sw):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},rw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}t1.type="LOCAL";const aw=t1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends e1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}n1.type="SESSION";const i1=n1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new oh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async y=>y(n.origin,c)),p=await ow(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const y=Mm("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(I){const S=I;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(S.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function uw(r){ci().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function cw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hw(){return navigator?.serviceWorker?.controller||null}function fw(){return r1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firebaseLocalStorageDb",dw=1,Qc="firebaseLocalStorage",a1="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lh(r,e){return r.transaction([Qc],e?"readwrite":"readonly").objectStore(Qc)}function mw(){const r=indexedDB.deleteDatabase(s1);return new Fl(r).toPromise()}function nm(){const r=indexedDB.open(s1,dw);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Qc,{keyPath:a1})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Qc)?e(s):(s.close(),await mw(),e(await nm()))})})}async function r_(r,e,n){const s=lh(r,!0).put({[a1]:e,value:n});return new Fl(s).toPromise()}async function gw(r,e){const n=lh(r,!1).get(e),s=await new Fl(n).toPromise();return s===void 0?null:s.value}function s_(r,e){const n=lh(r,!0).delete(e);return new Fl(n).toPromise()}const pw=800,yw=3;class o1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>yw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(fw()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cw(),!this.activeServiceWorker)return;this.sender=new lw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nm();return await r_(e,Kc,"1"),await s_(e,Kc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>r_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>gw(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>s_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=lh(l,!1).getAll();return new Fl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o1.type="LOCAL";const _w=o1;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(r,e){return e?Gi(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km extends $v{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ew(r){return $S(r.auth,new km(r),r.bypassAuthState)}function Tw(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),ZS(n,new km(r),r.bypassAuthState)}async function bw(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),YS(n,new km(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ew;case"linkViaPopup":case"linkViaRedirect":return bw;case"reauthViaPopup":case"reauthViaRedirect":return Tw;default:Qi(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new Bl(2e3,1e4);class Ga extends l1{constructor(e,n,s,l,c){super(e,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Aw.get())};e()}}Ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="pendingRedirect",Dc=new Map;class ww extends l1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Dc.get(this.auth._key());if(!e){try{const s=await Rw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Dc.set(this.auth._key(),e)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Rw(r,e){const n=xw(e),s=Cw(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function Iw(r,e){Dc.set(r._key(),e)}function Cw(r){return Gi(r._redirectPersistence)}function xw(r){return Nc(Sw,r.config.apiKey,r.name)}async function Nw(r,e,n=!1){if(Dn(r.app))return Promise.reject(Fi(r));const s=Hl(r),l=vw(s,e),d=await new ww(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=600*1e3;class Ow{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Vw(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!u1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ui(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Dw&&this.cachedEventUids.clear(),this.cachedEventUids.has(a_(e))}saveEventToCache(e){this.cachedEventUids.add(a_(e)),this.lastProcessedEventTime=Date.now()}}function a_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function u1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Vw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(r,e={}){return ro(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pw=/^https?/;async function Uw(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Mw(r);for(const n of e)try{if(Lw(n))return}catch{}Qi(r,"unauthorized-domain")}function Lw(r){const e=em(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!Pw.test(n))return!1;if(kw.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=new Bl(3e4,6e4);function o_(){const r=ci().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function zw(r){return new Promise((e,n)=>{function s(){o_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o_(),n(ui(r,"network-request-failed"))},timeout:jw.get()})}if(ci().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ci().gapi?.load)s();else{const l=BS("iframefcb");return ci()[l]=()=>{gapi.load?s():n(ui(r,"network-request-failed"))},jS(`${zS()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Oc=null,e})}let Oc=null;function Bw(r){return Oc=Oc||zw(r),Oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new Bl(5e3,15e3),Hw="__/auth/iframe",Gw="emulator/auth/iframe",Fw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qw(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?xm(e,Gw):`https://${r.config.authDomain}/${Hw}`,s={apiKey:e.apiKey,appName:r.name,v:io},l=Kw.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${zl(s).slice(1)}`}async function Xw(r){const e=await Bw(r),n=ci().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:Qw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fw,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=ui(r,"network-request-failed"),g=ci().setTimeout(()=>{c(d)},qw.get());function p(){ci().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zw=500,$w=600,Jw="_blank",Ww="http://localhost";class l_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e2(r,e,n,s=Zw,l=$w){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...Yw,width:s.toString(),height:l.toString(),top:c,left:d},y=$t().toLowerCase();n&&(g=Hv(y)?Jw:n),Bv(y)&&(e=e||Ww,p.scrollbars="yes");const T=Object.entries(p).reduce((S,[z,F])=>`${S}${z}=${F},`,"");if(DS(y)&&g!=="_self")return t2(e||"",g),new l_(null);const I=window.open(e||"",g,T);Te(I,r,"popup-blocked");try{I.focus()}catch{}return new l_(I)}function t2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="__/auth/handler",i2="emulator/auth/handler",r2=encodeURIComponent("fac");async function u_(r,e,n,s,l,c){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:io,eventId:l};if(e instanceof Jv){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",eA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,I]of Object.entries({}))d[T]=I}if(e instanceof Gl){const T=e.getScopes().filter(I=>I!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),y=p?`#${r2}=${encodeURIComponent(p)}`:"";return`${s2(r)}?${zl(g).slice(1)}${y}`}function s2({config:r}){return r.emulator?xm(r,i2):`https://${r.authDomain}/${n2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="webStorageSupport";class a2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i1,this._completeRedirectFn=Nw,this._overrideRedirectResult=Iw}async _openPopup(e,n,s,l){Xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await u_(e,n,s,em(),l);return e2(e,c,Mm())}async _openRedirect(e,n,s,l){await this._originValidation(e);const c=await u_(e,n,s,em(),l);return uw(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Xi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Xw(e),s=new Ow(e);return n.register("authEvent",l=>(Te(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bd,{type:Bd},l=>{const c=l?.[0]?.[Bd];c!==void 0&&n(!!c),Qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Uw(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Xv()||qv()||Om()}}const o2=a2;var c_="@firebase/auth",h_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c2(r){Ya(new js("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yv(r)},y=new US(s,l,c,p);return HS(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ya(new js("auth-internal",e=>{const n=Hl(e.getProvider("auth").getImmediate());return(s=>new l2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(c_,h_,u2(r)),Pr(c_,h_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=300,f2=Sv("authIdTokenMaxAge")||h2;let f_=null;const d2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>f2)return;const l=n?.token;f_!==l&&(f_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function m2(r=Nv()){const e=Im(r,"auth");if(e.isInitialized())return e.getImmediate();const n=qS(r,{popupRedirectResolver:o2,persistence:[_w,aw,i1]}),s=Sv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=d2(c.toString());tw(n,d,()=>d(n.currentUser)),ew(n,g=>d(g))}}const l=bv("auth");return l&&GS(n,`http://${l}`),n}function g2(){return document.getElementsByTagName("head")?.[0]??document}LS({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=ui("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",g2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c2("Browser");var d_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ur,c1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,w){function C(){}C.prototype=w.prototype,M.D=w.prototype,M.prototype=new C,M.prototype.constructor=M,M.C=function(O,V,P){for(var x=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)x[Pt-2]=arguments[Pt];return w.prototype[V].apply(O,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,w,C){C||(C=0);var O=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)O[V]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(V=0;16>V;++V)O[V]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=M.g[0],C=M.g[1],V=M.g[2];var P=M.g[3],x=w+(P^C&(V^P))+O[0]+3614090360&4294967295;w=C+(x<<7&4294967295|x>>>25),x=P+(V^w&(C^V))+O[1]+3905402710&4294967295,P=w+(x<<12&4294967295|x>>>20),x=V+(C^P&(w^C))+O[2]+606105819&4294967295,V=P+(x<<17&4294967295|x>>>15),x=C+(w^V&(P^w))+O[3]+3250441966&4294967295,C=V+(x<<22&4294967295|x>>>10),x=w+(P^C&(V^P))+O[4]+4118548399&4294967295,w=C+(x<<7&4294967295|x>>>25),x=P+(V^w&(C^V))+O[5]+1200080426&4294967295,P=w+(x<<12&4294967295|x>>>20),x=V+(C^P&(w^C))+O[6]+2821735955&4294967295,V=P+(x<<17&4294967295|x>>>15),x=C+(w^V&(P^w))+O[7]+4249261313&4294967295,C=V+(x<<22&4294967295|x>>>10),x=w+(P^C&(V^P))+O[8]+1770035416&4294967295,w=C+(x<<7&4294967295|x>>>25),x=P+(V^w&(C^V))+O[9]+2336552879&4294967295,P=w+(x<<12&4294967295|x>>>20),x=V+(C^P&(w^C))+O[10]+4294925233&4294967295,V=P+(x<<17&4294967295|x>>>15),x=C+(w^V&(P^w))+O[11]+2304563134&4294967295,C=V+(x<<22&4294967295|x>>>10),x=w+(P^C&(V^P))+O[12]+1804603682&4294967295,w=C+(x<<7&4294967295|x>>>25),x=P+(V^w&(C^V))+O[13]+4254626195&4294967295,P=w+(x<<12&4294967295|x>>>20),x=V+(C^P&(w^C))+O[14]+2792965006&4294967295,V=P+(x<<17&4294967295|x>>>15),x=C+(w^V&(P^w))+O[15]+1236535329&4294967295,C=V+(x<<22&4294967295|x>>>10),x=w+(V^P&(C^V))+O[1]+4129170786&4294967295,w=C+(x<<5&4294967295|x>>>27),x=P+(C^V&(w^C))+O[6]+3225465664&4294967295,P=w+(x<<9&4294967295|x>>>23),x=V+(w^C&(P^w))+O[11]+643717713&4294967295,V=P+(x<<14&4294967295|x>>>18),x=C+(P^w&(V^P))+O[0]+3921069994&4294967295,C=V+(x<<20&4294967295|x>>>12),x=w+(V^P&(C^V))+O[5]+3593408605&4294967295,w=C+(x<<5&4294967295|x>>>27),x=P+(C^V&(w^C))+O[10]+38016083&4294967295,P=w+(x<<9&4294967295|x>>>23),x=V+(w^C&(P^w))+O[15]+3634488961&4294967295,V=P+(x<<14&4294967295|x>>>18),x=C+(P^w&(V^P))+O[4]+3889429448&4294967295,C=V+(x<<20&4294967295|x>>>12),x=w+(V^P&(C^V))+O[9]+568446438&4294967295,w=C+(x<<5&4294967295|x>>>27),x=P+(C^V&(w^C))+O[14]+3275163606&4294967295,P=w+(x<<9&4294967295|x>>>23),x=V+(w^C&(P^w))+O[3]+4107603335&4294967295,V=P+(x<<14&4294967295|x>>>18),x=C+(P^w&(V^P))+O[8]+1163531501&4294967295,C=V+(x<<20&4294967295|x>>>12),x=w+(V^P&(C^V))+O[13]+2850285829&4294967295,w=C+(x<<5&4294967295|x>>>27),x=P+(C^V&(w^C))+O[2]+4243563512&4294967295,P=w+(x<<9&4294967295|x>>>23),x=V+(w^C&(P^w))+O[7]+1735328473&4294967295,V=P+(x<<14&4294967295|x>>>18),x=C+(P^w&(V^P))+O[12]+2368359562&4294967295,C=V+(x<<20&4294967295|x>>>12),x=w+(C^V^P)+O[5]+4294588738&4294967295,w=C+(x<<4&4294967295|x>>>28),x=P+(w^C^V)+O[8]+2272392833&4294967295,P=w+(x<<11&4294967295|x>>>21),x=V+(P^w^C)+O[11]+1839030562&4294967295,V=P+(x<<16&4294967295|x>>>16),x=C+(V^P^w)+O[14]+4259657740&4294967295,C=V+(x<<23&4294967295|x>>>9),x=w+(C^V^P)+O[1]+2763975236&4294967295,w=C+(x<<4&4294967295|x>>>28),x=P+(w^C^V)+O[4]+1272893353&4294967295,P=w+(x<<11&4294967295|x>>>21),x=V+(P^w^C)+O[7]+4139469664&4294967295,V=P+(x<<16&4294967295|x>>>16),x=C+(V^P^w)+O[10]+3200236656&4294967295,C=V+(x<<23&4294967295|x>>>9),x=w+(C^V^P)+O[13]+681279174&4294967295,w=C+(x<<4&4294967295|x>>>28),x=P+(w^C^V)+O[0]+3936430074&4294967295,P=w+(x<<11&4294967295|x>>>21),x=V+(P^w^C)+O[3]+3572445317&4294967295,V=P+(x<<16&4294967295|x>>>16),x=C+(V^P^w)+O[6]+76029189&4294967295,C=V+(x<<23&4294967295|x>>>9),x=w+(C^V^P)+O[9]+3654602809&4294967295,w=C+(x<<4&4294967295|x>>>28),x=P+(w^C^V)+O[12]+3873151461&4294967295,P=w+(x<<11&4294967295|x>>>21),x=V+(P^w^C)+O[15]+530742520&4294967295,V=P+(x<<16&4294967295|x>>>16),x=C+(V^P^w)+O[2]+3299628645&4294967295,C=V+(x<<23&4294967295|x>>>9),x=w+(V^(C|~P))+O[0]+4096336452&4294967295,w=C+(x<<6&4294967295|x>>>26),x=P+(C^(w|~V))+O[7]+1126891415&4294967295,P=w+(x<<10&4294967295|x>>>22),x=V+(w^(P|~C))+O[14]+2878612391&4294967295,V=P+(x<<15&4294967295|x>>>17),x=C+(P^(V|~w))+O[5]+4237533241&4294967295,C=V+(x<<21&4294967295|x>>>11),x=w+(V^(C|~P))+O[12]+1700485571&4294967295,w=C+(x<<6&4294967295|x>>>26),x=P+(C^(w|~V))+O[3]+2399980690&4294967295,P=w+(x<<10&4294967295|x>>>22),x=V+(w^(P|~C))+O[10]+4293915773&4294967295,V=P+(x<<15&4294967295|x>>>17),x=C+(P^(V|~w))+O[1]+2240044497&4294967295,C=V+(x<<21&4294967295|x>>>11),x=w+(V^(C|~P))+O[8]+1873313359&4294967295,w=C+(x<<6&4294967295|x>>>26),x=P+(C^(w|~V))+O[15]+4264355552&4294967295,P=w+(x<<10&4294967295|x>>>22),x=V+(w^(P|~C))+O[6]+2734768916&4294967295,V=P+(x<<15&4294967295|x>>>17),x=C+(P^(V|~w))+O[13]+1309151649&4294967295,C=V+(x<<21&4294967295|x>>>11),x=w+(V^(C|~P))+O[4]+4149444226&4294967295,w=C+(x<<6&4294967295|x>>>26),x=P+(C^(w|~V))+O[11]+3174756917&4294967295,P=w+(x<<10&4294967295|x>>>22),x=V+(w^(P|~C))+O[2]+718787259&4294967295,V=P+(x<<15&4294967295|x>>>17),x=C+(P^(V|~w))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+P&4294967295}s.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var C=w-this.blockSize,O=this.B,V=this.h,P=0;P<w;){if(V==0)for(;P<=C;)l(this,M,P),P+=this.blockSize;if(typeof M=="string"){for(;P<w;)if(O[V++]=M.charCodeAt(P++),V==this.blockSize){l(this,O),V=0;break}}else for(;P<w;)if(O[V++]=M[P++],V==this.blockSize){l(this,O),V=0;break}}this.h=V,this.o+=w},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var C=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=C&255,C/=256;for(this.u(M),M=Array(16),w=C=0;4>w;++w)for(var O=0;32>O;O+=8)M[C++]=this.g[w]>>>O&255;return M};function c(M,w){var C=g;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=w(M)}function d(M,w){this.h=w;for(var C=[],O=!0,V=M.length-1;0<=V;V--){var P=M[V]|0;O&&P==w||(C[V]=P,O=!1)}this.g=C}var g={};function p(M){return-128<=M&&128>M?c(M,function(w){return new d([w|0],0>w?-1:0)}):new d([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return I;if(0>M)return G(y(-M));for(var w=[],C=1,O=0;M>=C;O++)w[O]=M/C|0,C*=4294967296;return new d(w,0)}function T(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return G(T(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(w,8)),O=I,V=0;V<M.length;V+=8){var P=Math.min(8,M.length-V),x=parseInt(M.substring(V,V+P),w);8>P?(P=y(Math.pow(w,P)),O=O.j(P).add(y(x))):(O=O.j(C),O=O.add(y(x)))}return O}var I=p(0),S=p(1),z=p(16777216);r=d.prototype,r.m=function(){if(te(this))return-G(this).m();for(var M=0,w=1,C=0;C<this.g.length;C++){var O=this.i(C);M+=(0<=O?O:4294967296+O)*w,w*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(F(this))return"0";if(te(this))return"-"+G(this).toString(M);for(var w=y(Math.pow(M,6)),C=this,O="";;){var V=ye(C,w).g;C=ue(C,V.j(w));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(M);if(C=V,F(C))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function F(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function te(M){return M.h==-1}r.l=function(M){return M=ue(this,M),te(M)?-1:F(M)?0:1};function G(M){for(var w=M.g.length,C=[],O=0;O<w;O++)C[O]=~M.g[O];return new d(C,~M.h).add(S)}r.abs=function(){return te(this)?G(this):this},r.add=function(M){for(var w=Math.max(this.g.length,M.g.length),C=[],O=0,V=0;V<=w;V++){var P=O+(this.i(V)&65535)+(M.i(V)&65535),x=(P>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);O=x>>>16,P&=65535,x&=65535,C[V]=x<<16|P}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ue(M,w){return M.add(G(w))}r.j=function(M){if(F(this)||F(M))return I;if(te(this))return te(M)?G(this).j(G(M)):G(G(this).j(M));if(te(M))return G(this.j(G(M)));if(0>this.l(z)&&0>M.l(z))return y(this.m()*M.m());for(var w=this.g.length+M.g.length,C=[],O=0;O<2*w;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<M.g.length;V++){var P=this.i(O)>>>16,x=this.i(O)&65535,Pt=M.i(V)>>>16,at=M.i(V)&65535;C[2*O+2*V]+=x*at,fe(C,2*O+2*V),C[2*O+2*V+1]+=P*at,fe(C,2*O+2*V+1),C[2*O+2*V+1]+=x*Pt,fe(C,2*O+2*V+1),C[2*O+2*V+2]+=P*Pt,fe(C,2*O+2*V+2)}for(O=0;O<w;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=w;O<2*w;O++)C[O]=0;return new d(C,0)};function fe(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function W(M,w){this.g=M,this.h=w}function ye(M,w){if(F(w))throw Error("division by zero");if(F(M))return new W(I,I);if(te(M))return w=ye(G(M),w),new W(G(w.g),G(w.h));if(te(w))return w=ye(M,G(w)),new W(G(w.g),w.h);if(30<M.g.length){if(te(M)||te(w))throw Error("slowDivide_ only works with positive integers.");for(var C=S,O=w;0>=O.l(M);)C=he(C),O=he(O);var V=Re(C,1),P=Re(O,1);for(O=Re(O,2),C=Re(C,2);!F(O);){var x=P.add(O);0>=x.l(M)&&(V=V.add(C),P=x),O=Re(O,1),C=Re(C,1)}return w=ue(M,V.j(w)),new W(V,w)}for(V=I;0<=M.l(w);){for(C=Math.max(1,Math.floor(M.m()/w.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=y(C),x=P.j(w);te(x)||0<x.l(M);)C-=O,P=y(C),x=P.j(w);F(P)&&(P=S),V=V.add(P),M=ue(M,x)}return new W(V,M)}r.A=function(M){return ye(this,M).h},r.and=function(M){for(var w=Math.max(this.g.length,M.g.length),C=[],O=0;O<w;O++)C[O]=this.i(O)&M.i(O);return new d(C,this.h&M.h)},r.or=function(M){for(var w=Math.max(this.g.length,M.g.length),C=[],O=0;O<w;O++)C[O]=this.i(O)|M.i(O);return new d(C,this.h|M.h)},r.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),C=[],O=0;O<w;O++)C[O]=this.i(O)^M.i(O);return new d(C,this.h^M.h)};function he(M){for(var w=M.g.length+1,C=[],O=0;O<w;O++)C[O]=M.i(O)<<1|M.i(O-1)>>>31;return new d(C,M.h)}function Re(M,w){var C=w>>5;w%=32;for(var O=M.g.length-C,V=[],P=0;P<O;P++)V[P]=0<w?M.i(P+C)>>>w|M.i(P+C+1)<<32-w:M.i(P+C);return new d(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,c1=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Ur=d}).apply(typeof d_<"u"?d_:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h1,El,f1,Vc,im,d1,m1,g1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)e:{var _=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in _))break e;_=_[U]}u=u[u.length-1],b=_[u],m=m(b),m!=b&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,b=!1,U={next:function(){if(!b&&_<u.length){var H=_++;return{value:m(H,u[H]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,_){return u.call.apply(u.bind,arguments)}function I(u,m,_){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function S(u,m,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:I,S.apply(null,arguments)}function z(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function F(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(b,U,H){for(var ie=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ie[ke-2]=arguments[ke];return m.prototype[U].apply(b,ie)}}function te(u){const m=u.length;if(0<m){const _=Array(m);for(let b=0;b<m;b++)_[b]=u[b];return _}return[]}function G(u,m){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const U=u.length||0,H=b.length||0;u.length=U+H;for(let ie=0;ie<H;ie++)u[U+ie]=b[ie]}else u.push(b)}}class ue{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function fe(u){return/^[\s\xa0]*$/.test(u)}function W(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function ye(u){return ye[" "](u),u}ye[" "]=function(){};var he=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function Re(u,m,_){for(const b in u)m.call(_,u[b],b,u)}function M(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function w(u){const m={};for(const _ in u)m[_]=u[_];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let _,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(_ in b)u[_]=b[_];for(let H=0;H<C.length;H++)_=C[H],Object.prototype.hasOwnProperty.call(b,_)&&(u[_]=b[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function P(u){g.setTimeout(()=>{throw u},0)}function x(){var u=ze;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Pt{constructor(){this.h=this.g=null}add(m,_){const b=at.get();b.set(m,_),this.h?this.h.next=b:this.g=b,this.h=b}}var at=new ue(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,de=!1,ze=new Pt,N=()=>{const u=g.Promise.resolve(void 0);re=()=>{u.then(J)}};var J=()=>{for(var u;u=x();){try{u.h.call(u.g)}catch(_){P(_)}var m=at;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}de=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ge=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u})();function Ce(u,m){if(ne.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(he){e:{try{ye(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}F(Ce,ne);var be={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Fn(u,m,_,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!b,this.ha=U,this.key=++Je,this.da=this.fa=!1}function Wi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function yi(u){this.src=u,this.g={},this.h=0}yi.prototype.add=function(u,m,_,b,U){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var ie=$r(u,m,b,U);return-1<ie?(m=u[ie],_||(m.fa=!1)):(m=new Fn(m,this.src,H,!!b,U),m.fa=_,u.push(m)),m};function Zr(u,m){var _=m.type;if(_ in u.g){var b=u.g[_],U=Array.prototype.indexOf.call(b,m,void 0),H;(H=0<=U)&&Array.prototype.splice.call(b,U,1),H&&(Wi(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function $r(u,m,_,b){for(var U=0;U<u.length;++U){var H=u[U];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==b)return U}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),uo={};function Wl(u,m,_,b,U){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Wl(u,m[H],_,b,U);return null}return _=eu(_),u&&u[Ct]?u.K(m,_,y(b)?!!b.capture:!1,U):_n(u,m,_,!1,b,U)}function _n(u,m,_,b,U,H){if(!m)throw Error("Invalid event type");var ie=y(U)?!!U.capture:!!U,ke=Xs(u);if(ke||(u[Jr]=ke=new yi(u)),_=ke.add(m,_,b,ie,H),_.proxy)return _;if(b=Ch(),_.proxy=b,b.src=u,b.listener=_,u.addEventListener)ge||(U=ie),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(Wr(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ch(){function u(_){return m.call(u.src,u.listener,_)}const m=xh;return u}function co(u,m,_,b,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)co(u,m[H],_,b,U);else b=y(b)?!!b.capture:!!b,_=eu(_),u&&u[Ct]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],_=$r(H,_,b,U),-1<_&&(Wi(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=Xs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=$r(m,_,b,U)),(_=-1<u?m[u]:null)&&Qs(_))}function Qs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ct])Zr(m.i,u);else{var _=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(_,b,u.capture):m.detachEvent?m.detachEvent(Wr(_),b):m.addListener&&m.removeListener&&m.removeListener(b),(_=Xs(m))?(Zr(_,u),_.h==0&&(_.src=null,m[Jr]=null)):Wi(u)}}}function Wr(u){return u in uo?uo[u]:uo[u]="on"+u}function xh(u,m){if(u.da)u=!0;else{m=new Ce(m,this);var _=u.listener,b=u.ha||u.src;u.fa&&Qs(u),u=_.call(b,m)}return u}function Xs(u){return u=u[Jr],u instanceof yi?u:null}var ho="__closure_events_fn_"+(1e9*Math.random()>>>0);function eu(u){return typeof u=="function"?u:(u[ho]||(u[ho]=function(m){return u.handleEvent(m)}),u[ho])}function ot(){se.call(this),this.i=new yi(this),this.M=this,this.F=null}F(ot,se),ot.prototype[Ct]=!0,ot.prototype.removeEventListener=function(u,m,_,b){co(this,u,m,_,b)};function Ge(u,m){var _,b=u.F;if(b)for(_=[];b;b=b.F)_.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new ne(m,u);else if(m instanceof ne)m.target=m.target||u;else{var U=m;m=new ne(b,u),O(m,U)}if(U=!0,_)for(var H=_.length-1;0<=H;H--){var ie=m.g=_[H];U=ln(ie,b,!0,m)&&U}if(ie=m.g=u,U=ln(ie,b,!0,m)&&U,U=ln(ie,b,!1,m)&&U,_)for(H=0;H<_.length;H++)ie=m.g=_[H],U=ln(ie,b,!1,m)&&U}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],b=0;b<_.length;b++)Wi(_[b]);delete u.g[m],u.h--}}this.F=null},ot.prototype.K=function(u,m,_,b){return this.i.add(String(u),m,!1,_,b)},ot.prototype.L=function(u,m,_,b){return this.i.add(String(u),m,!0,_,b)};function ln(u,m,_,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,H=0;H<m.length;++H){var ie=m[H];if(ie&&!ie.da&&ie.capture==_){var ke=ie.listener,At=ie.ha||ie.src;ie.fa&&Zr(u.i,ie),U=ke.call(At,b)!==!1&&U}}return U&&!b.defaultPrevented}function Ft(u,m,_){if(typeof u=="function")_&&(u=S(u,_));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function tu(u){u.g=Ft(()=>{u.g=null,u.i&&(u.i=!1,tu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Nh extends se{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:tu(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(u){se.call(this),this.h=u,this.g={}}F(es,se);var ts=[];function ns(u){Re(u.g,function(m,_){this.g.hasOwnProperty(_)&&Qs(m)},u),u.g={}}es.prototype.N=function(){es.aa.N.call(this),ns(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kn=g.JSON.stringify,Ys=g.JSON.parse,is=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function fo(){}fo.prototype.h=null;function mo(u){return u.h||(u.h=u.i())}function go(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){ne.call(this,"d")}F(vi,ne);function po(){ne.call(this,"c")}F(po,ne);var Kn={},yo=null;function er(){return yo=yo||new ot}Kn.La="serverreachability";function Zs(u){ne.call(this,Kn.La,u)}F(Zs,ne);function tr(u){const m=er();Ge(m,new Zs(m))}Kn.STAT_EVENT="statevent";function nu(u,m){ne.call(this,Kn.STAT_EVENT,u),this.stat=m}F(nu,ne);function nt(u){const m=er();Ge(m,new nu(m,u))}Kn.Ma="timingevent";function bt(u,m){ne.call(this,Kn.Ma,u),this.size=m}F(bt,ne);function gt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function _o(u,m,_,b,U,H){u.info(function(){if(u.g)if(H)for(var ie="",ke=H.split("&"),At=0;At<ke.length;At++){var Pe=ke[At].split("=");if(1<Pe.length){var Nt=Pe[0];Pe=Pe[1];var St=Nt.split("_");ie=2<=St.length&&St[1]=="type"?ie+(Nt+"="+Pe+"&"):ie+(Nt+"=redacted&")}}else ie=null;else ie=H;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+_+`
`+ie})}function Dh(u,m,_,b,U,H,ie){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+_+`
`+H+" "+ie})}function nr(u,m,_,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+rs(u,_)+(b?" "+b:"")})}function iu(u,m){u.info(function(){return"TIMEOUT: "+m})}vn.prototype.info=function(){};function rs(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var b=_[u];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return kn(_)}catch{return m}}var ir={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Xn(){}F(Xn,fo),Xn.prototype.g=function(){return new XMLHttpRequest},Xn.prototype.i=function(){return{}},Qn=new Xn;function Jt(u,m,_,b){this.j=u,this.i=m,this.l=_,this.R=b||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ct}function ct(){this.i=null,this.g="",this.h=!1}var vo={},$s={};function Pn(u,m,_){u.L=1,u.v=us(un(m)),u.m=_,u.P=!0,Ti(u,null)}function Ti(u,m){u.F=Date.now(),ss(u),u.A=un(u.v);var _=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),wo(_.i,"t",b),u.C=0,_=u.j.J,u.h=new ct,u.g=vu(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Nh(S(u.Y,u,u.g),u.O)),m=u.U,_=u.g,b=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(ts[0]=U.toString()),U=ts);for(var H=0;H<U.length;H++){var ie=Wl(_,U[H],b||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),tr(),_o(u.i,u.u,u.A,u.l,u.R,u.m)}Jt.prototype.ca=function(u){u=u.target;const m=this.M;m&&An(u)==3?m.j():this.Y(u)},Jt.prototype.Y=function(u){try{if(u==this.g)e:{const St=An(this.g);var m=this.g.Ba();const xi=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||St!=4||m==7||(m==8||0>=xi?tr(3):tr(2)),rr(this);var _=this.g.Z();this.X=_;t:if(ru(this)){var b=hu(this.g);u="";var U=b.length,H=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),Yn(this);var ie="";break t}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(b[m],{stream:!(H&&m==U-1)});b.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,Dh(this.i,this.u,this.A,this.l,this.R,St,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,At=this.g;if((ke=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fe(ke)){var Pe=ke;break t}}Pe=null}if(_=Pe)nr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,as(this,_);else{this.o=!1,this.s=3,nt(12),Ut(this),Yn(this);break e}}if(this.P){_=!0;let Lt;for(;!this.J&&this.C<ie.length;)if(Lt=su(this,ie),Lt==$s){St==4&&(this.s=4,nt(14),_=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==vo){this.s=4,nt(15),nr(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else nr(this.i,this.l,Lt,null),as(this,Lt);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ie.length!=0||this.h.h||(this.s=1,nt(16),_=!1),this.o=this.o&&_,!_)nr(this.i,this.l,ie,"[Invalid Chunked Response]"),Ut(this),Yn(this);else if(0<ie.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),ys(Nt),Nt.M=!0,nt(11))}}else nr(this.i,this.l,ie,null),as(this,ie);St==4&&Ut(this),this.o&&!this.J&&(St==4?pu(this.j,this):(this.o=!1,ss(this)))}else Ph(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Ut(this),Yn(this)}}}catch{}finally{}};function ru(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function su(u,m){var _=u.C,b=m.indexOf(`
`,_);return b==-1?$s:(_=Number(m.substring(_,b)),isNaN(_)?vo:(b+=1,b+_>m.length?$s:(m=m.slice(b,b+_),u.C=b+_,m)))}Jt.prototype.cancel=function(){this.J=!0,Ut(this)};function ss(u){u.S=Date.now()+u.I,au(u,u.I)}function au(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=gt(S(u.ba,u),m)}function rr(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Jt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(iu(this.i,this.A),this.L!=2&&(tr(),nt(17)),Ut(this),this.s=2,Yn(this)):au(this,this.S-u)};function Yn(u){u.j.G==0||u.J||pu(u.j,u)}function Ut(u){rr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ns(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function as(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Eo(_.h,u))){if(!u.K&&Eo(_.h,u)&&_.G==3){try{var b=_.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)ua(_),oa(_);else break e;No(_),nt(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=gt(S(_.Za,_),6e3));if(1>=Ws(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ci(_,11)}else if((u.K||_.g==u)&&ua(_),!fe(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let Pe=U[m];if(_.T=Pe[0],Pe=Pe[1],_.G==2)if(Pe[0]=="c"){_.K=Pe[1],_.ia=Pe[2];const Nt=Pe[3];Nt!=null&&(_.la=Nt,_.j.info("VER="+_.la));const St=Pe[4];St!=null&&(_.Aa=St,_.j.info("SVER="+_.Aa));const xi=Pe[5];xi!=null&&typeof xi=="number"&&0<xi&&(b=1.5*xi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Lt=u.g;if(Lt){const ni=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ni){var H=b.h;H.g||ni.indexOf("spdy")==-1&&ni.indexOf("quic")==-1&&ni.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ea(H,H.h),H.h=null))}if(b.D){const Oo=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Oo&&(b.ya=Oo,Qe(b.I,b.D,Oo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var ie=u;if(b.qa=_u(b,b.J?b.ia:null,b.W),ie.K){Wt(b.h,ie);var ke=ie,At=b.L;At&&(ke.I=At),ke.B&&(rr(ke),ss(ke)),b.g=ie}else mu(b);0<_.i.length&&la(_)}else Pe[0]!="stop"&&Pe[0]!="close"||Ci(_,7);else _.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Ci(_,7):Co(_):Pe[0]!="noop"&&_.l&&_.l.ta(Pe),_.v=0)}}tr(4)}catch{}}var ou=class{constructor(u,m){this.g=u,this.map=m}};function bi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Js(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ws(u){return u.h?1:u.g?u.g.size:0}function Eo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ea(u,m){u.g?u.g.add(m):u.h=m}function Wt(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bi.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function To(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return te(u.i)}function Oh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,b=0;b<_;b++)m.push(u[b]);return m}m=[],_=0;for(b in u)m[_++]=u[b];return m}function ta(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const b in u)m[_++]=b;return m}}}function bo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=ta(u),b=Oh(u),U=b.length,H=0;H<U;H++)m.call(void 0,b[H],_&&_[H],u)}var os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vh(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var b=u[_].indexOf("="),U=null;if(0<=b){var H=u[_].substring(0,b);U=u[_].substring(b+1)}else H=u[_];m(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function pt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pt){this.h=u.h,ls(this,u.j),this.o=u.o,this.g=u.g,sr(this,u.s),this.l=u.l;var m=u.i,_=new Si;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ai(this,_),this.m=u.m}else u&&(m=String(u).match(os))?(this.h=!1,ls(this,m[1]||"",!0),this.o=En(m[2]||""),this.g=En(m[3]||"",!0),sr(this,m[4]),this.l=En(m[5]||"",!0),Ai(this,m[6]||"",!0),this.m=En(m[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}pt.prototype.toString=function(){var u=[],m=this.j;m&&u.push(cs(m,Ao,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(cs(m,Ao,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(cs(_,_.charAt(0)=="/"?Mh:So,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",cs(_,na)),u.join("")};function un(u){return new pt(u)}function ls(u,m,_){u.j=_?En(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function sr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ai(u,m,_){m instanceof Si?(u.i=m,uu(u.i,u.h)):(_||(m=cs(m,kh)),u.i=new Si(m,u.h))}function Qe(u,m,_){u.i.set(m,_)}function us(u){return Qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function En(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function cs(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,lu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function lu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ao=/[#\/\?@]/g,So=/[#\?:]/g,Mh=/[#\?]/g,kh=/[#\?@]/g,na=/#/g;function Si(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Vh(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Si.prototype,r.add=function(u,m){Tn(this),this.i=null,u=Zn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function wi(u,m){Tn(u),m=Zn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ri(u,m){return Tn(u),m=Zn(u,m),u.g.has(m)}r.forEach=function(u,m){Tn(this),this.g.forEach(function(_,b){_.forEach(function(U){u.call(m,U,b,this)},this)},this)},r.na=function(){Tn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let b=0;b<m.length;b++){const U=u[b];for(let H=0;H<U.length;H++)_.push(m[b])}return _},r.V=function(u){Tn(this);let m=[];if(typeof u=="string")Ri(this,u)&&(m=m.concat(this.g.get(Zn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return Tn(this),this.i=null,u=Zn(this,u),Ri(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function wo(u,m,_){wi(u,m),0<_.length&&(u.i=null,u.g.set(Zn(u,m),te(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var b=m[_];const H=encodeURIComponent(String(b)),ie=this.V(b);for(b=0;b<ie.length;b++){var U=H;ie[b]!==""&&(U+="="+encodeURIComponent(String(ie[b]))),u.push(U)}}return this.i=u.join("&")};function Zn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function uu(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(_,b){var U=b.toLowerCase();b!=U&&(wi(this,b),wo(this,U,_))},u)),u.j=m}function hs(u,m){const _=new vn;if(g.Image){const b=new Image;b.onload=z(bn,_,"TestLoadImage: loaded",!0,m,b),b.onerror=z(bn,_,"TestLoadImage: error",!1,m,b),b.onabort=z(bn,_,"TestLoadImage: abort",!1,m,b),b.ontimeout=z(bn,_,"TestLoadImage: timeout",!1,m,b),g.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Un(u,m){const _=new vn,b=new AbortController,U=setTimeout(()=>{b.abort(),bn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(H=>{clearTimeout(U),H.ok?bn(_,"TestPingServer: ok",!0,m):bn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),bn(_,"TestPingServer: error",!1,m)})}function bn(u,m,_,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(_)}catch{}}function fs(){this.g=new is}function $n(u,m,_){const b=_||"";try{bo(u,function(U,H){let ie=U;y(U)&&(ie=kn(U)),m.push(b+H+"="+encodeURIComponent(ie))})}catch(U){throw m.push(b+"type="+encodeURIComponent("_badmap")),U}}function ar(u){this.l=u.Ub||null,this.j=u.eb||!1}F(ar,fo),ar.prototype.g=function(){return new Ii(this.l,this.j)},ar.prototype.i=(function(u){return function(){return u}})({});function Ii(u,m){ot.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Ii,ot),r=Ii.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Wn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ro(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ro(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Jn(this):Wn(this),this.readyState==3&&Ro(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Jn(this))},r.Qa=function(u){this.g&&(this.response=u,Jn(this))},r.ga=function(){this.g&&Jn(this)};function Jn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Wn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Io(u){let m="";return Re(u,function(_,b){m+=b,m+=":",m+=_,m+=`\r
`}),m}function xt(u,m,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Io(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Qe(u,m,_))}function qe(u){ot.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(qe,ot);var ia=/^https?$/i,ds=["POST","PUT"];r=qe.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?mo(this.o):mo(Qn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){cu(this,H);return}if(u=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)_.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())_.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ds,m,void 0))||b||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of _)this.g.setRequestHeader(H,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ms(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){cu(this,H)}};function cu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ra(u),ei(u)}function ra(u){u.A||(u.A=!0,Ge(u,"complete"),Ge(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ge(this,"complete"),Ge(this,"abort"),ei(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?sa(this):this.bb())},r.bb=function(){sa(this)};function sa(u){if(u.h&&typeof d<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)Ft(u.Ea,0,u);else if(Ge(u,"readystatechange"),An(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var b;if(b=ie===0){var U=String(u.D).match(os)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),b=!ia.test(U?U.toLowerCase():"")}_=b}if(_)Ge(u,"complete"),Ge(u,"success");else{u.m=6;try{var H=2<An(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",ra(u)}}finally{ei(u)}}}}function ei(u,m){if(u.g){ms(u);const _=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ge(u,"ready");try{_.onreadystatechange=b}catch{}}}function ms(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ys(m)}};function hu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ph(u){const m={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(fe(u[b]))continue;var _=V(u[b]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[U]||[];m[U]=H,H.push(_)}M(m,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function aa(u){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gs("baseRetryDelayMs",5e3,u),this.cb=gs("retryDelaySeedMs",1e4,u),this.Wa=gs("forwardChannelMaxRetries",2,u),this.wa=gs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(u&&u.concurrentRequestLimit),this.Da=new fs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=aa.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,b){nt(0),this.W=u,this.H=m||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=_u(this,null,this.W),la(this)};function Co(u){if(fu(u),u.G==3){var m=u.U++,_=un(u.I);if(Qe(_,"SID",u.K),Qe(_,"RID",m),Qe(_,"TYPE","terminate"),ps(u,_),m=new Jt(u,u.j,m),m.L=2,m.v=us(un(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=vu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ss(m)}yu(u)}function oa(u){u.g&&(ys(u),u.g.cancel(),u.g=null)}function fu(u){oa(u),u.u&&(g.clearTimeout(u.u),u.u=null),ua(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function la(u){if(!Js(u.h)&&!u.s){u.s=!0;var m=u.Ga;re||N(),de||(re(),de=!0),ze.add(m,u),u.B=0}}function Uh(u,m){return Ws(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=gt(S(u.Ga,u,m),Do(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Jt(this,this.j,u);let H=this.o;if(this.S&&(H?(H=w(H),O(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=du(this,U,m),_=un(this.I),Qe(_,"RID",u),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),ps(this,_),H&&(this.O?m="headers="+encodeURIComponent(String(Io(H)))+"&"+m:this.m&&xt(_,this.m,H)),ea(this.h,U),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",m),Qe(_,"SID","null"),U.T=!0,Pn(U,_,null)):Pn(U,_,m),this.G=2}}else this.G==3&&(u?xo(this,u):this.i.length==0||Js(this.h)||xo(this))};function xo(u,m){var _;m?_=m.l:_=u.U++;const b=un(u.I);Qe(b,"SID",u.K),Qe(b,"RID",_),Qe(b,"AID",u.T),ps(u,b),u.m&&u.o&&xt(b,u.m,u.o),_=new Jt(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=du(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ea(u.h,_),Pn(_,b,m)}function ps(u,m){u.H&&Re(u.H,function(_,b){Qe(m,b,_)}),u.l&&bo({},function(_,b){Qe(m,b,_)})}function du(u,m,_){_=Math.min(u.i.length,_);var b=u.l?S(u.l.Na,u.l,u):null;e:{var U=u.i;let H=-1;for(;;){const ie=["count="+_];H==-1?0<_?(H=U[0].g,ie.push("ofs="+H)):H=0:ie.push("ofs="+H);let ke=!0;for(let At=0;At<_;At++){let Pe=U[At].g;const Nt=U[At].map;if(Pe-=H,0>Pe)H=Math.max(0,U[At].g-100),ke=!1;else try{$n(Nt,ie,"req"+Pe+"_")}catch{b&&b(Nt)}}if(ke){b=ie.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,b}function mu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;re||N(),de||(re(),de=!0),ze.add(m,u),u.v=0}}function No(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=gt(S(u.Fa,u),Do(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=gt(S(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),oa(this),gu(this))};function ys(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function gu(u){u.g=new Jt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=un(u.qa);Qe(m,"RID","rpc"),Qe(m,"SID",u.K),Qe(m,"AID",u.T),Qe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qe(m,"TO",u.ja),Qe(m,"TYPE","xmlhttp"),ps(u,m),u.m&&u.o&&xt(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=us(un(m)),_.m=null,_.P=!0,Ti(_,u)}r.Za=function(){this.C!=null&&(this.C=null,oa(this),No(this),nt(19))};function ua(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function pu(u,m){var _=null;if(u.g==m){ua(u),ys(u),u.g=null;var b=2}else if(Eo(u.h,m))_=m.D,Wt(u.h,m),b=1;else return;if(u.G!=0){if(m.o)if(b==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;b=er(),Ge(b,new bt(b,_)),la(u)}else mu(u);else if(U=m.s,U==3||U==0&&0<m.X||!(b==1&&Uh(u,m)||b==2&&No(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:Ci(u,5);break;case 4:Ci(u,10);break;case 3:Ci(u,6);break;default:Ci(u,2)}}}function Do(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ci(u,m){if(u.j.info("Error code "+m),m==2){var _=S(u.fb,u),b=u.Xa;const U=!b;b=new pt(b||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ls(b,"https"),us(b),U?hs(b.toString(),_):Un(b.toString(),_)}else nt(2);u.G=0,u.l&&u.l.sa(m),yu(u),fu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function yu(u){if(u.G=0,u.ka=[],u.l){const m=To(u.h);(m.length!=0||u.i.length!=0)&&(G(u.ka,m),G(u.ka,u.i),u.h.i.length=0,te(u.i),u.i.length=0),u.l.ra()}}function _u(u,m,_){var b=_ instanceof pt?un(_):new pt(_);if(b.g!="")m&&(b.g=m+"."+b.g),sr(b,b.s);else{var U=g.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var H=new pt(null);b&&ls(H,b),m&&(H.g=m),U&&sr(H,U),_&&(H.l=_),b=H}return _=u.D,m=u.ya,_&&m&&Qe(b,_,m),Qe(b,"VER",u.la),ps(u,b),b}function vu(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qe(new ar({eb:_})):new qe(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}r=Eu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ca(){}ca.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ot.call(this),this.g=new aa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!fe(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!fe(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ti(this)}F(en,ot),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Co(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=kn(u),u=_);m.i.push(new ou(m.Ya++,u)),m.G==3&&la(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,en.aa.N.call(this)};function Tu(u){vi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}F(Tu,vi);function bu(){po.call(this),this.status=1}F(bu,po);function ti(u){this.g=u}F(ti,Eu),ti.prototype.ua=function(){Ge(this.g,"a")},ti.prototype.ta=function(u){Ge(this.g,new Tu(u))},ti.prototype.sa=function(u){Ge(this.g,new bu)},ti.prototype.ra=function(){Ge(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,g1=function(){return new ca},m1=function(){return er()},d1=Kn,im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ir.NO_ERROR=0,ir.TIMEOUT=8,ir.HTTP_ERROR=6,Vc=ir,Ei.COMPLETE="complete",f1=Ei,go.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",ot.prototype.listen=ot.prototype.K,El=go,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,h1=qe}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const m_="@firebase/firestore",g_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new wm("@firebase/firestore");function za(){return Bs.logLevel}function oe(r,...e){if(Bs.logLevel<=Oe.DEBUG){const n=e.map(Pm);Bs.debug(`Firestore (${so}): ${r}`,...n)}}function Zi(r,...e){if(Bs.logLevel<=Oe.ERROR){const n=e.map(Pm);Bs.error(`Firestore (${so}): ${r}`,...n)}}function Za(r,...e){if(Bs.logLevel<=Oe.WARN){const n=e.map(Pm);Bs.warn(`Firestore (${so}): ${r}`,...n)}}function Pm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,p1(r,s,n)}function p1(r,e,n){let s=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Zi(s),new Error(s)}function He(r,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||p1(e,l,s)}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Yt.UNAUTHENTICATED)))}shutdown(){}}class y2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class _2{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Lr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Lr)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new y1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class v2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new v2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Yt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class p_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new p_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new p_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=b2(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=e.charAt(l[c]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function rm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return qd(l)===qd(c)?Ve(l,c):qd(l)?1:-1}return Ve(r.length,e.length)}const A2=55296,S2=57343;function qd(r){const e=r.charCodeAt(0);return e>=A2&&e<=S2}function $a(r,e,n){return r.length===e.length&&r.every(((s,l)=>n(s,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="__name__";class li{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const c=li.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Ve(e.length,n.length)}static compareSegments(e,n){const s=li.isNumericId(e),l=li.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?li.extractNumericId(e).compare(li.extractNumericId(n)):rm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ur.fromString(e.substring(4,e.length-2))}}class et extends li{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const w2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends li{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return w2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y_}static keyField(){return new Ht([y_])}static fromServerFormat(e){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ae(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ae(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ae(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new ae(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(et.fromString(e))}static fromName(e){return new me(et.fromString(e).popFirst(5))}static empty(){return new me(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(r,e,n){if(!n)throw new ae(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function R2(r,e,n,s){if(e===!0&&s===!0)throw new ae(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function __(r){if(!me.isDocumentKey(r))throw new ae(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function v_(r){if(me.isDocumentKey(r))throw new ae(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function v1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function uh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function Vn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ae(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uh(r);throw new ae(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Kl(r,e){if(!v1(r))throw new ae(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new ae(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=-62135596800,T_=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*T_);return new tt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<E_)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T_}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kl(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-E_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:Tt("string",tt._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new tt(0,0))}static max(){return new Ae(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=-1;function I2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Ae.fromTimestamp(s===1e9?new tt(n+1,0):new tt(n,s));return new zr(l,me.empty(),e)}function C2(r){return new zr(r.readTime,r.key,Vl)}class zr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new zr(Ae.min(),me.empty(),Vl)}static max(){return new zr(Ae.max(),me.empty(),Vl)}}function x2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==N2)throw r;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):$.reject(n)}static resolve(e){return new $(((n,s)=>{n(e)}))}static reject(e){return new $(((n,s)=>{s(e)}))}static waitFor(e){return new $(((n,s)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&n()}),(p=>s(p)))})),d=!0,c===l&&n()}))}static or(e){let n=$.resolve(!1);for(const s of e)n=n.next((l=>l?$.resolve(l):s()));return n}static forEach(e,n){const s=[];return e.forEach(((l,c)=>{s.push(n.call(this,l,c))})),this.waitFor(s)}static mapArray(e,n){return new $(((s,l)=>{const c=e.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;n(e[y]).next((T=>{d[y]=T,++g,g===c&&s(d)}),(T=>l(T)))}}))}static doWhile(e,n){return new $(((s,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):s()};c()}))}}function O2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ch.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=-1;function hh(r){return r==null}function Xc(r){return r===0&&1/r==-1/0}function V2(r){return typeof r=="number"&&Number.isInteger(r)&&!Xc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="";function M2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=b_(e)),e=k2(r.get(n),e);return b_(e)}function k2(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case E1:n+="";break;default:n+=c}}return n}function b_(r){return r+E1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Xr(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function T1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,l,c){this.key=e,this.value=n,this.color=s??qt.RED,this.left=l??qt.EMPTY,this.right=c??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,c){return new qt(e??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return qt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,l,c){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new S_(this.data.getIterator())}getIteratorFrom(e){return new S_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class S_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new yn([])}unionWith(e){let n=new It(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $a(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new b1("Invalid base64 string: "+c):c}})(e);return new Gt(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const P2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(r){if(He(!!r,39018),typeof r=="string"){let e=0;const n=P2.exec(r);if(He(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(r.seconds),nanos:dt(r.nanos)}}function dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function qr(r){return typeof r=="string"?Gt.fromBase64String(r):Gt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="server_timestamp",S1="__type__",w1="__previous_value__",R1="__local_write_time__";function jm(r){return(r?.mapValue?.fields||{})[S1]?.stringValue===A1}function fh(r){const e=r.mapValue.fields[w1];return jm(e)?fh(e):e}function Ml(r){const e=Br(r.mapValue.fields[R1].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n,s,l,c,d,g,p,y,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=T}}const Yc="(default)";class kl{constructor(e,n){this.projectId=e,this.database=n||Yc}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="__type__",L2="__max__",Rc={mapValue:{}},C1="__vector__",Zc="value";function Hr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?jm(r)?4:z2(r)?9007199254740991:j2(r)?10:11:ve(28295,{value:r})}function gi(r,e){if(r===e)return!0;const n=Hr(r);if(n!==Hr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ml(r).isEqual(Ml(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Br(l.timestampValue),g=Br(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return qr(l.bytesValue).isEqual(qr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return dt(l.geoPointValue.latitude)===dt(c.geoPointValue.latitude)&&dt(l.geoPointValue.longitude)===dt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return dt(l.integerValue)===dt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=dt(l.doubleValue),g=dt(c.doubleValue);return d===g?Xc(d)===Xc(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return $a(r.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(A_(d)!==A_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!gi(d[p],g[p])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function Pl(r,e){return(r.values||[]).find((n=>gi(n,e)))!==void 0}function Ja(r,e){if(r===e)return 0;const n=Hr(r),s=Hr(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=dt(c.integerValue||c.doubleValue),p=dt(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,e);case 3:return w_(r.timestampValue,e.timestampValue);case 4:return w_(Ml(r),Ml(e));case 5:return rm(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=qr(c),p=qr(d);return g.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const T=Ve(g[y],p[y]);if(T!==0)return T}return Ve(g.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Ve(dt(c.latitude),dt(d.latitude));return g!==0?g:Ve(dt(c.longitude),dt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return R_(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},p=d.fields||{},y=g[Zc]?.arrayValue,T=p[Zc]?.arrayValue,I=Ve(y?.values?.length||0,T?.values?.length||0);return I!==0?I:R_(y,T)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Rc.mapValue&&d===Rc.mapValue)return 0;if(c===Rc.mapValue)return 1;if(d===Rc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=d.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let I=0;I<p.length&&I<T.length;++I){const S=rm(p[I],T[I]);if(S!==0)return S;const z=Ja(g[p[I]],y[T[I]]);if(z!==0)return z}return Ve(p.length,T.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function w_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=Br(r),s=Br(e),l=Ve(n.seconds,s.seconds);return l!==0?l:Ve(n.nanos,s.nanos)}function R_(r,e){const n=r.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=Ja(n[l],s[l]);if(c)return c}return Ve(n.length,s.length)}function Wa(r){return sm(r)}function sm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Br(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return qr(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=sm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${sm(n.fields[d])}`;return l+"}"})(r.mapValue):ve(61005,{value:r})}function Mc(r){switch(Hr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fh(r);return e?16+Mc(e):16;case 5:return 2*r.stringValue.length;case 6:return qr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Mc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Xr(s.fields,((c,d)=>{l+=c.length+Mc(d)})),l})(r.mapValue);default:throw ve(13486,{value:r})}}function I_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function am(r){return!!r&&"integerValue"in r}function zm(r){return!!r&&"arrayValue"in r}function C_(r){return!!r&&"nullValue"in r}function x_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function kc(r){return!!r&&"mapValue"in r}function j2(r){return(r?.mapValue?.fields||{})[I1]?.stringValue===C1}function Il(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Xr(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Il(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Il(r.arrayValue.values[n]);return e}return{...r}}function z2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===L2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!kc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Il(n)}setAll(e){let n=Ht.emptyPath(),s={},l=[];e.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=Il(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(e){const n=this.field(e.popLast());kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){Xr(n,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new on(Il(this.value))}}function x1(r){const e=[];return Xr(r.fields,((n,s)=>{const l=new Ht([n]);if(kc(s)){const c=x1(s.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,l,c,d,g){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Zt(e,0,Ae.min(),Ae.min(),Ae.min(),on.empty(),0)}static newFoundDocument(e,n,s,l){return new Zt(e,1,n,Ae.min(),s,l,0)}static newNoDocument(e,n){return new Zt(e,2,n,Ae.min(),Ae.min(),on.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Ae.min(),Ae.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n){this.position=e,this.inclusive=n}}function N_(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?s=me.comparator(me.fromName(d.referenceValue),n.key):s=Ja(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function D_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!gi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n="asc"){this.field=e,this.dir=n}}function B2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{}class Et extends N1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new H2(e,n,s):n==="array-contains"?new K2(e,s):n==="in"?new Q2(e,s):n==="not-in"?new X2(e,s):n==="array-contains-any"?new Y2(e,s):new Et(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new G2(e,s):new F2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ja(n,this.value)):n!==null&&Hr(this.value)===Hr(n)&&this.matchesComparison(Ja(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends N1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Gn(e,n)}matches(e){return D1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function D1(r){return r.op==="and"}function O1(r){return q2(r)&&D1(r)}function q2(r){for(const e of r.filters)if(e instanceof Gn)return!1;return!0}function om(r){if(r instanceof Et)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(O1(r))return r.filters.map((e=>om(e))).join(",");{const e=r.filters.map((n=>om(n))).join(",");return`${r.op}(${e})`}}function V1(r,e){return r instanceof Et?(function(s,l){return l instanceof Et&&s.op===l.op&&s.field.isEqual(l.field)&&gi(s.value,l.value)})(r,e):r instanceof Gn?(function(s,l){return l instanceof Gn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,g)=>c&&V1(d,l.filters[g])),!0):!1})(r,e):void ve(19439)}function M1(r){return r instanceof Et?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wa(n.value)}`})(r):r instanceof Gn?(function(n){return n.op.toString()+" {"+n.getFilters().map(M1).join(" ,")+"}"})(r):"Filter"}class H2 extends Et{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class G2 extends Et{constructor(e,n){super(e,"in",n),this.keys=k1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class F2 extends Et{constructor(e,n){super(e,"not-in",n),this.keys=k1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function k1(r,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class K2 extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zm(n)&&Pl(n.arrayValue,this.value)}}class Q2 extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pl(this.value.arrayValue,n)}}class X2 extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pl(this.value.arrayValue,n)}}class Y2 extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Pl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n=null,s=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function O_(r,e=null,n=[],s=[],l=null,c=null,d=null){return new Z2(r,e,n,s,l,c,d)}function Bm(r){const e=Se(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>om(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Wa(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Wa(s))).join(",")),e.Te=n}return e.Te}function qm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!B2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!V1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!D_(r.startAt,e.startAt)&&D_(r.endAt,e.endAt)}function lm(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $2(r,e,n,s,l,c,d,g){return new Ql(r,e,n,s,l,c,d,g)}function Hm(r){return new Ql(r)}function V_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function P1(r){return r.collectionGroup!==null}function Cl(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new It(Ht.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Jc(c,s))})),n.has(Ht.keyField().canonicalString())||e.Ie.push(new Jc(Ht.keyField(),s))}return e.Ie}function hi(r){const e=Se(r);return e.Ee||(e.Ee=J2(e,Cl(r))),e.Ee}function J2(r,e){if(r.limitType==="F")return O_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Jc(l.field,c)}));const n=r.endAt?new $c(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new $c(r.startAt.position,r.startAt.inclusive):null;return O_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function um(r,e){const n=r.filters.concat([e]);return new Ql(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function cm(r,e,n){return new Ql(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function dh(r,e){return qm(hi(r),hi(e))&&r.limitType===e.limitType}function U1(r){return`${Bm(hi(r))}|lt:${r.limitType}`}function Ba(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>M1(l))).join(", ")}]`),hh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>Wa(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>Wa(l))).join(",")),`Target(${s})`})(hi(r))}; limitType=${r.limitType})`}function mh(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):me.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of Cl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(d,g,p){const y=N_(d,g,p);return d.inclusive?y<=0:y<0})(s.startAt,Cl(s),l)||s.endAt&&!(function(d,g,p){const y=N_(d,g,p);return d.inclusive?y>=0:y>0})(s.endAt,Cl(s),l))})(r,e)}function W2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function L1(r){return(e,n)=>{let s=!1;for(const l of Cl(r)){const c=eR(l,e,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function eR(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):(function(c,d,g){const p=d.data.field(c),y=g.data.field(c);return p!==null&&y!==null?Ja(p,y):ve(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Xr(this.inner,((n,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return T1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=new st(me.comparator);function $i(){return tR}const j1=new st(me.comparator);function Tl(...r){let e=j1;for(const n of r)e=e.insert(n.key,n);return e}function z1(r){let e=j1;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ks(){return xl()}function B1(){return xl()}function xl(){return new Hs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const nR=new st(me.comparator),iR=new It(me.comparator);function Me(...r){let e=iR;for(const n of r)e=e.add(n);return e}const rR=new It(Ve);function sR(){return rR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function q1(r){return{integerValue:""+r}}function aR(r,e){return V2(e)?q1(e):Gm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this._=void 0}}function oR(r,e,n){return r instanceof Wc?(function(l,c){const d={fields:{[S1]:{stringValue:A1},[R1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&jm(c)&&(c=fh(c)),c&&(d.fields[w1]=c),{mapValue:d}})(n,e):r instanceof Ul?G1(r,e):r instanceof Ll?F1(r,e):(function(l,c){const d=H1(l,c),g=M_(d)+M_(l.Ae);return am(d)&&am(l.Ae)?q1(g):Gm(l.serializer,g)})(r,e)}function lR(r,e,n){return r instanceof Ul?G1(r,e):r instanceof Ll?F1(r,e):n}function H1(r,e){return r instanceof eh?(function(s){return am(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Wc extends gh{}class Ul extends gh{constructor(e){super(),this.elements=e}}function G1(r,e){const n=K1(e);for(const s of r.elements)n.some((l=>gi(l,s)))||n.push(s);return{arrayValue:{values:n}}}class Ll extends gh{constructor(e){super(),this.elements=e}}function F1(r,e){let n=K1(e);for(const s of r.elements)n=n.filter((l=>!gi(l,s)));return{arrayValue:{values:n}}}class eh extends gh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function M_(r){return dt(r.integerValue||r.doubleValue)}function K1(r){return zm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function uR(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof Ul&&l instanceof Ul||s instanceof Ll&&l instanceof Ll?$a(s.elements,l.elements,gi):s instanceof eh&&l instanceof eh?gi(s.Ae,l.Ae):s instanceof Wc&&l instanceof Wc})(r.transform,e.transform)}class cR{constructor(e,n){this.version=e,this.transformResults=n}}class Mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ph{}function Q1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Fm(r.key,Mn.none()):new Xl(r.key,r.data,Mn.none());{const n=r.data,s=on.empty();let l=new It(Ht.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Yr(r.key,s,new yn(l.toArray()),Mn.none())}}function hR(r,e,n){r instanceof Xl?(function(l,c,d){const g=l.value.clone(),p=P_(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,n):r instanceof Yr?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=P_(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(X1(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Nl(r,e,n,s){return r instanceof Xl?(function(c,d,g,p){if(!Pc(c.precondition,d))return g;const y=c.value.clone(),T=U_(c.fieldTransforms,p,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof Yr?(function(c,d,g,p){if(!Pc(c.precondition,d))return g;const y=U_(c.fieldTransforms,p,d),T=d.data;return T.setAll(X1(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((I=>I.field)))})(r,e,n,s):(function(c,d,g){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,n)}function fR(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=H1(s.transform,l||null);c!=null&&(n===null&&(n=on.empty()),n.set(s.field,c))}return n||null}function k_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&$a(s,l,((c,d)=>uR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Xl extends ph{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Yr extends ph{constructor(e,n,s,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function X1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function P_(r,e,n){const s=new Map;He(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,g=e.data.field(c.field);s.set(c.field,lR(d,g,n[l]))}return s}function U_(r,e,n){const s=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);s.set(l.field,oR(c,d,e))}return s}class Fm extends ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dR extends ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&hR(c,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Nl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Nl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=B1();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const p=Q1(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Me())}isEqual(e){return this.batchId===e.batchId&&$a(this.mutations,e.mutations,((n,s)=>k_(n,s)))&&$a(this.baseMutations,e.baseMutations,((n,s)=>k_(n,s)))}}class Km{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return nR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Km(e,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Le;function yR(r){switch(r){case Y.OK:return ve(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function Y1(r){if(r===void 0)return Zi("GRPC error has no .code"),Y.UNKNOWN;switch(r){case vt.OK:return Y.OK;case vt.CANCELLED:return Y.CANCELLED;case vt.UNKNOWN:return Y.UNKNOWN;case vt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case vt.INTERNAL:return Y.INTERNAL;case vt.UNAVAILABLE:return Y.UNAVAILABLE;case vt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case vt.NOT_FOUND:return Y.NOT_FOUND;case vt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case vt.ABORTED:return Y.ABORTED;case vt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case vt.DATA_LOSS:return Y.DATA_LOSS;default:return ve(39323,{code:r})}}(Le=vt||(vt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new Ur([4294967295,4294967295],0);function L_(r){const e=_R().encode(r),n=new c1;return n.update(e),new Uint8Array(n.digest())}function j_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ur([n,s],0),new Ur([l,c],0)]}class Qm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new bl(`Invalid padding: ${n}`);if(s<0)throw new bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new bl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ur.fromNumber(this.ge)}ye(e,n,s){let l=e.add(n.multiply(Ur.fromNumber(s)));return l.compare(vR)===1&&(l=new Ur([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=L_(e),[s,l]=j_(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Qm(c,l,n);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const n=L_(e),[s,l]=j_(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,s,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new yh(Ae.min(),l,new st(Ve),$i(),Me())}}class Yl{constructor(e,n,s,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Yl(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n,s,l){this.be=e,this.removedTargetIds=n,this.key=s,this.De=l}}class Z1{constructor(e,n){this.targetId=e,this.Ce=n}}class $1{constructor(e,n,s=Gt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class z_{constructor(){this.ve=0,this.Fe=B_(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),n=Me(),s=Me();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:ve(38017,{changeType:c})}})),new Yl(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=B_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ER{constructor(e){this.Ge=e,this.ze=new Map,this.je=$i(),this.Je=Ic(),this.He=Ic(),this.Ye=new st(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,s=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(lm(c))if(s===0){const d=new me(c.path);this.et(n,d,Zt.newNoDocument(d,Ae.min()))}else He(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const g=this.ut(e),p=g?this.ct(g,e,d):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=qr(s).toUint8Array()}catch(p){if(p instanceof b1)return Za("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Qm(d,l,c)}catch(p){return Za(p instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&lm(g.target)){const p=new me(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Zt.newNoDocument(p,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let s=Me();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new yh(e,n,this.Ye,this.je,s);return this.je=$i(),this.Je=Ic(),this.He=Ic(),this.Ye=new st(Ve),l}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new z_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new It(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new It(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new z_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ic(){return new st(me.comparator)}function B_(){return new st(me.comparator)}const TR={asc:"ASCENDING",desc:"DESCENDING"},bR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AR={and:"AND",or:"OR"};class SR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hm(r,e){return r.useProto3Json||hh(e)?e:{value:e}}function th(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function wR(r,e){return th(r,e.toTimestamp())}function fi(r){return He(!!r,49232),Ae.fromTimestamp((function(n){const s=Br(n);return new tt(s.seconds,s.nanos)})(r))}function Xm(r,e){return fm(r,e).canonicalString()}function fm(r,e){const n=(function(l){return new et(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?n:n.child(e)}function W1(r){const e=et.fromString(r);return He(rE(e),10190,{key:e.toString()}),e}function dm(r,e){return Xm(r.databaseId,e.path)}function Hd(r,e){const n=W1(e);if(n.get(1)!==r.databaseId.projectId)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(tE(n))}function eE(r,e){return Xm(r.databaseId,e)}function RR(r){const e=W1(r);return e.length===4?et.emptyPath():tE(e)}function mm(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function tE(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function q_(r,e,n){return{name:dm(r,e),fields:n.value.mapValue.fields}}function IR(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(He(T===void 0||typeof T=="string",58123),Gt.fromBase64String(T||"")):(He(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Gt.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const T=y.code===void 0?Y.UNKNOWN:Y1(y.code);return new ae(T,y.message||"")})(d);n=new $1(s,l,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Hd(r,s.document.name),c=fi(s.document.updateTime),d=s.document.createTime?fi(s.document.createTime):Ae.min(),g=new on({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(l,c,d,g),y=s.targetIds||[],T=s.removedTargetIds||[];n=new Uc(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Hd(r,s.document),c=s.readTime?fi(s.readTime):Ae.min(),d=Zt.newNoDocument(l,c),g=s.removedTargetIds||[];n=new Uc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Hd(r,s.document),c=s.removedTargetIds||[];n=new Uc([],c,l,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new pR(l,c),g=s.targetId;n=new Z1(g,d)}}return n}function CR(r,e){let n;if(e instanceof Xl)n={update:q_(r,e.key,e.value)};else if(e instanceof Fm)n={delete:dm(r,e.key)};else if(e instanceof Yr)n={update:q_(r,e.key,e.data),updateMask:UR(e.fieldMask)};else{if(!(e instanceof dR))return ve(16599,{Vt:e.type});n={verify:dm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof Wc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ul)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ll)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof eh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ve(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:wR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(r,e.precondition)),n}function xR(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map((n=>(function(l,c){let d=l.updateTime?fi(l.updateTime):fi(c);return d.isEqual(Ae.min())&&(d=fi(c)),new cR(d,l.transformResults||[])})(n,e)))):[]}function NR(r,e){return{documents:[eE(r,e.path)]}}function DR(r,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=eE(r,l);const c=(function(y){if(y.length!==0)return iE(Gn.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(S){return{field:qa(S.field),direction:MR(S.dir)}})(T)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=hm(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function OR(r){let e=RR(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){He(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=(function(I){const S=nE(I);return S instanceof Gn&&O1(S)?S.getFilters():[S]})(n.where));let d=[];n.orderBy&&(d=(function(I){return I.map((S=>(function(F){return new Jc(Ha(F.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(S)))})(n.orderBy));let g=null;n.limit&&(g=(function(I){let S;return S=typeof I=="object"?I.value:I,hh(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(I){const S=!!I.before,z=I.values||[];return new $c(z,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(I){const S=!I.before,z=I.values||[];return new $c(z,S)})(n.endAt)),$2(e,l,d,c,g,"F",p,y)}function VR(r,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nE(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ha(n.unaryFilter.field);return Et.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ha(n.unaryFilter.field);return Et.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ha(n.unaryFilter.field);return Et.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(n.unaryFilter.field);return Et.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Et.create(Ha(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Gn.create(n.compositeFilter.filters.map((s=>nE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(r):ve(30097,{filter:r})}function MR(r){return TR[r]}function kR(r){return bR[r]}function PR(r){return AR[r]}function qa(r){return{fieldPath:r.canonicalString()}}function Ha(r){return Ht.fromServerFormat(r.fieldPath)}function iE(r){return r instanceof Et?(function(n){if(n.op==="=="){if(x_(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NAN"}};if(C_(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(x_(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NAN"}};if(C_(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(n.field),op:kR(n.op),value:n.value}}})(r):r instanceof Gn?(function(n){const s=n.getFilters().map((l=>iE(l)));return s.length===1?s[0]:{compositeFilter:{op:PR(n.op),filters:s}}})(r):ve(54877,{filter:r})}function UR(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function rE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,s,l,c=Ae.min(),d=Ae.min(),g=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.yt=e}}function jR(r){const e=OR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.Cn=new BR}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(zr.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(zr.min())}updateCollectionGroup(e,n,s){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class BR{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new It(et.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new It(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sE=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(sE,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new eo(0)}static cr(){return new eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="LruGarbageCollector",qR=1048576;function F_([r,e],[n,s]){const l=Ve(r,n);return l===0?Ve(e,s):l}class HR{constructor(e){this.Ir=e,this.buffer=new It(F_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();F_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class GR{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(G_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oo(n)?oe(G_,"Ignoring IndexedDB error during garbage collection: ",n):await ao(n)}await this.Vr(3e5)}))}}class FR{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return $.resolve(ch.ce);const s=new HR(n);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(H_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,l,c,d,g,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((I=>(I>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(e,l)))).next((I=>(s=I,g=Date.now(),this.removeTargets(e,s,n)))).next((I=>(c=I,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((I=>(y=Date.now(),za()<=Oe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${I} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I}))))}}function KR(r,e){return new FR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.changes=new Hs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(s!==null&&Nl(s.mutation,l,yn.empty(),tt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Me()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Me()){const l=ks();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,s).next((c=>{let d=Tl();return c.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=ks();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Me())))}populateOverlays(e,n,s){const l=[];return s.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(e,n,s,l){let c=$i();const d=xl(),g=(function(){return xl()})();return n.forEach(((p,y)=>{const T=s.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof Yr)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Nl(T.mutation,y,T.mutation.getFieldMask(),tt.now())):d.set(y.key,yn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((y,T)=>d.set(y,T))),n.forEach(((y,T)=>g.set(y,new XR(T,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=xl();let l=new st(((d,g)=>d-g)),c=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const g of d)g.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let T=s.get(p)||yn.empty();T=g.applyToLocalView(y,T),s.set(p,T);const I=(l.get(g.batchId)||Me()).add(p);l=l.insert(g.batchId,I)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,T=p.value,I=B1();T.forEach((S=>{if(!c.has(S)){const z=Q1(n.get(S),s.get(S));z!==null&&I.set(S,z),c=c.add(S)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,I))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,l){return(function(d){return me.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):P1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-c.size):$.resolve(ks());let g=Vl,p=c;return d.next((y=>$.forEach(y,((T,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),c.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next((S=>{p=p.insert(T,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,p,y,Me()))).next((T=>({batchId:g,changes:z1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let l=Tl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const c=n.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(e,c).next((g=>$.forEach(g,(p=>{const y=(function(I,S){return new Ql(S,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next((T=>{T.forEach(((I,S)=>{d=d.insert(I,S)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,l)))).next((d=>{c.forEach(((p,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Zt.newInvalidDocument(T)))}));let g=Tl();return d.forEach(((p,y)=>{const T=c.get(p);T!==void 0&&Nl(T.mutation,y,yn.empty(),tt.now()),mh(n,y)&&(g=g.insert(p,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:fi(l.createTime)}})(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:jR(l.bundledQuery),readTime:fi(l.readTime)}})(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.overlays=new st(me.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ks();return $.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((l,c)=>{this.St(e,n,c)})),$.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(e,n,s){const l=ks(),c=n.length+1,d=new me(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return $.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let c=new st(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=c.get(y.largestBatchId);T===null&&(T=ks(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=ks(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,T)=>g.set(y,T))),!(g.size()>=l)););return $.resolve(g)}St(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new gR(n,s));let c=this.qr.get(n);c===void 0&&(c=Me(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this.Qr=new It(Mt.$r),this.Ur=new It(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Mt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Mt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new et([])),s=new Mt(n,e),l=new Mt(n,e+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new et([])),s=new Mt(n,e),l=new Mt(n,e+1);let c=Me();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Mt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Mt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new It(Mt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new mR(c,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Mt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.ei(s),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Lm:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Mt(n,0),l=new Mt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(Ve);return n.forEach((l=>{const c=new Mt(l,0),d=new Mt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{s=s.add(g.Yr)}))})),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let c=s;me.isDocumentKey(c)||(c=c.child(""));const d=new Mt(new me(c),0);let g=new It(Ve);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(g=g.add(p.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(n.mutations,(l=>{const c=new Mt(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Mt(n,0),l=this.Zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e){this.ri=e,this.docs=(function(){return new st(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=$i();return n.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Zt.newInvalidDocument(l))})),$.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let c=$i();const d=n.path,g=new me(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||x2(C2(T),s)<=0||(l.has(T.key)||mh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,n,s,l){ve(9500)}ii(e,n){return $.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new t5(this)}getSize(e){return $.resolve(this.size)}}class t5 extends QR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.persistence=e,this.si=new Hs((n=>Bm(n)),qm),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Ym,this.targetCount=0,this.ai=eo.ur()}forEachTarget(e,n){return this.si.forEach(((s,l)=>n(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new eo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,s){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return $.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),$.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return $.resolve(s)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new JR,this.referenceDelegate=e(this),this.Pi=new n5(this),this.indexManager=new zR,this.remoteDocumentCache=(function(l){return new e5(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new LR(n),this.Ii=new ZR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $R,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new WR(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const l=new i5(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return $.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class i5 extends D2{constructor(e){super(),this.currentSequenceNumber=e}}class Zm{constructor(e){this.persistence=e,this.Ri=new Ym,this.Vi=null}static mi(e){return new Zm(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),$.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(s=>{const l=me.fromPath(s);return this.gi(e,l).next((c=>{c||n.removeEntry(l,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class nh{constructor(e,n){this.persistence=e,this.pi=new Hs((s=>M2(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=KR(this,n)}static mi(e,n){return new nh(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((l=>s+l))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return $.forEach(this.pi,((s,l)=>this.br(e,s,l).next((c=>c?$.resolve():n(l)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((g=>{g||(s++,c.removeEntry(d,Ae.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mc(e.data.value)),n}br(e,n,s){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=l}static As(e,n){let s=Me(),l=Me();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new $m(e,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Xb()?8:O2($t())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,l){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new r5;return this.Ss(e,n,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,n,d,g.size)}))})).next((()=>c.result))}bs(e,n,s,l){return s.documentReadCount<this.fs?(za()<=Oe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(za()<=Oe.DEBUG&&oe("QueryEngine","Query:",Ba(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(za()<=Oe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hi(n))):$.resolve())}ys(e,n){if(V_(n))return $.resolve(null);let s=hi(n);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=cm(n,null,"F"),s=hi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=Me(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,g);return this.Cs(n,y,d,p.readTime)?this.ys(e,cm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,l){return V_(n)||l.isEqual(Ae.min())?$.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,s,l)?$.resolve(null):(za()<=Oe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ba(n)),this.vs(e,d,n,I2(l,Vl)).next((g=>g)))}))}Ds(e,n){let s=new It(L1(e));return n.forEach(((l,c)=>{mh(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,s){return za()<=Oe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ba(n)),this.ps.getDocumentsMatchingQuery(e,n,zr.min(),s)}vs(e,n,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="LocalStore",a5=3e8;class o5{constructor(e,n,s,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new st(Ve),this.xs=new Hs((c=>Bm(c)),qm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function l5(r,e,n,s){return new o5(r,e,n,s)}async function oE(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let p=Me();for(const y of l){d.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of c){g.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function u5(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,y,T){const I=y.batch,S=I.keys();let z=$.resolve();return S.forEach((F=>{z=z.next((()=>T.getEntry(p,F))).next((te=>{const G=y.docVersions.get(F);He(G!==null,48541),te.version.compareTo(G)<0&&(I.applyToRemoteDocument(te,y),te.isValidDocument()&&(te.setReadTime(y.commitVersion),T.addEntry(te)))}))})),z.next((()=>g.mutationQueue.removeMutationBatch(p,I)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=Me();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function lE(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function c5(r,e){const n=Se(r),s=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((T,I)=>{const S=l.get(I);if(!S)return;g.push(n.Pi.removeMatchingKeys(c,T.removedDocuments,I).next((()=>n.Pi.addMatchingKeys(c,T.addedDocuments,I))));let z=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(I)!==null?z=z.withResumeToken(Gt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,s)),l=l.insert(I,z),(function(te,G,ue){return te.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=a5?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(S,z,T)&&g.push(n.Pi.updateTargetData(c,z))}));let p=$i(),y=Me();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(h5(c,d,e.documentUpdates).next((T=>{p=T.ks,y=T.qs}))),!s.isEqual(Ae.min())){const T=n.Pi.getLastRemoteSnapshotVersion(c).next((I=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(T)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,y))).next((()=>p))})).then((c=>(n.Ms=l,c)))}function h5(r,e,n){let s=Me(),l=Me();return n.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let d=$i();return n.forEach(((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):oe(Jm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)})),{ks:d,qs:l}}))}function f5(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Lm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function d5(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,e).next((c=>c?(l=c,$.resolve(l)):n.Pi.allocateTargetId(s).next((d=>(l=new Vr(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function gm(r,e,n){const s=Se(r),l=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!oo(d))throw d;oe(Jm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function K_(r,e,n){const s=Se(r);let l=Ae.min(),c=Me();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,y,T){const I=Se(p),S=I.xs.get(T);return S!==void 0?$.resolve(I.Ms.get(S)):I.Pi.getTargetData(y,T)})(s,d,hi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((p=>{c=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,n?l:Ae.min(),n?c:Me()))).next((g=>(m5(s,W2(e),g),{documents:g,Qs:c})))))}function m5(r,e,n){let s=r.Os.get(e)||Ae.min();n.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class Q_{constructor(){this.activeTargetIds=sR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g5{constructor(){this.Mo=new Q_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Q_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="ConnectivityMonitor";class Y_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(X_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(X_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc=null;function pm(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="RestConnection",y5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Yc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,n,s,l,c){const d=pm(),g=this.zo(e,n.toUriEncodedString());oe(Gd,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,c);const{host:y}=new URL(g),T=no(y);return this.Jo(e,g,p,s,T).then((I=>(oe(Gd,`Received RPC '${e}' ${d}: `,I),I)),(I=>{throw Za(Gd,`RPC '${e}' ${d} failed with error: `,I,"url: ",g,"request:",s),I}))}Ho(e,n,s,l,c,d){return this.Go(e,n,s,l,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const s=y5[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class E5 extends _5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,l,c){const d=pm();return new Promise(((g,p)=>{const y=new h1;y.setWithCredentials(!0),y.listenOnce(f1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Vc.NO_ERROR:const I=y.getResponseJson();oe(Xt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(I)),g(I);break;case Vc.TIMEOUT:oe(Xt,`RPC '${e}' ${d} timed out`),p(new ae(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const S=y.getStatus();if(oe(Xt,`RPC '${e}' ${d} failed with status:`,S,"response text:",y.getResponseText()),S>0){let z=y.getResponseJson();Array.isArray(z)&&(z=z[0]);const F=z?.error;if(F&&F.status&&F.message){const te=(function(ue){const fe=ue.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(fe)>=0?fe:Y.UNKNOWN})(F.status);p(new ae(te,F.message))}else p(new ae(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ae(Y.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(Xt,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);oe(Xt,`RPC '${e}' ${d} sending request:`,l),y.send(n,"POST",T,s,15)}))}T_(e,n,s){const l=pm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=g1(),g=m1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=c.join("");oe(Xt,`Creating RPC '${e}' stream ${l}: ${T}`,p);const I=d.createWebChannel(T,p);this.I_(I);let S=!1,z=!1;const F=new v5({Yo:G=>{z?oe(Xt,`Not sending because RPC '${e}' stream ${l} is closed:`,G):(S||(oe(Xt,`Opening RPC '${e}' stream ${l} transport.`),I.open(),S=!0),oe(Xt,`RPC '${e}' stream ${l} sending:`,G),I.send(G))},Zo:()=>I.close()}),te=(G,ue,fe)=>{G.listen(ue,(W=>{try{fe(W)}catch(ye){setTimeout((()=>{throw ye}),0)}}))};return te(I,El.EventType.OPEN,(()=>{z||(oe(Xt,`RPC '${e}' stream ${l} transport opened.`),F.o_())})),te(I,El.EventType.CLOSE,(()=>{z||(z=!0,oe(Xt,`RPC '${e}' stream ${l} transport closed`),F.a_(),this.E_(I))})),te(I,El.EventType.ERROR,(G=>{z||(z=!0,Za(Xt,`RPC '${e}' stream ${l} transport errored. Name:`,G.name,"Message:",G.message),F.a_(new ae(Y.UNAVAILABLE,"The operation could not be completed")))})),te(I,El.EventType.MESSAGE,(G=>{if(!z){const ue=G.data[0];He(!!ue,16349);const fe=ue,W=fe?.error||fe[0]?.error;if(W){oe(Xt,`RPC '${e}' stream ${l} received error:`,W);const ye=W.status;let he=(function(w){const C=vt[w];if(C!==void 0)return Y1(C)})(ye),Re=W.message;he===void 0&&(he=Y.INTERNAL,Re="Unknown error status: "+ye+" with message "+W.message),z=!0,F.a_(new ae(he,Re)),I.close()}else oe(Xt,`RPC '${e}' stream ${l} received:`,ue),F.u_(ue)}})),te(g,d1.STAT_EVENT,(G=>{G.stat===im.PROXY?oe(Xt,`RPC '${e}' stream ${l} detected buffering proxy`):G.stat===im.NOPROXY&&oe(Xt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Fd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(r){return new SR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,n,s=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="PersistentStream";class cE{constructor(e,n,s,l,c,d,g,p){this.Mi=e,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{e((()=>{const l=new ae(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(Z_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(oe(Z_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class T5 extends cE{constructor(e,n,s,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=IR(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ae.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?fi(d.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=mm(this.serializer),n.addTarget=(function(c,d){let g;const p=d.target;if(g=lm(p)?{documents:NR(c,p)}:{query:DR(c,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=J1(c,d.resumeToken);const y=hm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ae.min())>0){g.readTime=th(c,d.snapshotVersion.toTimestamp());const y=hm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const s=VR(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=mm(this.serializer),n.removeTarget=e,this.q_(n)}}class b5 extends cE{constructor(e,n,s,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=xR(e.writeResults,e.commitTime),s=fi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=mm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>CR(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{}class S5 extends A5{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,fm(n,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(Y.UNKNOWN,c.toString())}))}Ho(e,n,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,fm(n,s),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class w5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="RemoteStore";class R5{constructor(e,n,s,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Gs(this)&&(oe(qs,"Restarting streams for network reachability change."),await(async function(p){const y=Se(p);y.Ea.add(4),await Zl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await vh(y)})(this))}))})),this.Ra=new w5(s,l)}}async function vh(r){if(Gs(r))for(const e of r.da)await e(!0)}async function Zl(r){for(const e of r.da)await e(!1)}function hE(r,e){const n=Se(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ng(n)?tg(n):lo(n).O_()&&eg(n,e))}function Wm(r,e){const n=Se(r),s=lo(n);n.Ia.delete(e),s.O_()&&fE(n,e),n.Ia.size===0&&(s.O_()?s.L_():Gs(n)&&n.Ra.set("Unknown"))}function eg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lo(r).Y_(e)}function fE(r,e){r.Va.Ue(e),lo(r).Z_(e)}function tg(r){r.Va=new ER({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),lo(r).start(),r.Ra.ua()}function ng(r){return Gs(r)&&!lo(r).x_()&&r.Ia.size>0}function Gs(r){return Se(r).Ea.size===0}function dE(r){r.Va=void 0}async function I5(r){r.Ra.set("Online")}async function C5(r){r.Ia.forEach(((e,n)=>{eg(r,e)}))}async function x5(r,e){dE(r),ng(r)?(r.Ra.ha(e),tg(r)):r.Ra.set("Unknown")}async function N5(r,e,n){if(r.Ra.set("Online"),e instanceof $1&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,e)}catch(s){oe(qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ih(r,s)}else if(e instanceof Uc?r.Va.Ze(e):e instanceof Z1?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await lE(r.localStore);n.compareTo(s)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,y)=>{const T=c.Ia.get(p);if(!T)return;c.Ia.set(p,T.withResumeToken(Gt.EMPTY_BYTE_STRING,T.snapshotVersion)),fE(c,p);const I=new Vr(T.target,p,y,T.sequenceNumber);eg(c,I)})),c.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(s){oe(qs,"Failed to raise snapshot:",s),await ih(r,s)}}async function ih(r,e,n){if(!oo(e))throw e;r.Ea.add(1),await Zl(r),r.Ra.set("Offline"),n||(n=()=>lE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(qs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await vh(r)}))}function mE(r,e){return e().catch((n=>ih(r,n,e)))}async function Eh(r){const e=Se(r),n=Gr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lm;for(;D5(e);)try{const l=await f5(e.localStore,s);if(l===null){e.Ta.length===0&&n.L_();break}s=l.batchId,O5(e,l)}catch(l){await ih(e,l)}gE(e)&&pE(e)}function D5(r){return Gs(r)&&r.Ta.length<10}function O5(r,e){r.Ta.push(e);const n=Gr(r);n.O_()&&n.X_&&n.ea(e.mutations)}function gE(r){return Gs(r)&&!Gr(r).x_()&&r.Ta.length>0}function pE(r){Gr(r).start()}async function V5(r){Gr(r).ra()}async function M5(r){const e=Gr(r);for(const n of r.Ta)e.ea(n.mutations)}async function k5(r,e,n){const s=r.Ta.shift(),l=Km.from(s,e,n);await mE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Eh(r)}async function P5(r,e){e&&Gr(r).X_&&await(async function(s,l){if((function(d){return yR(d)&&d!==Y.ABORTED})(l.code)){const c=s.Ta.shift();Gr(s).B_(),await mE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Eh(s)}})(r,e),gE(r)&&pE(r)}async function $_(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),oe(qs,"RemoteStore received new credentials");const s=Gs(n);n.Ea.add(3),await Zl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vh(n)}async function U5(r,e){const n=Se(r);e?(n.Ea.delete(2),await vh(n)):e||(n.Ea.add(2),await Zl(n),n.Ra.set("Unknown"))}function lo(r){return r.ma||(r.ma=(function(n,s,l){const c=Se(n);return c.sa(),new T5(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:I5.bind(null,r),t_:C5.bind(null,r),r_:x5.bind(null,r),H_:N5.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ng(r)?tg(r):r.Ra.set("Unknown")):(await r.ma.stop(),dE(r))}))),r.ma}function Gr(r){return r.fa||(r.fa=(function(n,s,l){const c=Se(n);return c.sa(),new b5(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:V5.bind(null,r),r_:P5.bind(null,r),ta:M5.bind(null,r),na:k5.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Eh(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(qs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,s,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,c){const d=Date.now()+s,g=new ig(e,n,d,l,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(r,e){if(Zi("AsyncQueue",`${e}: ${r}`),oo(r))return new ae(Y.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static emptySet(e){return new Xa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Tl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.ga=new st(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class to{constructor(e,n,s,l,c,d,g,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,l,c){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new to(e,n,Xa.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class j5{constructor(){this.queries=W_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Se(n),c=l.queries;l.queries=W_(),c.forEach(((d,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new ae(Y.ABORTED,"Firestore shutting down"))}}function W_(){return new Hs((r=>U1(r)),dh)}async function yE(r,e){const n=Se(r);let s=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(s=2):(c=new L5,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=rg(d,`Initialization of query '${Ba(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&sg(n)}async function _E(r,e){const n=Se(r),s=e.query;let l=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function z5(r,e){const n=Se(r);let s=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&sg(n)}function B5(r,e,n){const s=Se(r),l=s.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);s.queries.delete(e)}function sg(r){r.Ca.forEach((e=>{e.next()}))}var ym,ev;(ev=ym||(ym={})).Ma="default",ev.Cache="cache";class vE{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new to(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=to.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e){this.key=e}}class TE{constructor(e){this.key=e}}class q5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Me(),this.mutatedKeys=Me(),this.eu=L1(e),this.tu=new Xa(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new J_,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,I)=>{const S=l.get(T),z=mh(this.query,I)?I:null,F=!!S&&this.mutatedKeys.has(S.key),te=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let G=!1;S&&z?S.data.isEqual(z.data)?F!==te&&(s.track({type:3,doc:z}),G=!0):this.su(S,z)||(s.track({type:2,doc:z}),G=!0,(p&&this.eu(z,p)>0||y&&this.eu(z,y)<0)&&(g=!0)):!S&&z?(s.track({type:0,doc:z}),G=!0):S&&!z&&(s.track({type:1,doc:S}),G=!0,(p||y)&&(g=!0)),G&&(z?(d=d.add(z),c=te?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,I)=>(function(z,F){const te=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:G})}};return te(z)-te(F)})(T.type,I.type)||this.eu(T.doc,I.doc))),this.ou(s),l=l??!1;const g=n&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,y=p!==this.Za;return this.Za=p,d.length!==0||y?{snapshot:new to(this.query,e.tu,c,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new J_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Me(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new TE(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new EE(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ag="SyncEngine";class H5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class G5{constructor(e){this.key=e,this.hu=!1}}class F5{constructor(e,n,s,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Hs((g=>U1(g)),dh),this.Iu=new Map,this.Eu=new Set,this.du=new st(me.comparator),this.Au=new Map,this.Ru=new Ym,this.Vu={},this.mu=new Map,this.fu=eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function K5(r,e,n=!0){const s=IE(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await bE(s,e,n,!0),l}async function Q5(r,e){const n=IE(r);await bE(n,e,!0,!1)}async function bE(r,e,n,s){const l=await d5(r.localStore,hi(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await X5(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&hE(r.remoteStore,l),g}async function X5(r,e,n,s,l){r.pu=(I,S,z)=>(async function(te,G,ue,fe){let W=G.view.ru(ue);W.Cs&&(W=await K_(te.localStore,G.query,!1).then((({documents:M})=>G.view.ru(M,W))));const ye=fe&&fe.targetChanges.get(G.targetId),he=fe&&fe.targetMismatches.get(G.targetId)!=null,Re=G.view.applyChanges(W,te.isPrimaryClient,ye,he);return nv(te,G.targetId,Re.au),Re.snapshot})(r,I,S,z);const c=await K_(r.localStore,e,!0),d=new q5(e,c.Qs),g=d.ru(c.documents),p=Yl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=d.applyChanges(g,r.isPrimaryClient,p);nv(r,n,y.au);const T=new H5(e,n,d);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function Y5(r,e,n){const s=Se(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!dh(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await gm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Wm(s.remoteStore,l.targetId),_m(s,l.targetId)})).catch(ao)):(_m(s,l.targetId),await gm(s.localStore,l.targetId,!0))}async function Z5(r,e){const n=Se(r),s=n.Tu.get(e),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Wm(n.remoteStore,s.targetId))}async function $5(r,e,n){const s=rI(r);try{const l=await(function(d,g){const p=Se(d),y=tt.now(),T=g.reduce(((z,F)=>z.add(F.key)),Me());let I,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let F=$i(),te=Me();return p.Ns.getEntries(z,T).next((G=>{F=G,F.forEach(((ue,fe)=>{fe.isValidDocument()||(te=te.add(ue))}))})).next((()=>p.localDocuments.getOverlayedDocuments(z,F))).next((G=>{I=G;const ue=[];for(const fe of g){const W=fR(fe,I.get(fe.key).overlayedDocument);W!=null&&ue.push(new Yr(fe.key,W,x1(W.value.mapValue),Mn.exists(!0)))}return p.mutationQueue.addMutationBatch(z,y,ue,g)})).next((G=>{S=G;const ue=G.applyToLocalDocumentSet(I,te);return p.documentOverlayCache.saveOverlays(z,G.batchId,ue)}))})).then((()=>({batchId:S.batchId,changes:z1(I)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,p){let y=d.Vu[d.currentUser.toKey()];y||(y=new st(Ve)),y=y.insert(g,p),d.Vu[d.currentUser.toKey()]=y})(s,l.batchId,n),await $l(s,l.changes),await Eh(s.remoteStore)}catch(l){const c=rg(l,"Failed to persist write");n.reject(c)}}async function AE(r,e){const n=Se(r);try{const s=await c5(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&(He(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?He(d.hu,14607):l.removedDocuments.size>0&&(He(d.hu,42227),d.hu=!1))})),await $l(n,s,e)}catch(s){await ao(s)}}function tv(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const p=Se(d);p.onlineState=g;let y=!1;p.queries.forEach(((T,I)=>{for(const S of I.Sa)S.va(g)&&(y=!0)})),y&&sg(p)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function J5(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Au.get(e),c=l&&l.key;if(c){let d=new st(me.comparator);d=d.insert(c,Zt.newNoDocument(c,Ae.min()));const g=Me().add(c),p=new yh(Ae.min(),new Map,new st(Ve),d,g);await AE(s,p),s.du=s.du.remove(c),s.Au.delete(e),og(s)}else await gm(s.localStore,e,!1).then((()=>_m(s,e,n))).catch(ao)}async function W5(r,e){const n=Se(r),s=e.batch.batchId;try{const l=await u5(n.localStore,e);wE(n,s,null),SE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await $l(n,l)}catch(l){await ao(l)}}async function eI(r,e,n){const s=Se(r);try{const l=await(function(d,g){const p=Se(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return p.mutationQueue.lookupMutationBatch(y,g).next((I=>(He(I!==null,37113),T=I.keys(),p.mutationQueue.removeMutationBatch(y,I)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>p.localDocuments.getDocuments(y,T)))}))})(s.localStore,e);wE(s,e,n),SE(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await $l(s,l)}catch(l){await ao(l)}}function SE(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function wE(r,e,n){const s=Se(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function _m(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||RE(r,s)}))}function RE(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Wm(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),og(r))}function nv(r,e,n){for(const s of n)s instanceof EE?(r.Ru.addReference(s.key,e),tI(r,s)):s instanceof TE?(oe(ag,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||RE(r,s.key)):ve(19791,{wu:s})}function tI(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(oe(ag,"New document in limbo: "+n),r.Eu.add(s),og(r))}function og(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(et.fromString(e)),s=r.fu.next();r.Au.set(s,new G5(n)),r.du=r.du.insert(n,s),hE(r.remoteStore,new Vr(hi(Hm(n.path)),s,"TargetPurposeLimboResolution",ch.ce))}}async function $l(r,e,n){const s=Se(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{d.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){l.push(y);const T=$m.As(p.targetId,y);c.push(T)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(p,y){const T=Se(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(I=>$.forEach(y,(S=>$.forEach(S.Es,(z=>T.persistence.referenceDelegate.addReference(I,S.targetId,z))).next((()=>$.forEach(S.ds,(z=>T.persistence.referenceDelegate.removeReference(I,S.targetId,z)))))))))}catch(I){if(!oo(I))throw I;oe(Jm,"Failed to update sequence numbers: "+I)}for(const I of y){const S=I.targetId;if(!I.fromCache){const z=T.Ms.get(S),F=z.snapshotVersion,te=z.withLastLimboFreeSnapshotVersion(F);T.Ms=T.Ms.insert(S,te)}}})(s.localStore,c))}async function nI(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){oe(ag,"User change. New user:",e.toKey());const s=await oE(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((p=>{p.reject(new ae(Y.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await $l(n,s.Ls)}}function iI(r,e){const n=Se(r),s=n.Au.get(e);if(s&&s.hu)return Me().add(s.key);{let l=Me();const c=n.Iu.get(e);if(!c)return l;for(const d of c){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function IE(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=AE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J5.bind(null,e),e.Pu.H_=z5.bind(null,e.eventManager),e.Pu.yu=B5.bind(null,e.eventManager),e}function rI(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eI.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_h(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return l5(this.persistence,new s5,e.initialUser,this.serializer)}Cu(e){return new aE(Zm.mi,this.serializer)}Du(e){return new g5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class sI extends rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof nh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new GR(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new aE((s=>nh.mi(s,n)),this.serializer)}}class vm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nI.bind(null,this.syncEngine),await U5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new j5})()}createDatastore(e){const n=_h(e.databaseInfo.databaseId),s=(function(c){return new E5(c)})(e.databaseInfo);return(function(c,d,g,p){return new S5(c,d,g,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,l,c,d,g){return new R5(s,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>tv(this.syncEngine,n,0)),(function(){return Y_.v()?new Y_:new p5})())}createSyncEngine(e,n){return(function(l,c,d,g,p,y,T){const I=new F5(l,c,d,g,p,y);return T&&(I.gu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Se(n);oe(qs,"RemoteStore shutting down."),s.Ea.add(5),await Zl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vm.provider={build:()=>new vm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="FirestoreClient";class aI{constructor(e,n,s,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Yt.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{oe(Fr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(oe(Fr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=rg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Kd(r,e){r.asyncQueue.verifyOperationInProgress(),oe(Fr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await oE(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function iv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await oI(r);oe(Fr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>$_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>$_(e.remoteStore,l))),r._onlineComponents=e}async function oI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(Fr,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Za("Error using user provided cache. Falling back to memory cache: "+n),await Kd(r,new rh)}}else oe(Fr,"Using default OfflineComponentProvider"),await Kd(r,new sI(void 0));return r._offlineComponents}async function xE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(Fr,"Using user provided OnlineComponentProvider"),await iv(r,r._uninitializedComponentsProvider._online)):(oe(Fr,"Using default OnlineComponentProvider"),await iv(r,new vm))),r._onlineComponents}function lI(r){return xE(r).then((e=>e.syncEngine))}async function Em(r){const e=await xE(r),n=e.eventManager;return n.onListen=K5.bind(null,e.syncEngine),n.onUnlisten=Y5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Q5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Z5.bind(null,e.syncEngine),n}function uI(r,e,n={}){const s=new Lr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,p,y){const T=new CE({next:S=>{T.Nu(),d.enqueueAndForget((()=>_E(c,I))),S.fromCache&&p.source==="server"?y.reject(new ae(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),I=new vE(g,T,{includeMetadataChanges:!0,qa:!0});return yE(c,I)})(await Em(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="firestore.googleapis.com",sv=!0;class av{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DE,this.ssl=sv}else this.host=e.host,this.ssl=e.ssl??sv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qR)throw new ae(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Th{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new p2;switch(s.type){case"firstParty":return new E2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=rv.get(n);s&&(oe("ComponentProvider","Removing Datastore"),rv.delete(n),s.terminate())})(this),Promise.resolve()}}function cI(r,e,n,s={}){r=Vn(r,Th);const l=no(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${n}`;l&&(wv(`https://${g}`),Rv("Firestore",!0)),c.host!==DE&&c.host!==g&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:g,ssl:l,emulatorOptions:s};if(!Ls(p,d)&&(r._setSettings(p),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Yt.MOCK_USER;else{y=jb(s.mockUserToken,r._app?.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new ae(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Yt(I)}r._authCredentials=new y2(new y1(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Fs(this.firestore,e,this._query)}}class mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Kl(n,mt._jsonSchema))return new mt(e,s||null,new me(et.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Tt("string",mt._jsonSchemaVersion),referencePath:Tt("string")};class jr extends Fs{constructor(e,n,s){super(e,n,Hm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new me(e))}withConverter(e){return new jr(this.firestore,e,this._path)}}function bh(r,e,...n){if(r=kt(r),_1("collection","path",e),r instanceof Th){const s=et.fromString(e,...n);return v_(s),new jr(r,null,s)}{if(!(r instanceof mt||r instanceof jr))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return v_(s),new jr(r.firestore,null,s)}}function Kr(r,e,...n){if(r=kt(r),arguments.length===1&&(e=Um.newId()),_1("doc","path",e),r instanceof Th){const s=et.fromString(e,...n);return __(s),new mt(r,null,new me(s))}{if(!(r instanceof mt||r instanceof jr))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return __(s),new mt(r.firestore,r instanceof jr?r.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="AsyncQueue";class lv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uE(this,"async_queue_retry"),this._c=()=>{const s=Fd();s&&oe(ov,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Fd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Fd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!oo(e))throw e;oe(ov,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",uv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=ig.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ve(47125,{Pc:uv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function uv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Qr extends Th{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new lv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lv(e),this._firestoreClient=void 0,await e}}}function hI(r,e){const n=typeof r=="object"?r:Nv(),s=typeof r=="string"?r:Yc,l=Im(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=Ub("firestore");c&&cI(l,...c)}return l}function lg(r){if(r._terminated)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||fI(r),r._firestoreClient}function fI(r){const e=r._freezeSettings(),n=(function(l,c,d,g){return new U2(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,NE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new aI(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Gt.fromBase64String(e))}catch(n){throw new ae(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new On(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kl(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Tt("string",On._jsonSchemaVersion),bytes:Tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if(Kl(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:Tt("string",di._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kl(e,mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new mi(e.vectorValues);throw new ae(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:Tt("string",mi._jsonSchemaVersion),vectorValues:Tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=/^__.*__$/;class mI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xl(e,this.data,n,this.fieldTransforms)}}class OE{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class cg{constructor(e,n,s,l,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(VE(this.Ac)&&dI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||_h(e)}Cc(e,n,s,l=!1){return new cg({Ac:e,methodName:n,Dc:s,path:Ht.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sh(r){const e=r._freezeSettings(),n=_h(r._databaseId);return new gI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function ME(r,e,n,s,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,n,l);hg("Data must be an object, but it was:",d,s);const g=kE(s,d);let p,y;if(c.merge)p=new yn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const I of c.mergeFields){const S=Tm(e,I,n);if(!d.contains(S))throw new ae(Y.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);UE(T,S)||T.push(S)}p=new yn(T),y=d.fieldTransforms.filter((I=>p.covers(I.field)))}else p=null,y=d.fieldTransforms;return new mI(new on(g),p,y)}class wh extends ug{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wh}}function pI(r,e,n,s){const l=r.Cc(1,e,n);hg("Data must be an object, but it was:",l,s);const c=[],d=on.empty();Xr(s,((p,y)=>{const T=fg(e,p,n);y=kt(y);const I=l.yc(T);if(y instanceof wh)c.push(T);else{const S=Jl(y,I);S!=null&&(c.push(T),d.set(T,S))}}));const g=new yn(c);return new OE(d,g,l.fieldTransforms)}function yI(r,e,n,s,l,c){const d=r.Cc(1,e,n),g=[Tm(e,s,n)],p=[l];if(c.length%2!=0)throw new ae(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)g.push(Tm(e,c[S])),p.push(c[S+1]);const y=[],T=on.empty();for(let S=g.length-1;S>=0;--S)if(!UE(y,g[S])){const z=g[S];let F=p[S];F=kt(F);const te=d.yc(z);if(F instanceof wh)y.push(z);else{const G=Jl(F,te);G!=null&&(y.push(z),T.set(z,G))}}const I=new yn(y);return new OE(T,I,d.fieldTransforms)}function _I(r,e,n,s=!1){return Jl(n,r.Cc(s?4:3,e))}function Jl(r,e){if(PE(r=kt(r)))return hg("Unsupported field value:",e,r),kE(r,e);if(r instanceof ug)return(function(s,l){if(!VE(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const g of s){let p=Jl(g,l.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return aR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=tt.fromDate(s);return{timestampValue:th(l.serializer,c)}}if(s instanceof tt){const c=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:th(l.serializer,c)}}if(s instanceof di)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:J1(l.serializer,s._byteString)};if(s instanceof mt){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof mi)return(function(d,g){return{mapValue:{fields:{[I1]:{stringValue:C1},[Zc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Gm(g.serializer,y)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${uh(s)}`)})(r,e)}function kE(r,e){const n={};return T1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xr(r,((s,l)=>{const c=Jl(l,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function PE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof di||r instanceof On||r instanceof mt||r instanceof ug||r instanceof mi)}function hg(r,e,n){if(!PE(n)||!v1(n)){const s=uh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Tm(r,e,n){if((e=kt(e))instanceof Ah)return e._internalPath;if(typeof e=="string")return fg(r,e);throw sh("Field path arguments must be of type string or ",r,!1,void 0,n)}const vI=new RegExp("[~\\*/\\[\\]]");function fg(r,e,n){if(e.search(vI)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ah(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function sh(r,e,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new ae(Y.INVALID_ARGUMENT,g+r+p)}function UE(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n,s,l,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EI extends LE{data(){return super.data()}}function dg(r,e){return typeof e=="string"?fg(r,e):e instanceof Ah?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ae(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mg{}class TI extends mg{}function bI(r,e,...n){let s=[];e instanceof mg&&s.push(e),s=s.concat(n),(function(c){const d=c.filter((p=>p instanceof gg)).length,g=c.filter((p=>p instanceof Rh)).length;if(d>1||d>0&&g>0)throw new ae(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Rh extends TI{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Rh(e,n,s)}_apply(e){const n=this._parse(e);return zE(e._query,n),new Fs(e.firestore,e.converter,um(e._query,n))}_parse(e){const n=Sh(e.firestore);return(function(c,d,g,p,y,T,I){let S;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ae(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){fv(I,T);const F=[];for(const te of I)F.push(hv(p,c,te));S={arrayValue:{values:F}}}else S=hv(p,c,I)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||fv(I,T),S=_I(g,d,I,T==="in"||T==="not-in");return Et.create(y,T,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Qd(r,e,n){const s=e,l=dg("where",r);return Rh._create(l,s,n)}class gg extends mg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Gn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const p of g)zE(d,p),d=um(d,p)})(e._query,n),new Fs(e.firestore,e.converter,um(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function hv(r,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new ae(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P1(e)&&n.indexOf("/")!==-1)throw new ae(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!me.isDocumentKey(s))throw new ae(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return I_(r,new me(s))}if(n instanceof mt)return I_(r,n._key);throw new ae(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(n)}.`)}function fv(r,e){if(!Array.isArray(r)||r.length===0)throw new ae(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zE(r,e){const n=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ae(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AI{convertValue(e,n="none"){switch(Hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Xr(e,((l,c)=>{s[l]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[Zc].arrayValue?.values?.map((s=>dt(s.doubleValue)));return new mi(n)}convertGeoPoint(e){return new di(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=fh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ml(e));default:return null}}convertTimestamp(e){const n=Br(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);He(rE(s),9688,{name:e});const l=new kl(s.get(1),s.get(3)),c=new me(s.popFirst(5));return l.isEqual(n)||Zi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Al{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ps extends LE{constructor(e,n,s,l,c,d){super(e,n,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(dg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ps._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ps._jsonSchema={type:Tt("string",Ps._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class Lc extends Ps{data(e={}){return super.data(e)}}class Us{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Lc(this._firestore,this._userDataWriter,s.key,s,new Al(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const p=new Lc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Al(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new Lc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Al(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:SI(g.type),doc:p,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Us._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function SI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}Us._jsonSchemaVersion="firestore/querySnapshot/1.0",Us._jsonSchema={type:Tt("string",Us._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class pg extends AI{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function wI(r){r=Vn(r,Fs);const e=Vn(r.firestore,Qr),n=lg(e),s=new pg(e);return jE(r._query),uI(n,r._query).then((l=>new Us(e,s,r,l)))}function RI(r,e,n){r=Vn(r,mt);const s=Vn(r.firestore,Qr),l=BE(r.converter,e);return Ih(s,[ME(Sh(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Mn.none())])}function qE(r,e,n,...s){r=Vn(r,mt);const l=Vn(r.firestore,Qr),c=Sh(l);let d;return d=typeof(e=kt(e))=="string"||e instanceof Ah?yI(c,"updateDoc",r._key,e,n,s):pI(c,"updateDoc",r._key,e),Ih(l,[d.toMutation(r._key,Mn.exists(!0))])}function yg(r){return Ih(Vn(r.firestore,Qr),[new Fm(r._key,Mn.none())])}function HE(r,e){const n=Vn(r.firestore,Qr),s=Kr(r),l=BE(r.converter,e);return Ih(n,[ME(Sh(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Mn.exists(!1))]).then((()=>s))}function GE(r,...e){r=kt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||cv(e[s])||(n=e[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(cv(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let c,d,g;if(r instanceof mt)d=Vn(r.firestore,Qr),g=Hm(r._key.path),c={next:p=>{e[s]&&e[s](II(d,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Vn(r,Fs);d=Vn(p.firestore,Qr),g=p._query;const y=new pg(d);c={next:T=>{e[s]&&e[s](new Us(d,y,p,T))},error:e[s+1],complete:e[s+2]},jE(r._query)}return(function(y,T,I,S){const z=new CE(S),F=new vE(T,z,I);return y.asyncQueue.enqueueAndForget((async()=>yE(await Em(y),F))),()=>{z.Nu(),y.asyncQueue.enqueueAndForget((async()=>_E(await Em(y),F)))}})(lg(d),g,l,c)}function Ih(r,e){return(function(s,l){const c=new Lr;return s.asyncQueue.enqueueAndForget((async()=>$5(await lI(s),l,c))),c.promise})(lg(r),e)}function II(r,e,n){const s=n.docs.get(e._key),l=new pg(r);return new Ps(r,l,e._key,s,new Al(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){so=l})(io),Ya(new js("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Qr(new _2(s.getProvider("auth-internal")),new T2(d,s.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ae(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(y.options.projectId,T)})(d,l),d);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Pr(m_,g_,e),Pr(m_,g_,"esm2020")})();function CI({title:r,titleId:e,...n},s){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?ee.createElement("title",{id:e},r):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const xI=ee.forwardRef(CI);function NI({title:r,titleId:e,...n},s){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?ee.createElement("title",{id:e},r):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const DI=ee.forwardRef(NI);function OI({title:r,titleId:e,...n},s){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?ee.createElement("title",{id:e},r):null,ee.createElement("path",{d:"M11.7 2.805a.75.75 0 0 1 .6 0A60.65 60.65 0 0 1 22.83 8.72a.75.75 0 0 1-.231 1.337 49.948 49.948 0 0 0-9.902 3.912l-.003.002c-.114.06-.227.119-.34.18a.75.75 0 0 1-.707 0A50.88 50.88 0 0 0 7.5 12.173v-.224c0-.131.067-.248.172-.311a54.615 54.615 0 0 1 4.653-2.52.75.75 0 0 0-.65-1.352 56.123 56.123 0 0 0-4.78 2.589 1.858 1.858 0 0 0-.859 1.228 49.803 49.803 0 0 0-4.634-1.527.75.75 0 0 1-.231-1.337A60.653 60.653 0 0 1 11.7 2.805Z"}),ee.createElement("path",{d:"M13.06 15.473a48.45 48.45 0 0 1 7.666-3.282c.134 1.414.22 2.843.255 4.284a.75.75 0 0 1-.46.711 47.87 47.87 0 0 0-8.105 4.342.75.75 0 0 1-.832 0 47.87 47.87 0 0 0-8.104-4.342.75.75 0 0 1-.461-.71c.035-1.442.121-2.87.255-4.286.921.304 1.83.634 2.726.99v1.27a1.5 1.5 0 0 0-.14 2.508c-.09.38-.222.753-.397 1.11.452.213.901.434 1.346.66a6.727 6.727 0 0 0 .551-1.607 1.5 1.5 0 0 0 .14-2.67v-.645a48.549 48.549 0 0 1 3.44 1.667 2.25 2.25 0 0 0 2.12 0Z"}),ee.createElement("path",{d:"M4.462 19.462c.42-.419.753-.89 1-1.395.453.214.902.435 1.347.662a6.742 6.742 0 0 1-1.286 1.794.75.75 0 0 1-1.06-1.06Z"}))}const VI=ee.forwardRef(OI);function MI({title:r,titleId:e,...n},s){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?ee.createElement("title",{id:e},r):null,ee.createElement("path",{fillRule:"evenodd",d:"M7.5 3.75A1.5 1.5 0 0 0 6 5.25v13.5a1.5 1.5 0 0 0 1.5 1.5h6a1.5 1.5 0 0 0 1.5-1.5V15a.75.75 0 0 1 1.5 0v3.75a3 3 0 0 1-3 3h-6a3 3 0 0 1-3-3V5.25a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3V9A.75.75 0 0 1 15 9V5.25a1.5 1.5 0 0 0-1.5-1.5h-6Zm10.72 4.72a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 1 1-1.06-1.06l1.72-1.72H9a.75.75 0 0 1 0-1.5h10.94l-1.72-1.72a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const kI=ee.forwardRef(MI);function PI({title:r,titleId:e,...n},s){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?ee.createElement("title",{id:e},r):null,ee.createElement("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1-1.06 1.06l-3.22-3.22V16.5a.75.75 0 0 1-1.5 0V4.81L8.03 8.03a.75.75 0 0 1-1.06-1.06l4.5-4.5ZM3 15.75a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const UI=ee.forwardRef(PI);function LI({title:r,titleId:e,...n},s){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?ee.createElement("title",{id:e},r):null,ee.createElement("path",{fillRule:"evenodd",d:"M3 2.25a.75.75 0 0 0 0 1.5v16.5h-.75a.75.75 0 0 0 0 1.5H15v-18a.75.75 0 0 0 0-1.5H3ZM6.75 19.5v-2.25a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.75.75h-3a.75.75 0 0 1-.75-.75ZM6 6.75A.75.75 0 0 1 6.75 6h.75a.75.75 0 0 1 0 1.5h-.75A.75.75 0 0 1 6 6.75ZM6.75 9a.75.75 0 0 0 0 1.5h.75a.75.75 0 0 0 0-1.5h-.75ZM6 12.75a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM10.5 6a.75.75 0 0 0 0 1.5h.75a.75.75 0 0 0 0-1.5h-.75Zm-.75 3.75A.75.75 0 0 1 10.5 9h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM10.5 12a.75.75 0 0 0 0 1.5h.75a.75.75 0 0 0 0-1.5h-.75ZM16.5 6.75v15h5.25a.75.75 0 0 0 0-1.5H21v-12a.75.75 0 0 0 0-1.5h-4.5Zm1.5 4.5a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Zm.75 2.25a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75v-.008a.75.75 0 0 0-.75-.75h-.008ZM18 17.25a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Z",clipRule:"evenodd"}))}const ja=ee.forwardRef(LI);function jI({title:r,titleId:e,...n},s){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?ee.createElement("title",{id:e},r):null,ee.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}const zI=ee.forwardRef(jI);function BI({title:r,titleId:e,...n},s){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?ee.createElement("title",{id:e},r):null,ee.createElement("path",{fillRule:"evenodd",d:"M4.848 2.771A49.144 49.144 0 0 1 12 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 0 1-3.476.383.39.39 0 0 0-.297.17l-2.755 4.133a.75.75 0 0 1-1.248 0l-2.755-4.133a.39.39 0 0 0-.297-.17 48.9 48.9 0 0 1-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97ZM6.75 8.25a.75.75 0 0 1 .75-.75h9a.75.75 0 0 1 0 1.5h-9a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H7.5Z",clipRule:"evenodd"}))}const qI=ee.forwardRef(BI);function HI({title:r,titleId:e,...n},s){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?ee.createElement("title",{id:e},r):null,ee.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const GI=ee.forwardRef(HI);function FI({title:r,titleId:e,...n},s){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?ee.createElement("title",{id:e},r):null,ee.createElement("path",{fillRule:"evenodd",d:"M7.502 6h7.128A3.375 3.375 0 0 1 18 9.375v9.375a3 3 0 0 0 3-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 0 0-.673-.05A3 3 0 0 0 15 1.5h-1.5a3 3 0 0 0-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6ZM13.5 3A1.5 1.5 0 0 0 12 4.5h4.5A1.5 1.5 0 0 0 15 3h-1.5Z",clipRule:"evenodd"}),ee.createElement("path",{fillRule:"evenodd",d:"M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V9.375ZM6 12a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V12Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM6 15a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V15Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM6 18a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V18Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const Sl=ee.forwardRef(FI);function KI({title:r,titleId:e,...n},s){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?ee.createElement("title",{id:e},r):null,ee.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm5.845 17.03a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06l-1.72 1.72V12a.75.75 0 0 0-1.5 0v4.19l-1.72-1.72a.75.75 0 0 0-1.06 1.06l3 3Z",clipRule:"evenodd"}),ee.createElement("path",{d:"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"}))}const QI=ee.forwardRef(KI);function XI({title:r,titleId:e,...n},s){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?ee.createElement("title",{id:e},r):null,ee.createElement("path",{fillRule:"evenodd",d:"M7.875 1.5C6.839 1.5 6 2.34 6 3.375v2.99c-.426.053-.851.11-1.274.174-1.454.218-2.476 1.483-2.476 2.917v6.294a3 3 0 0 0 3 3h.27l-.155 1.705A1.875 1.875 0 0 0 7.232 22.5h9.536a1.875 1.875 0 0 0 1.867-2.045l-.155-1.705h.27a3 3 0 0 0 3-3V9.456c0-1.434-1.022-2.7-2.476-2.917A48.716 48.716 0 0 0 18 6.366V3.375c0-1.036-.84-1.875-1.875-1.875h-8.25ZM16.5 6.205v-2.83A.375.375 0 0 0 16.125 3h-8.25a.375.375 0 0 0-.375.375v2.83a49.353 49.353 0 0 1 9 0Zm-.217 8.265c.178.018.317.16.333.337l.526 5.784a.375.375 0 0 1-.374.409H7.232a.375.375 0 0 1-.374-.409l.526-5.784a.373.373 0 0 1 .333-.337 41.741 41.741 0 0 1 8.566 0Zm.967-3.97a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H18a.75.75 0 0 1-.75-.75V10.5ZM15 9.75a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75V10.5a.75.75 0 0 0-.75-.75H15Z",clipRule:"evenodd"}))}const dv=ee.forwardRef(XI);function YI({title:r,titleId:e,...n},s){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?ee.createElement("title",{id:e},r):null,ee.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const ZI=ee.forwardRef(YI);function $I({title:r,titleId:e,...n},s){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?ee.createElement("title",{id:e},r):null,ee.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const jc=ee.forwardRef($I);function JI({title:r,titleId:e,...n},s){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?ee.createElement("title",{id:e},r):null,ee.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const WI=ee.forwardRef(JI);function e4({title:r,titleId:e,...n},s){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?ee.createElement("title",{id:e},r):null,ee.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z",clipRule:"evenodd"}),ee.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"}))}const bm=ee.forwardRef(e4);function t4({title:r,titleId:e,...n},s){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?ee.createElement("title",{id:e},r):null,ee.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))}const Am=ee.forwardRef(t4),n4=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyDbSF7gMYvbEqoZ9fRdfSO-GEVSwsT6RDQ",authDomain:"sisbiko.firebaseapp.com",projectId:"sisbiko",storageBucket:"sisbiko.firebasestorage.app",messagingSenderId:"234431614670",appId:"1:234431614670:web:6e90f091d82d77d294ca9f"},i4=typeof __app_id<"u"?__app_id:"default-app-id",FE=xv(n4),Vs=m2(FE),qn=hI(FE),Hn=`/artifacts/${i4}/public/data/`,KE="https://i.ibb.co/vCGXT29/Logo.png",r4="https://i.ibb.co/wFS5D4d/Logo-Sekolah.png",mv=({message:r})=>A.jsxs("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-90 flex flex-col items-center justify-center z-50 backdrop-blur-sm",children:[A.jsxs("div",{className:"flex items-center justify-center text-white text-5xl font-bold",children:[A.jsx("span",{className:"tracking-widest",children:"SISBIK"}),A.jsxs("div",{className:"relative h-12 w-12 mx-1 flex items-center justify-center",children:[A.jsxs("svg",{className:"animate-spin h-12 w-12 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),A.jsx("div",{className:"absolute h-3 w-3 bg-red-500 rounded-full"})]})]}),A.jsx("p",{className:"text-white text-lg mt-4",children:r})]});function s4(){const[r,e]=ee.useState(null),[n,s]=ee.useState(!1),[l,c]=ee.useState(!1),[d,g]=ee.useState(null),[p,y]=ee.useState(null),[T,I]=ee.useState(null),[S,z]=ee.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}});ee.useEffect(()=>{let W=()=>{};const ye=nw(Vs,Re=>{if(W(),e(Re),Re){const M=Kr(qn,`${Hn}users`,Re.uid);W=GE(M,w=>{if(w.exists()){const C=w.data();g(C.role),y(C.name)}else g("guest");s(!0)})}else g(null),y(null),s(!0)});return(async()=>{if(Vs.currentUser)s(!0);else try{typeof __initial_auth_token<"u"?await WS(Vs,__initial_auth_token):await i_(Vs)}catch(Re){console.error("Gagal autentikasi awal:",Re),s(!0)}})(),()=>{ye(),W()}},[]);const F=async()=>{c(!0);try{const W=r?.uid;if(W){const ye=Kr(qn,`${Hn}users`,W);await yg(ye)}await iw(Vs),g(null),y(null)}catch(W){console.error("Logout failed:",W),te("Gagal keluar, silakan coba lagi.","bg-red-500")}finally{setTimeout(()=>{c(!1),Vs.currentUser||i_(Vs).catch(W=>console.error("Gagal sign-in anonim otomatis:",W))},1500)}},te=(W,ye)=>{I({text:W,bgColor:ye}),setTimeout(()=>I(null),3e3)},G=(W,ye,he)=>{z({isOpen:!0,title:W,message:ye,onConfirm:he})},ue=()=>{S.onConfirm(),z({isOpen:!1,title:"",message:"",onConfirm:()=>{}})},fe=()=>{z({isOpen:!1,title:"",message:"",onConfirm:()=>{}})};return n?l?A.jsx(mv,{message:"Anda sedang keluar..."}):A.jsxs(A.Fragment,{children:[A.jsx(o4,{message:T}),A.jsx(l4,{confirmModal:S,onConfirm:ue,onCancel:fe}),r&&d&&d!=="guest"?A.jsx(a4,{user:r,userRole:d,userName:p,handleLogout:F,showMessage:te,showConfirmModal:G,isAuthReady:n}):A.jsx(d4,{showMessage:te,user:r})]}):A.jsx(mv,{message:"Mempersiapkan aplikasi..."})}const a4=({user:r,userRole:e,userName:n,handleLogout:s,showMessage:l,showConfirmModal:c,isAuthReady:d})=>{const[g,p]=ee.useState("dashboard"),[y,T]=ee.useState(!1),[I,S]=ee.useState([]),[z,F]=ee.useState([]),[te,G]=ee.useState([]),[ue,fe]=ee.useState([]),[W,ye]=ee.useState([]),[he,Re]=ee.useState([]);return ee.useEffect(()=>{if(!d||!r)return;const w=Object.entries({students:S,teachers:F,student_violations:G,student_achievements:fe,tata_tertib_violations:ye,attendance:Re}).map(([C,O])=>GE(bh(qn,`${Hn}${C}`),V=>{O(V.docs.map(P=>({id:P.id,...P.data()})))},V=>{console.error(`Error fetching ${C}:`,V)}));return()=>w.forEach(C=>C())},[r,d]),A.jsxs("div",{className:"flex min-h-screen bg-gray-50 font-sans",children:[A.jsx(u4,{userRole:e,setActiveMenu:p,activeMenu:g,handleLogout:s,isSidebarOpen:y,setIsSidebarOpen:T}),A.jsxs("div",{className:"flex-1 flex flex-col transition-all duration-300 ease-in-out md:ml-64",children:[A.jsx(c4,{setIsSidebarOpen:T,userRole:e,userName:n}),A.jsx("main",{className:"flex-1 p-4 sm:p-6 md:p-8 overflow-y-auto",children:h4(g,e,n,r,l,c,I,z,te,ue,W,he)}),A.jsx("footer",{className:"p-4 text-xs text-gray-400 text-left",children:"Copyright : harisvanjava@sman1Purwoasri - 2026"})]})]})},o4=({message:r})=>r?A.jsx("div",{className:`fixed top-5 right-5 p-4 rounded-lg shadow-xl text-white ${r.bgColor} z-50 transition-all duration-300`,children:r.text}):null,l4=({confirmModal:r,onConfirm:e,onCancel:n})=>r.isOpen?A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:A.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-sm",children:[A.jsx("h3",{className:"text-lg font-bold text-gray-800",children:r.title}),A.jsx("p",{className:"py-4 text-gray-600",children:r.message}),A.jsxs("div",{className:"flex justify-end space-x-4",children:[A.jsx("button",{onClick:n,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-semibold",children:"Batal"}),A.jsx("button",{onClick:e,className:"py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 font-semibold",children:"Hapus"})]})]})}):null,u4=({userRole:r,setActiveMenu:e,activeMenu:n,handleLogout:s,isSidebarOpen:l,setIsSidebarOpen:c})=>{const g={admin:[{name:"Dashboard",icon:A.jsx(ja,{className:"h-6 w-6"}),menuKey:"admin_dashboard"},{name:"Input Prestasi",icon:A.jsx(jc,{className:"h-6 w-6"}),menuKey:"input_prestasi_admin"},{name:"Input Pelanggaran",icon:A.jsx(Sl,{className:"h-6 w-6"}),menuKey:"input_pelanggaran_admin"},{name:"Data Tata Tertib",icon:A.jsx(ZI,{className:"h-6 w-6"}),menuKey:"tata_tertib"},{name:"Data Prestasi",icon:A.jsx(jc,{className:"h-6 w-6"}),menuKey:"data_prestasi_admin"},{name:"Database Siswa",icon:A.jsx(bm,{className:"h-6 w-6"}),menuKey:"database_siswa"},{name:"Database Guru",icon:A.jsx(Am,{className:"h-6 w-6"}),menuKey:"database_guru"},{name:"Rekap & Print",icon:A.jsx(dv,{className:"h-6 w-6"}),menuKey:"rekap_print"}],kepalasekolah:[{name:"Dashboard",icon:A.jsx(ja,{className:"h-6 w-6"}),menuKey:"kepalasekolah_dashboard"},{name:"Database Siswa",icon:A.jsx(bm,{className:"h-6 w-6"}),menuKey:"database_siswa_kepala"},{name:"Database Guru",icon:A.jsx(Am,{className:"h-6 w-6"}),menuKey:"database_guru_kepala"},{name:"Rekap & Print",icon:A.jsx(dv,{className:"h-6 w-6"}),menuKey:"rekap_print_kepala"}],guru:[{name:"Dashboard",icon:A.jsx(ja,{className:"h-6 w-6"}),menuKey:"guru_dashboard"},{name:"Input Pelanggaran",icon:A.jsx(Sl,{className:"h-6 w-6"}),menuKey:"input_pelanggaran"}],walikelas:[{name:"Dashboard",icon:A.jsx(ja,{className:"h-6 w-6"}),menuKey:"walikelas_dashboard"},{name:"Input Pelanggaran",icon:A.jsx(Sl,{className:"h-6 w-6"}),menuKey:"input_pelanggaran_walikelas"},{name:"Input Prestasi",icon:A.jsx(jc,{className:"h-6 w-6"}),menuKey:"input_prestasi"},{name:"Rekap Poin Kelas",icon:A.jsx(zI,{className:"h-6 w-6"}),menuKey:"rekap_kelas"}],gurubk:[{name:"Dashboard",icon:A.jsx(ja,{className:"h-6 w-6"}),menuKey:"gurubk_dashboard"},{name:"Konsultasi & Penanganan",icon:A.jsx(qI,{className:"h-6 w-6"}),menuKey:"konsultasi_penanganan"},{name:"Rekap Pelanggaran",icon:A.jsx(Sl,{className:"h-6 w-6"}),menuKey:"rekap_pelanggaran_bk"},{name:"Rekap Pembinaan",icon:A.jsx(VI,{className:"h-6 w-6"}),menuKey:"rekap_pembinaan_bk"}],gurupiket:[{name:"Dashboard",icon:A.jsx(ja,{className:"h-6 w-6"}),menuKey:"gurupiket_dashboard"},{name:"Absensi Siswa",icon:A.jsx(GI,{className:"h-6 w-6"}),menuKey:"absensi_siswa"}]}[r]||[];return A.jsxs(A.Fragment,{children:[l&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:()=>c(!1)}),A.jsxs("aside",{className:`fixed inset-y-0 left-0 w-64 bg-gray-800 text-white p-4 z-30 transform ${l?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out`,children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsxs("div",{className:"flex flex-col items-center w-full",children:[A.jsx("img",{src:r4,alt:"Logo SMAN 1 Purwoasri",className:"h-12"}),A.jsx("span",{className:"text-xs font-semibold mt-2 text-center text-gray-300",children:"Sistem Informasi Bimbingan Konseling"})]}),A.jsx("button",{className:"md:hidden text-gray-300 hover:text-white",onClick:()=>c(!1),children:A.jsx(DI,{className:"h-6 w-6"})})]}),A.jsx("nav",{children:A.jsxs("ul",{children:[g.map(p=>A.jsx("li",{className:"mb-2",children:A.jsxs("button",{onClick:()=>{e(p.menuKey),c(!1)},className:`flex items-center w-full p-3 rounded-lg transition-colors duration-200 ${n===p.menuKey?"bg-indigo-600 text-white shadow-lg":"hover:bg-gray-700 text-gray-300"}`,children:[p.icon,A.jsx("span",{className:"ml-4 font-medium",children:p.name})]})},p.menuKey)),A.jsx("li",{className:"absolute bottom-4 w-56",children:A.jsxs("button",{onClick:s,className:"flex items-center w-full p-3 text-red-400 rounded-lg transition-colors duration-200 hover:bg-red-500 hover:text-white",children:[A.jsx(kI,{className:"h-6 w-6"}),A.jsx("span",{className:"ml-4 font-medium",children:"Keluar"})]})})]})})]})]})},c4=({setIsSidebarOpen:r,userRole:e,userName:n})=>A.jsxs("header",{className:"bg-white shadow-sm p-4 flex items-center justify-between sticky top-0 z-10",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("button",{onClick:()=>r(!0),className:"md:hidden mr-4 text-gray-600",children:A.jsx(xI,{className:"h-6 w-6"})}),A.jsxs("h1",{className:"text-xl font-bold text-gray-800 capitalize",children:["Dashboard ",e]})]}),A.jsxs("div",{className:"flex items-center space-x-4",children:[A.jsxs("div",{className:"text-right",children:[A.jsx("p",{className:"font-semibold text-gray-700",children:n||"Pengguna"}),A.jsx("p",{className:"text-sm text-gray-500 capitalize",children:e})]}),A.jsx(WI,{className:"h-10 w-10 text-gray-400"})]})]}),h4=(r,e,n,s,l,c,d,g,p,y,T,I)=>{const S={showMessage:l,showConfirmModal:c,user:s,userRole:e,userName:n,allStudents:d,allTeachers:g,allViolations:p,allAchievements:y,allViolationRules:T,allAttendance:I},z={admin:{admin_dashboard:A.jsx(m4,{...S}),input_prestasi_admin:A.jsx(yv,{...S}),input_pelanggaran_admin:A.jsx(Xd,{...S}),tata_tertib:A.jsx(E4,{...S}),data_prestasi_admin:A.jsx(T4,{...S}),database_siswa:A.jsx(gv,{...S}),database_guru:A.jsx(pv,{...S}),rekap_print:A.jsx(_v,{...S})},kepalasekolah:{kepalasekolah_dashboard:A.jsx(g4,{...S}),database_siswa_kepala:A.jsx(gv,{...S,isReadOnly:!0}),database_guru_kepala:A.jsx(pv,{...S,isReadOnly:!0}),rekap_print_kepala:A.jsx(_v,{...S})},guru:{guru_dashboard:A.jsx(p4,{...S}),input_pelanggaran:A.jsx(Xd,{...S})},walikelas:{walikelas_dashboard:A.jsx(y4,{...S}),input_pelanggaran_walikelas:A.jsx(Xd,{...S}),input_prestasi:A.jsx(yv,{...S}),rekap_kelas:A.jsx(b4,{...S})},gurubk:{gurubk_dashboard:A.jsx(_4,{...S}),konsultasi_penanganan:A.jsx(A4,{...S}),rekap_pelanggaran_bk:A.jsx(S4,{...S}),rekap_pembinaan_bk:A.jsx(w4,{...S})},gurupiket:{gurupiket_dashboard:A.jsx(v4,{...S}),absensi_siswa:A.jsx(R4,{...S})}};return z[e]?.[r]||z[e]?.[`${e}_dashboard`]||A.jsx(Ks,{...S})},f4=({role:r,onLoginSuccess:e,onBack:n,showMessage:s})=>{const[l,c]=ee.useState(""),[d,g]=ee.useState(""),[p,y]=ee.useState(!1),T=async I=>{if(I.preventDefault(),y(!0),r==="admin"){setTimeout(l==="Admin"&&d==="Sman87654321*"?()=>{e("admin","Admin Utama")}:()=>{s("Username atau password salah.","bg-red-500"),y(!1)},500);return}const S=bh(qn,`${Hn}teachers`),z=bI(S,Qd("nip","==",l),Qd("password","==",d),Qd("role","==",r));try{const F=await wI(z);if(F.empty)s("NIP atau password salah, atau peran tidak sesuai.","bg-red-500");else{const te=F.docs[0].data(),G=r==="walikelas"&&te.class||null;e(r,te.name,G)}}catch(F){console.error("Error logging in: ",F),s("Terjadi kesalahan saat login.","bg-red-500")}finally{y(!1)}};return A.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 font-sans p-4",children:A.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md text-center transform transition-transform duration-300",children:[A.jsx("img",{src:KE,alt:"SISBIKO Logo",className:"h-20 mx-auto mb-6"}),A.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-2 capitalize",children:["Login ",r]}),A.jsx("p",{className:"text-gray-600 mb-8",children:r==="admin"?"Silakan masukkan kredensial Admin.":"Gunakan NIP sebagai username."}),A.jsxs("form",{onSubmit:T,className:"space-y-6 text-left",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r==="admin"?"Username":"NIP"}),A.jsx("input",{type:"text",value:l,onChange:I=>c(I.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),A.jsx("input",{type:"password",value:d,onChange:I=>g(I.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3",required:!0})]}),A.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 px-4 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition duration-300 disabled:bg-blue-300",children:p?"Memproses...":"Login"})]}),A.jsx("button",{onClick:n,disabled:p,className:"mt-6 text-sm text-gray-600 hover:text-gray-800 disabled:text-gray-400",children:"Kembali ke menu utama"})]})})},d4=({showMessage:r,user:e})=>{const[n,s]=ee.useState(null),l=async(c,d,g=null)=>{if(!e){r("Sesi autentikasi tidak ditemukan, silakan muat ulang halaman.","bg-red-500");return}const p=Kr(qn,`${Hn}users`,e.uid);try{await RI(p,{userId:e.uid,role:c,name:d,class:g})}catch(y){console.error("Gagal menetapkan peran pengguna: ",y),r("Gagal login, silakan coba lagi.","bg-red-500")}};return n?A.jsx(f4,{role:n,onLoginSuccess:l,onBack:()=>s(null),showMessage:r}):A.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 font-sans p-4",children:A.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md text-center transform hover:scale-105 transition-transform duration-300",children:[A.jsx("img",{src:KE,alt:"SISBIKO Logo",className:"h-40 mx-auto mb-6"}),A.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Selamat Datang di SISBIKO"}),A.jsxs("p",{className:"text-gray-600 mb-8 text-lg",children:[A.jsx("span",{className:"text-blue-600 font-bold",children:"S"}),"istem ",A.jsx("span",{className:"text-blue-600 font-bold",children:"I"}),"nforma",A.jsx("span",{className:"text-blue-600 font-bold",children:"s"}),"i dan ",A.jsx("span",{className:"text-blue-600 font-bold",children:"B"}),"imb",A.jsx("span",{className:"text-blue-600 font-bold",children:"i"}),"ngan ",A.jsx("span",{className:"text-blue-600 font-bold",children:"Ko"}),"nseling"]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx("button",{onClick:()=>s("admin"),className:"py-3 px-4 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition duration-300",children:"Admin"}),A.jsx("button",{onClick:()=>s("kepalasekolah"),className:"py-3 px-4 bg-red-600 text-white font-semibold rounded-lg shadow-md hover:bg-red-700 transition duration-300",children:"Kepala Sekolah"}),A.jsx("button",{onClick:()=>s("walikelas"),className:"py-3 px-4 bg-purple-600 text-white font-semibold rounded-lg shadow-md hover:bg-purple-700 transition duration-300",children:"Wali Kelas"}),A.jsx("button",{onClick:()=>s("guru"),className:"py-3 px-4 bg-green-600 text-white font-semibold rounded-lg shadow-md hover:bg-green-700 transition duration-300",children:"Guru"}),A.jsx("button",{onClick:()=>s("gurubk"),className:"py-3 px-4 bg-yellow-500 text-white font-semibold rounded-lg shadow-md hover:bg-yellow-600 transition duration-300",children:"Guru BK"}),A.jsx("button",{onClick:()=>s("gurupiket"),className:"py-3 px-4 bg-orange-500 text-white font-semibold rounded-lg shadow-md hover:bg-orange-600 transition duration-300",children:"Guru Piket"})]})]})})},Ks=({allStudents:r,allTeachers:e,allViolations:n,allAchievements:s,allViolationRules:l,userRole:c,userName:d})=>{const g=r.map(S=>{const z=n.filter(te=>te.studentId===S.id).reduce((te,G)=>te+(G.points||0),0),F=s.filter(te=>te.studentId===S.id).reduce((te,G)=>te+(G.points||0),0);return{...S,totalViolationPoints:z,totalAchievementPoints:F,netPoints:z-F}}),p=[...g].sort((S,z)=>z.netPoints-S.netPoints).slice(0,10);[...g].sort((S,z)=>z.totalAchievementPoints-S.totalAchievementPoints).slice(0,10);const y=n.reduce((S,z)=>{const F=l.find(te=>te.id===z.violationId);return F&&(S[F.description]=(S[F.description]||0)+1),S},{}),T=Object.entries(y).sort(([,S],[,z])=>z-S).slice(0,5),I=({title:S,value:z,icon:F,color:te})=>A.jsxs("div",{className:`bg-white p-5 rounded-xl shadow-md flex items-center justify-between border-l-4 ${te}`,children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-500 font-medium",children:S}),A.jsx("p",{className:"text-3xl font-bold text-gray-800",children:z})]}),A.jsx("div",{className:`p-3 rounded-full bg-opacity-20 ${te.replace("border","bg").replace("-500","-100")}`,children:Tb.cloneElement(F,{className:`h-8 w-8 ${te.replace("border","text")}`})})]});return A.jsxs("div",{className:"space-y-8",children:[A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[A.jsxs("h2",{className:"text-3xl font-bold text-gray-800",children:["Selamat Datang, ",d,"!"]}),A.jsx("p",{className:"text-gray-600 mt-1",children:"Ini adalah ringkasan aktivitas di sekolah Anda."})]}),c==="admin"&&A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[A.jsx(I,{title:"Jumlah Siswa",value:r.length,icon:A.jsx(bm,{}),color:"border-blue-500"}),A.jsx(I,{title:"Jumlah Guru",value:e.length,icon:A.jsx(Am,{}),color:"border-green-500"}),A.jsx(I,{title:"Total Pelanggaran",value:n.length,icon:A.jsx(Sl,{}),color:"border-red-500"}),A.jsx(I,{title:"Total Prestasi",value:s.length,icon:A.jsx(jc,{}),color:"border-yellow-500"})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[A.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-md",children:[A.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-700",children:"Peringkat Poin Pelanggaran Siswa"}),A.jsx("div",{className:"overflow-y-auto max-h-96",children:A.jsx("ul",{className:"divide-y divide-gray-200",children:p.map((S,z)=>A.jsxs("li",{className:"py-3 flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("span",{className:`flex-shrink-0 h-8 w-8 rounded-full ${z<3?"bg-red-500":"bg-gray-300"} text-white flex items-center justify-center font-bold text-sm`,children:z+1}),A.jsxs("div",{className:"ml-4",children:[A.jsx("p",{className:"font-semibold text-gray-800",children:S.name}),A.jsx("p",{className:"text-sm text-gray-500",children:S.class})]})]}),A.jsxs("span",{className:"text-red-500 font-bold text-lg",children:[S.netPoints," Poin"]})]},S.id))})})]}),A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[A.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-700",children:"Pelanggaran Terpopuler"}),A.jsx("ul",{className:"space-y-4",children:T.map(([S,z],F)=>A.jsxs("li",{children:[A.jsxs("div",{className:"flex justify-between mb-1",children:[A.jsx("span",{className:"text-sm font-medium text-gray-600 truncate",children:S}),A.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:[z," kali"]})]}),A.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:A.jsx("div",{className:"bg-indigo-500 h-2.5 rounded-full",style:{width:`${z/(T[0]?.[1]||1)*100}%`}})})]},F))})]})]})]})},m4=r=>A.jsx(Ks,{...r}),g4=r=>A.jsx(Ks,{...r}),p4=r=>A.jsx(Ks,{...r}),y4=r=>A.jsx(Ks,{...r}),_4=r=>A.jsx(Ks,{...r}),v4=r=>A.jsx(Ks,{...r}),gv=({allStudents:r,showMessage:e,showConfirmModal:n,isReadOnly:s=!1})=>{const[l,c]=ee.useState({name:"",nis:"",nisn:"",class:""}),[d,g]=ee.useState(null),[p,y]=ee.useState(""),T=["X-1","X-2","X-3","X-4","X-5","X-6","X-7","X-8","X-9","X-10","XI-SAINTEK 1","XI-SAINTEK 2","XI-SAINTEK 3","XI-SAINKES 1","XI-SAINKES 2","XI-SAINKES 3","XI-EKBIS 1","XI-EKBIS 2","XI-EKBIS 3","XI-HUM 1","XII-SAINTEK 1","XII-SAINTEK 2","XII-SAINTEK 3","XII-SAINKES 1","XII-SAINKES 2","XII-SAINKES 3","XII-EKBIS 1","XII-EKBIS 2","XII-EKBIS 3","XII-HUM 1"],I=W=>{const{name:ye,value:he}=W.target;c(Re=>({...Re,[ye]:he}))},S=W=>{g(W),c({name:W.name||"",nis:W.nis||"",nisn:W.nisn||"",class:W.class||""})},z=()=>{g(null),c({name:"",nis:"",nisn:"",class:""})},F=async W=>{if(W.preventDefault(),!l.name||!l.nisn||!l.nis||!l.class)return e("Semua kolom harus diisi.","bg-red-500");try{d?(await qE(Kr(qn,`${Hn}students`,d.id),l),e("Data siswa berhasil diperbarui!","bg-green-500")):(await HE(bh(qn,`${Hn}students`),l),e("Data siswa berhasil ditambahkan!","bg-green-500")),z()}catch(ye){console.error("Error saving student data: ",ye),e("Gagal menyimpan data siswa.","bg-red-500")}},te=W=>{n("Hapus Data Siswa","Apakah Anda yakin ingin menghapus data siswa ini? Tindakan ini tidak dapat dibatalkan.",async()=>{try{await yg(Kr(qn,`${Hn}students`,W)),e("Data siswa berhasil dihapus.","bg-green-500")}catch(ye){console.error("Error deleting student: ",ye),e("Gagal menghapus data siswa.","bg-red-500")}})},G=()=>{const ye=encodeURI(`data:text/csv;charset=utf-8,Nama,NIS,NISN,Kelas
`),he=document.createElement("a");he.setAttribute("href",ye),he.setAttribute("download","template_siswa.csv"),document.body.appendChild(he),he.click(),document.body.removeChild(he)},ue=W=>{const ye=W.target.files[0];ye&&e(`Fitur upload untuk file ${ye.name} sedang dalam pengembangan.`,"bg-blue-500")},fe=r.filter(W=>(W.name||"").toLowerCase().includes(p.toLowerCase())||(W.nis||"").includes(p)||(W.nisn||"").includes(p));return A.jsxs("div",{className:"space-y-6",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Database Siswa"}),!s&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[A.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-700",children:d?"Edit Data Siswa":"Tambah Siswa Baru (Manual)"}),A.jsxs("form",{onSubmit:F,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nama Lengkap"}),A.jsx("input",{type:"text",name:"name",value:l.name,onChange:I,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"nis",className:"block text-sm font-medium text-gray-700",children:"NIS"}),A.jsx("input",{type:"text",name:"nis",value:l.nis,onChange:I,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"nisn",className:"block text-sm font-medium text-gray-700",children:"NISN"}),A.jsx("input",{type:"text",name:"nisn",value:l.nisn,onChange:I,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"class",className:"block text-sm font-medium text-gray-700",children:"Kelas"}),A.jsxs("select",{name:"class",value:l.class,onChange:I,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 rounded-md",children:[A.jsx("option",{value:"",children:"-- Pilih Kelas --"}),T.map(W=>A.jsx("option",{value:W,children:W},W))]})]}),A.jsxs("div",{className:"md:col-span-2 flex items-center space-x-4",children:[A.jsx("button",{type:"submit",className:"py-2 px-6 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700",children:d?"Simpan Perubahan":"Tambah Siswa"}),d&&A.jsx("button",{type:"button",onClick:z,className:"py-2 px-6 bg-gray-300 text-gray-800 font-semibold rounded-lg hover:bg-gray-400",children:"Batal"})]})]})]}),A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[A.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Upload Data Siswa (Massal)"}),A.jsxs("div",{className:"flex items-center space-x-4",children:[A.jsxs("button",{onClick:G,className:"flex items-center py-2 px-4 bg-green-600 text-white font-semibold rounded-lg shadow-md hover:bg-green-700",children:[A.jsx(QI,{className:"h-5 w-5 mr-2"}),"Unduh Template"]}),A.jsxs("label",{className:"flex items-center py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 cursor-pointer",children:[A.jsx(UI,{className:"h-5 w-5 mr-2"}),"Upload File CSV",A.jsx("input",{type:"file",onChange:ue,accept:".csv",className:"hidden"})]})]})]})]}),A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[A.jsx("input",{type:"text",placeholder:"Cari siswa berdasarkan nama, NIS, atau NISN...",value:p,onChange:W=>y(W.target.value),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 mb-4"}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"NIS"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"NISN"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Kelas"}),!s&&A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:fe.map(W=>A.jsxs("tr",{children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:W.name}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:W.nis}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:W.nisn}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:W.class}),!s&&A.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-4",children:[A.jsx("button",{onClick:()=>S(W),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),A.jsx("button",{onClick:()=>te(W.id),className:"text-red-600 hover:text-red-900",children:"Hapus"})]})]},W.id))})]})})]})]})},pv=({allTeachers:r,showMessage:e,showConfirmModal:n,isReadOnly:s=!1})=>{const[l,c]=ee.useState({name:"",nip:"",role:"",password:""}),[d,g]=ee.useState(null),[p,y]=ee.useState(""),T=G=>{const{name:ue,value:fe}=G.target;c(W=>({...W,[ue]:fe}))},I=G=>{g(G),c({name:G.name||"",nip:G.nip||"",role:G.role||"",password:""})},S=()=>{g(null),c({name:"",nip:"",role:"",password:""})},z=async G=>{if(G.preventDefault(),!l.name||!l.nip||!l.role)return e("Nama, NIP, dan Peran harus diisi.","bg-red-500");if(!d&&!l.password)return e("Password harus diisi untuk guru baru.","bg-red-500");try{let ue={...l};d&&!l.password&&delete ue.password,d?(await qE(Kr(qn,`${Hn}teachers`,d.id),ue),e("Data guru berhasil diperbarui!","bg-green-500")):(await HE(bh(qn,`${Hn}teachers`),ue),e("Data guru berhasil ditambahkan!","bg-green-500")),S()}catch(ue){console.error("Error saving teacher data: ",ue),e("Gagal menyimpan data guru.","bg-red-500")}},F=G=>{n("Hapus Data Guru","Apakah Anda yakin ingin menghapus data guru ini?",async()=>{try{await yg(Kr(qn,`${Hn}teachers`,G)),e("Data guru berhasil dihapus.","bg-green-500")}catch(ue){console.error("Error deleting teacher: ",ue),e("Gagal menghapus data guru.","bg-red-500")}})},te=r.filter(G=>(G.name||"").toLowerCase().includes(p.toLowerCase())||(G.nip||"").toLowerCase().includes(p.toLowerCase()));return A.jsxs("div",{className:"space-y-6",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Database Guru"}),!s&&A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[A.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-700",children:d?"Edit Data Guru":"Tambah Guru Baru (Manual)"}),A.jsxs("form",{onSubmit:z,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"nip",className:"block text-sm font-medium text-gray-700",children:"NIP"}),A.jsx("input",{type:"text",id:"nip",name:"nip",value:l.nip,onChange:T,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nama Guru"}),A.jsx("input",{type:"text",id:"name",name:"name",value:l.name,onChange:T,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),A.jsx("input",{type:"password",id:"password",name:"password",value:l.password,onChange:T,placeholder:d?"Kosongkan jika tidak diubah":"",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Peran Sebagai"}),A.jsxs("select",{id:"role",name:"role",value:l.role,onChange:T,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 rounded-md",children:[A.jsx("option",{value:"",children:"-- Pilih Peran --"}),A.jsx("option",{value:"guru",children:"Guru"}),A.jsx("option",{value:"gurubk",children:"Guru BK"}),A.jsx("option",{value:"gurupiket",children:"Guru Piket"}),A.jsx("option",{value:"walikelas",children:"Wali Kelas"})]})]}),A.jsxs("div",{className:"md:col-span-2 flex items-center space-x-4",children:[A.jsx("button",{type:"submit",className:"py-2 px-6 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700",children:d?"Simpan Perubahan":"Tambah Guru"}),d&&A.jsx("button",{type:"button",onClick:S,className:"py-2 px-6 bg-gray-300 text-gray-800 font-semibold rounded-lg hover:bg-gray-400",children:"Batal"})]}),A.jsx("p",{className:"md:col-span-2 text-xs text-gray-500 mt-2",children:"**Penting**: Fitur password ini hanya untuk penyimpanan data. Sistem login saat ini tidak menggunakan password ini."})]})]}),A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[A.jsx("input",{type:"text",placeholder:"Cari guru berdasarkan nama atau NIP...",value:p,onChange:G=>y(G.target.value),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 mb-4"}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"NIP"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Jabatan"}),!s&&A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:te.map(G=>A.jsxs("tr",{children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:G.name}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.nip}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize",children:G.role}),!s&&A.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-4",children:[A.jsx("button",{onClick:()=>I(G),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),A.jsx("button",{onClick:()=>F(G.id),className:"text-red-600 hover:text-red-900",children:"Hapus"})]})]},G.id))})]})})]})]})},pi=({title:r})=>A.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:r}),A.jsx("p",{className:"mt-4 text-gray-600",children:"Komponen ini sedang dalam pengembangan."})]}),yv=r=>A.jsx(pi,{title:"Input Prestasi Siswa"}),Xd=r=>A.jsx(pi,{title:"Input Pelanggaran/Kejadian"}),E4=r=>A.jsx(pi,{title:"Data Tata Tertib Pelanggaran"}),T4=r=>A.jsx(pi,{title:"Data Prestasi Siswa"}),_v=r=>A.jsx(pi,{title:"Rekap & Print"}),b4=r=>A.jsx(pi,{title:"Rekap Poin Kelas"}),A4=r=>A.jsx(pi,{title:"Konsultasi dan Penanganan"}),S4=r=>A.jsx(pi,{title:"Rekapitulasi Pelanggaran"}),w4=r=>A.jsx(pi,{title:"Rekapitulasi Pembinaan"}),R4=r=>A.jsx(pi,{title:"Absensi Siswa"});Cb.createRoot(document.getElementById("root")).render(A.jsx(ee.StrictMode,{children:A.jsx(s4,{})}));
